"use strict";(self.webpackChunktask_app=self.webpackChunktask_app||[]).push([[179],{218:()=>{function Ae(t){return"function"==typeof t}function xu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Id=xu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ss(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof Id?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{iS(o)}catch(s){e=e??[],s instanceof Id?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Id(e)}}add(e){var n;if(e&&e!==this)if(this.closed)iS(e);else{if(e instanceof Pn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ss(n,e)}remove(e){const{_finalizers:n}=this;n&&Ss(n,e),e instanceof Pn&&e._removeParent(this)}}Pn.EMPTY=(()=>{const t=new Pn;return t.closed=!0,t})();const nS=Pn.EMPTY;function rS(t){return t instanceof Pn||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function iS(t){Ae(t)?t():t.unsubscribe()}const Eo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cd={setTimeout(t,e,...n){const{delegate:r}=Cd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oS(t){Cd.setTimeout(()=>{const{onUnhandledError:e}=Eo;if(!e)throw t;e(t)})}function sS(){}const mj=tm("C",void 0,void 0);function tm(t,e,n){return{kind:t,value:e,error:n}}let Do=null;function Ed(t){if(Eo.useDeprecatedSynchronousErrorHandling){const e=!Do;if(e&&(Do={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Do;if(Do=null,n)throw r}}else t()}class nm extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rS(e)&&e.add(this)):this.destination=Ej}static create(e,n,r){return new Pu(e,n,r)}next(e){this.isStopped?im(function _j(t){return tm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?im(function yj(t){return tm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?im(mj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wj=Function.prototype.bind;function rm(t,e){return wj.call(t,e)}class Ij{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dd(r)}else Dd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dd(n)}}}class Pu extends nm{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Eo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rm(e.next,o),error:e.error&&rm(e.error,o),complete:e.complete&&rm(e.complete,o)}):i=e}this.destination=new Ij(i)}}function Dd(t){Eo.useDeprecatedSynchronousErrorHandling?function vj(t){Eo.useDeprecatedSynchronousErrorHandling&&Do&&(Do.errorThrown=!0,Do.error=t)}(t):oS(t)}function im(t,e){const{onStoppedNotification:n}=Eo;n&&Cd.setTimeout(()=>n(t,e))}const Ej={closed:!0,next:sS,error:function Cj(t){throw t},complete:sS},om="function"==typeof Symbol&&Symbol.observable||"@@observable";function bo(t){return t}function aS(t){return 0===t.length?bo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let We=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Tj(t){return t&&t instanceof nm||function bj(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&rS(t)}(n)?n:new Pu(n,r,i);return Ed(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=uS(r))((i,o)=>{const s=new Pu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[om](){return this}pipe(...n){return aS(n)(this)}toPromise(n){return new(n=uS(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function uS(t){var e;return null!==(e=t??Eo.Promise)&&void 0!==e?e:Promise}const Sj=xu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Jr=(()=>{class t extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new cS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sj}next(n){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?nS:(this.currentObservers=null,o.push(n),new Pn(()=>{this.currentObservers=null,Ss(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new We;return n.source=this,n}}return t.create=(e,n)=>new cS(e,n),t})();class cS extends Jr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:nS}}function lS(t){return Ae(t?.lift)}function Et(t){return e=>{if(lS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(t,e,n,r,i){return new Aj(t,e,n,r,i)}class Aj extends nm{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return Et((n,r)=>{let i=0;n.subscribe(yt(r,o=>{r.next(t.call(e,o,i++))}))})}function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function pS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function cm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function mS(t){return Ae(t?.then)}function yS(t){return Ae(t[om])}function _S(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function vS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wS=function Qj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function IS(t){return Ae(t?.[wS])}function CS(t){return function fS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Oi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Oi(n.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{n.releaseLock()}})}function ES(t){return Ae(t?.getReader)}function qn(t){if(t instanceof We)return t;if(null!=t){if(yS(t))return function Yj(t){return new We(e=>{const n=t[om]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(gS(t))return function Jj(t){return new We(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(mS(t))return function Xj(t){return new We(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oS)})}(t);if(_S(t))return DS(t);if(IS(t))return function Zj(t){return new We(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ES(t))return function e4(t){return DS(CS(t))}(t)}throw vS(t)}function DS(t){return new We(e=>{(function t4(t,e){var n,r,i,o;return function dS(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Xr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function kt(t,e,n=1/0){return Ae(e)?kt((r,i)=>le((o,s)=>e(r,o,i,s))(qn(t(r,i))),n):("number"==typeof e&&(n=e),Et((r,i)=>function n4(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let y=!1;qn(n(m,l++)).subscribe(yt(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();s?Xr(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(yt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function As(t=1/0){return kt(bo,t)}const Er=new We(t=>t.complete());function lm(t){return t[t.length-1]}function bS(t){return Ae(lm(t))?t.pop():void 0}function Ru(t){return function i4(t){return t&&Ae(t.schedule)}(lm(t))?t.pop():void 0}function Td(t,e=0){return Et((n,r)=>{n.subscribe(yt(r,i=>Xr(r,t,()=>r.next(i),e),()=>Xr(r,t,()=>r.complete(),e),i=>Xr(r,t,()=>r.error(i),e)))})}function Sd(t,e=0){return Et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function TS(t,e){if(!t)throw new Error("Iterable cannot be null");return new We(n=>{Xr(n,e,()=>{const r=t[Symbol.asyncIterator]();Xr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lt(t,e){return e?function d4(t,e){if(null!=t){if(yS(t))return function s4(t,e){return qn(t).pipe(Sd(e),Td(e))}(t,e);if(gS(t))return function u4(t,e){return new We(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(mS(t))return function a4(t,e){return qn(t).pipe(Sd(e),Td(e))}(t,e);if(_S(t))return TS(t,e);if(IS(t))return function c4(t,e){return new We(n=>{let r;return Xr(n,e,()=>{r=t[wS](),Xr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(ES(t))return function l4(t,e){return TS(CS(t),e)}(t,e)}throw vS(t)}(t,e):qn(t)}function dm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Pu({next:()=>{r.unsubscribe(),t()}});return qn(e(...n)).subscribe(r)}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function hm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function fm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p4=Se({__forward_ref__:Se});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return Me(this())},t}function K(t){return pm(t)?t():t}function pm(t){return"function"==typeof t&&t.hasOwnProperty(p4)&&t.__forward_ref__===xe}function gm(t){return t&&!!t.\u0275providers}const SS="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(Ad(e,n)),this.code=e}}function Ad(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Md(t,e){throw new S(-201,!1)}function Wn(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function xd(t){return AS(t,Pd)||AS(t,xS)}function AS(t,e){return t.hasOwnProperty(e)?t[e]:null}function MS(t){return t&&(t.hasOwnProperty(mm)||t.hasOwnProperty(C4))?t[mm]:null}const Pd=Se({\u0275prov:Se}),mm=Se({\u0275inj:Se}),xS=Se({ngInjectableDef:Se}),C4=Se({ngInjectorDef:Se});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let ym;function Kn(t){const e=ym;return ym=t,e}function PS(t,e,n){const r=xd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Q.Optional?null:void 0!==e?e:void Md(Me(t))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ku={},_m="__NG_DI_FLAG__",Rd="ngTempTokenPath",D4="ngTokenPath",b4=/\n/gm,T4="\u0275",RS="__source";let Nu;function Ms(t){const e=Nu;return Nu=t,e}function S4(t,e=Q.Default){if(void 0===Nu)throw new S(-203,!1);return null===Nu?PS(t,void 0,e):Nu.get(t,e&Q.Optional?null:void 0,e)}function $(t,e=Q.Default){return(function E4(){return ym}()||S4)(K(t),e)}function de(t,e=Q.Default){return $(t,kd(e))}function kd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vm(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){const a=r[s],u=A4(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function Ou(t,e){return t[_m]=e,t.prototype[_m]=e,t}function A4(t){return t[_m]}function Zr(t){return{toString:t}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),br=(()=>{return(t=br||(br={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",br;var t})();const ei={},ve=[],Nd=Se({\u0275cmp:Se}),wm=Se({\u0275dir:Se}),Im=Se({\u0275pipe:Se}),NS=Se({\u0275mod:Se}),ti=Se({\u0275fac:Se}),Fu=Se({__NG_ELEMENT_ID__:Se});let P4=0;function Li(t){return Zr(()=>{const e=FS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,id:"c"+P4++,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null};LS(n);const r=t.dependencies;return n.directiveDefs=Od(r,!1),n.pipeDefs=Od(r,!0),n})}function k4(t){return Ce(t)||qt(t)}function N4(t){return null!==t}function kn(t){return Zr(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function OS(t,e){if(null==t)return ei;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function J(t){return Zr(()=>{const e=FS(t);return LS(e),e})}function wn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ce(t){return t[Nd]||null}function qt(t){return t[wm]||null}function In(t){return t[Im]||null}function Nn(t,e){const n=t[NS]||null;if(!n&&!0===e)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return n}function FS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OS(t.inputs,e),outputs:OS(t.outputs)}}function LS(t){t.features?.forEach(e=>e(t))}function Od(t,e){if(!t)return null;const n=e?In:k4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(N4)}const ni=0,F=1,oe=2,Ke=3,or=4,To=5,Wt=6,Ps=7,rt=8,Fd=9,Ld=10,ae=11,Cm=12,Lu=13,VS=14,Rs=15,Kt=16,Vu=17,ks=18,Tr=19,Uu=20,US=21,Oe=22,Em=1,BS=2,Vd=7,Ud=8,Ns=9,un=10;function On(t){return Array.isArray(t)&&"object"==typeof t[Em]}function sr(t){return Array.isArray(t)&&!0===t[Em]}function Dm(t){return 0!=(4&t.flags)}function Bu(t){return t.componentOffset>-1}function Bd(t){return 1==(1&t.flags)}function ar(t){return!!t.template}function F4(t){return 0!=(256&t[oe])}function So(t,e){return t.hasOwnProperty(ti)?t[ti]:null}class U4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qn(){return HS}function HS(t){return t.type.prototype.ngOnChanges&&(t.setInput=$4),B4}function B4(){const t=GS(this),e=t?.current;if(e){const n=t.previous;if(n===ei)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $4(t,e,n,r){const i=this.declaredInputs[n],o=GS(t)||function j4(t,e){return t[zS]=e}(t,{previous:ei,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new U4(u&&u.currentValue,e,a===ei),t[r]=e}Qn.ngInherit=!0;const zS="__ngSimpleChanges__";function GS(t){return t[zS]||null}const Yn=function(t,e,n){};function Nt(t){for(;Array.isArray(t);)t=t[ni];return t}function $d(t,e){return Nt(e[t])}function Fn(t,e){return Nt(e[t.index])}function KS(t,e){return t.data[e]}function Os(t,e){return t[e]}function Cn(t,e){const n=e[t];return On(n)?n:n[ni]}function jd(t){return 64==(64&t[oe])}function Vi(t,e){return null==e?null:t[e]}function QS(t){t[ks]=0}function Tm(t,e){t[To]+=e;let n=t,r=t[Ke];for(;null!==r&&(1===e&&1===n[To]||-1===e&&0===n[To]);)r[To]+=e,n=r,r=r[Ke]}const te={lFrame:oA(null),bindingsEnabled:!0};function JS(){return te.bindingsEnabled}function E(){return te.lFrame.lView}function ge(){return te.lFrame.tView}function Fs(t){return te.lFrame.contextLView=t,t[rt]}function Ls(t){return te.lFrame.contextLView=null,t}function Ot(){let t=XS();for(;null!==t&&64===t.type;)t=t.parent;return t}function XS(){return te.lFrame.currentTNode}function Sr(t,e){const n=te.lFrame;n.currentTNode=t,n.isParent=e}function Sm(){return te.lFrame.isParent}function Vs(){return te.lFrame.bindingIndex++}function tH(t,e){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mm(e)}function Mm(t){te.lFrame.currentDirectiveIndex=t}function Pm(t){te.lFrame.currentQueryIndex=t}function rH(t){const e=t[F];return 2===e.type?e.declTNode:1===e.type?t[Wt]:null}function rA(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Q.Host||(i=rH(o),null===i||(o=o[Rs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=te.lFrame=iA();return r.currentTNode=e,r.lView=t,!0}function Rm(t){const e=iA(),n=t[F];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iA(){const t=te.lFrame,e=null===t?null:t.child;return null===e?oA(t):e}function oA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function sA(){const t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const aA=sA;function km(){const t=sA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(){return te.lFrame.selectedIndex}function Ao(t){te.lFrame.selectedIndex=t}function He(){const t=te.lFrame;return KS(t.tView,t.selectedIndex)}function Hd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function zd(t,e,n){uA(t,e,3,n)}function Gd(t,e,n,r){(3&t[oe])===n&&uA(t,e,n,r)}function Nm(t,e){let n=t[oe];(3&n)===e&&(n&=2047,n+=1,t[oe]=n)}function uA(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ks]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ks]+=65536),(a<o||-1==o)&&(hH(t,n,e,u),t[ks]=(4294901760&t[ks])+u+2),u++}function hH(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[oe]>>11<t[ks]>>16&&(3&t[oe])===e){t[oe]+=2048,Yn(4,a,o);try{o.call(a)}finally{Yn(5,a,o)}}}else{Yn(4,a,o);try{o.call(a)}finally{Yn(5,a,o)}}}const Us=-1;class ju{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];lA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cA(t){return 3===t||4===t||6===t}function lA(t){return 64===t.charCodeAt(0)}function Hu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||dA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function dA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function hA(t){return t!==Us}function qd(t){return 32767&t}function Wd(t,e){let n=function mH(t){return t>>16}(t),r=e;for(;n>0;)r=r[Rs],n--;return r}let Lm=!0;function Kd(t){const e=Lm;return Lm=t,e}const fA=255,pA=5;let yH=0;const Ar={};function Qd(t,e){const n=gA(t,e);if(-1!==n)return n;const r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,Vm(r.data,t),Vm(e,null),Vm(r.blueprint,null));const i=Um(t,e),o=t.injectorIndex;if(hA(i)){const s=qd(i),a=Wd(i,e),u=a[F].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Vm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Um(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=CA(i),null===r)return Us;if(n++,i=i[Rs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Us}function Bm(t,e,n){!function _H(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fu)&&(r=n[Fu]),null==r&&(r=n[Fu]=yH++);const i=r&fA;e.data[t+(i>>pA)]|=1<<i}(t,e,n)}function mA(t,e,n){if(n&Q.Optional||void 0!==t)return t;Md()}function yA(t,e,n,r){if(n&Q.Optional&&void 0===r&&(r=null),!(n&(Q.Self|Q.Host))){const i=t[Fd],o=Kn(void 0);try{return i?i.get(e,r,n&Q.Optional):PS(e,r,n&Q.Optional)}finally{Kn(o)}}return mA(r,0,n)}function _A(t,e,n,r=Q.Default,i){if(null!==t){if(1024&e[oe]){const s=function EH(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&1024&s[oe]&&!(256&s[oe]);){const a=vA(o,s,n,r|Q.Self,Ar);if(a!==Ar)return a;let u=o.parent;if(!u){const c=s[US];if(c){const l=c.get(n,Ar,r);if(l!==Ar)return l}u=CA(s),s=s[Rs]}o=u}return i}(t,e,n,r,Ar);if(s!==Ar)return s}const o=vA(t,e,n,r,Ar);if(o!==Ar)return o}return yA(e,n,r,i)}function vA(t,e,n,r,i){const o=function IH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fu)?t[Fu]:void 0;return"number"==typeof e?e>=0?e&fA:CH:e}(n);if("function"==typeof o){if(!rA(e,t,r))return r&Q.Host?mA(i,0,r):yA(e,n,r,i);try{const s=o(r);if(null!=s||r&Q.Optional)return s;Md()}finally{aA()}}else if("number"==typeof o){let s=null,a=gA(t,e),u=Us,c=r&Q.Host?e[Kt][Wt]:null;for((-1===a||r&Q.SkipSelf)&&(u=-1===a?Um(t,e):e[a+8],u!==Us&&IA(r,!1)?(s=e[F],a=qd(u),e=Wd(u,e)):a=-1);-1!==a;){const l=e[F];if(wA(o,a,l.data)){const d=wH(a,e,n,s,r,c);if(d!==Ar)return d}u=e[a+8],u!==Us&&IA(r,e[F].data[a+8]===c)&&wA(o,a,e)?(s=l,a=qd(u),e=Wd(u,e)):a=-1}}return i}function wH(t,e,n,r,i,o){const s=e[F],a=s.data[t+8],l=function Yd(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&ar(f)&&f.type===n)return u}return null}(a,s,n,null==r?Bu(a)&&Lm:r!=s&&0!=(3&a.type),i&Q.Host&&o===a);return null!==l?Mo(e,s,l,a):Ar}function Mo(t,e,n,r){let i=t[n];const o=e.data;if(function fH(t){return t instanceof ju}(i)){const s=i;s.resolving&&function g4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(o[n]));const a=Kd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Kn(s.injectImpl):null;rA(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function dH(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=HS(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&Kn(u),Kd(a),s.resolving=!1,aA()}}return i}function wA(t,e,n){return!!(n[e+(t>>pA)]&1<<t)}function IA(t,e){return!(t&Q.Self||t&Q.Host&&e)}class Bs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _A(this._tNode,this._lView,e,kd(r),n)}}function CH(){return new Bs(Ot(),E())}function Ft(t){return Zr(()=>{const e=t.prototype.constructor,n=e[ti]||$m(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ti]||$m(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $m(t){return pm(t)?()=>{const e=$m(K(t));return e&&e()}:So(t)}function CA(t){const e=t[F],n=e.type;return 2===n?e.declTNode:1===n?t[Wt]:null}const js="__parameters__";function zs(t,e,n){return Zr(()=>{const r=function jm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(js)?u[js]:Object.defineProperty(u,js,{value:[]})[js];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xo(t,e){t.forEach(n=>Array.isArray(n)?xo(n,e):e(n))}function DA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ln(t,e,n){let r=Gs(t,e);return r>=0?t[1|r]=n:(r=~r,function SH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function zm(t,e){const n=Gs(t,e);if(n>=0)return t[1|n]}function Gs(t,e){return function bA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Qt=Ou(zs("Optional"),8),Wu=Ou(zs("SkipSelf"),4);var En=(()=>((En=En||{})[En.Important=1]="Important",En[En.DashCase=2]="DashCase",En))();const Ym=new Map;let QH=0;const Xm="__ngContext__";function Yt(t,e){On(e)?(t[Xm]=e[Uu],function JH(t){Ym.set(t[Uu],t)}(e)):t[Xm]=e}let Zm;function ey(t,e){return Zm(t,e)}function Ju(t){const e=t[Ke];return sr(e)?e[Ke]:e}function ty(t){return GA(t[Lu])}function ny(t){return GA(t[or])}function GA(t){for(;null!==t&&!sr(t);)t=t[or];return t}function Ws(t,e,n,r,i){if(null!=r){let o,s=!1;sr(r)?o=r:On(r)&&(s=!0,r=r[ni]);const a=Nt(r);0===t&&null!==n?null==i?JA(e,n,a):Po(e,n,a,i||null,!0):1===t&&null!==n?Po(e,n,a,i||null,!0):2===t?function cy(t,e,n){const r=nh(t,e);r&&function yz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function wz(t,e,n,r,i){const o=n[Vd];o!==Nt(n)&&Ws(e,t,r,o,i);for(let a=un;a<n.length;a++){const u=n[a];Xu(u[F],u,t,e,r,o)}}(e,t,o,n,i)}}function iy(t,e,n){return t.createElement(e,n)}function WA(t,e){const n=t[Ns],r=n.indexOf(e),i=e[Ke];512&e[oe]&&(e[oe]&=-513,Tm(i,-1)),n.splice(r,1)}function oy(t,e){if(t.length<=un)return;const n=un+e,r=t[n];if(r){const i=r[Vu];null!==i&&i!==t&&WA(i,r),e>0&&(t[n-1][or]=r[or]);const o=Xd(t,un+e);!function cz(t,e){Xu(t,e,e[ae],2,null,null),e[ni]=null,e[Wt]=null}(r[F],r);const s=o[Tr];null!==s&&s.detachView(o[F]),r[Ke]=null,r[or]=null,r[oe]&=-65}return r}function KA(t,e){if(!(128&e[oe])){const n=e[ae];n.destroyNode&&Xu(t,e,n,3,null,null),function hz(t){let e=t[Lu];if(!e)return sy(t[F],t);for(;e;){let n=null;if(On(e))n=e[Lu];else{const r=e[un];r&&(n=r)}if(!n){for(;e&&!e[or]&&e!==t;)On(e)&&sy(e[F],e),e=e[Ke];null===e&&(e=t),On(e)&&sy(e[F],e),n=e&&e[or]}e=n}}(e)}}function sy(t,e){if(!(128&e[oe])){e[oe]&=-65,e[oe]|=128,function mz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ju)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Yn(4,a,u);try{u.call(a)}finally{Yn(5,a,u)}}else{Yn(4,i,o);try{o.call(i)}finally{Yn(5,i,o)}}}}}(t,e),function gz(t,e){const n=t.cleanup,r=e[Ps];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[Ps]=null}}(t,e),1===e[F].type&&e[ae].destroy();const n=e[Vu];if(null!==n&&sr(e[Ke])){n!==e[Ke]&&WA(n,e);const r=e[Tr];null!==r&&r.detachView(t)}!function XH(t){Ym.delete(t[Uu])}(e)}}function QA(t,e,n){return function YA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ni];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===br.None||o===br.Emulated)return null}return Fn(r,n)}}(t,e.parent,n)}function Po(t,e,n,r,i){t.insertBefore(e,n,r,i)}function JA(t,e,n){t.appendChild(e,n)}function XA(t,e,n,r,i){null!==r?Po(t,e,n,r,i):JA(t,e,n)}function nh(t,e){return t.parentNode(e)}let ay,hy,sh,tM=function eM(t,e,n){return 40&t.type?Fn(t,n):null};function rh(t,e,n,r){const i=QA(t,r,e),o=e[ae],a=function ZA(t,e,n){return tM(t,e,n)}(r.parent||e[Wt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)XA(o,i,n[u],a,!1);else XA(o,i,n,a,!1);void 0!==ay&&ay(o,r,e,n,i)}function ih(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return uy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ih(t,r);{const i=t[e.index];return sr(i)?uy(-1,i):Nt(i)}}if(32&n)return ey(e,t)()||Nt(t[e.index]);{const r=rM(t,e);return null!==r?Array.isArray(r)?r[0]:ih(Ju(t[Kt]),r):ih(t,e.next)}}return null}function rM(t,e){return null!==e?t[Kt][Wt].projection[e.projection]:null}function uy(t,e){const n=un+t+1;if(n<e.length){const r=e[n],i=r[F].firstChild;if(null!==i)return ih(r,i)}return e[Vd]}function ly(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Yt(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)ly(t,e,n.child,r,i,o,!1),Ws(e,t,i,a,o);else if(32&u){const c=ey(n,r);let l;for(;l=c();)Ws(e,t,i,l,o);Ws(e,t,i,a,o)}else 16&u?iM(t,e,r,n,i,o):Ws(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Xu(t,e,n,r,i,o){ly(n,r,t.firstChild,e,i,o,!1)}function iM(t,e,n,r,i,o){const s=n[Kt],u=s[Wt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ws(e,t,i,u[c],o);else ly(t,e,u,s[Ke],i,o,!0)}function oM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sM(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Fm(t,e,r),null!==i&&oM(t,e,i),null!==o&&function Cz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function lM(t){return function fy(){if(void 0===sh&&(sh=null,Ne.trustedTypes))try{sh=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sh}()?.createScriptURL(t)||t}class dM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SS})`}}function Ui(t){return t instanceof dM?t.changingThisBreaksApplicationSecurity:t}function Zu(t,e){const n=function Rz(t){return t instanceof dM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${SS})`)}return n===e}const Fz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dt=(()=>((dt=dt||{})[dt.NONE=0]="NONE",dt[dt.HTML=1]="HTML",dt[dt.STYLE=2]="STYLE",dt[dt.SCRIPT=3]="SCRIPT",dt[dt.URL=4]="URL",dt[dt.RESOURCE_URL=5]="RESOURCE_URL",dt))();function _M(t){const e=tc();return e?e.sanitize(dt.URL,t)||"":Zu(t,"URL")?Ui(t):function py(t){return(t=String(t)).match(Fz)?t:"unsafe:"+t}(ee(t))}function vM(t){const e=tc();if(e)return lM(e.sanitize(dt.RESOURCE_URL,t)||"");if(Zu(t,"ResourceURL"))return lM(Ui(t));throw new S(904,!1)}function tc(){const t=E();return t&&t[Cm]}const uh=new U("ENVIRONMENT_INITIALIZER"),IM=new U("INJECTOR",-1),CM=new U("INJECTOR_DEF_TYPES");class EM{get(e,n=ku){if(n===ku){const r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return n}}function Qz(...t){return{\u0275providers:DM(0,t),\u0275fromNgModule:!0}}function DM(t,...e){const n=[],r=new Set;let i;return xo(e,o=>{const s=o;_y(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&bM(i,n),n}function bM(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];vy(i,o=>{e.push(o)})}}function _y(t,e,n,r){if(!(t=K(t)))return!1;let i=null,o=MS(t);const s=!o&&Ce(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=MS(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)_y(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{xo(o.imports,l=>{_y(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&bM(c,e)}if(!a){const c=So(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:CM,useValue:i,multi:!0},{provide:uh,useValue:()=>$(i),multi:!0})}const u=o.providers;null==u||a||vy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function vy(t,e){for(let n of t)gm(n)&&(n=n.\u0275providers),Array.isArray(n)?vy(n,e):e(n)}const Yz=Se({provide:String,useValue:Se});function wy(t){return null!==t&&"object"==typeof t&&Yz in t}function Ro(t){return"function"==typeof t}const Iy=new U("Set Injector scope."),ch={},Xz={};let Cy;function lh(){return void 0===Cy&&(Cy=new EM),Cy}class si{}class AM extends si{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dy(e,s=>this.processProvider(s)),this.records.set(IM,Qs(void 0,this)),i.has("environment")&&this.records.set(si,Qs(void 0,this));const o=this.records.get(Iy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CM.multi,ve,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ms(this),r=Kn(void 0);try{return e()}finally{Ms(n),Kn(r)}}get(e,n=ku,r=Q.Default){this.assertNotDestroyed(),r=kd(r);const i=Ms(this),o=Kn(void 0);try{if(!(r&Q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function r3(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&xd(e);a=u&&this.injectableDefInScope(u)?Qs(Ey(e),ch):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Q.Self?lh():this.parent).get(e,n=r&Q.Optional&&n===ku?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Rd]=s[Rd]||[]).unshift(Me(e)),i)throw s;return function M4(t,e,n,r){const i=t[Rd];throw e[RS]&&i.unshift(e[RS]),t.message=function x4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==T4?t.slice(2):t;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(b4,"\n  ")}`}("\n"+t.message,i,n,r),t[D4]=i,t[Rd]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Kn(o),Ms(i)}}resolveInjectorInitializers(){const e=Ms(this),n=Kn(void 0);try{const r=this.get(uh.multi,ve,Q.Self);for(const i of r)i()}finally{Ms(e),Kn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Ro(e=K(e))?e:K(e&&e.provide);const r=function e3(t){return wy(t)?Qs(void 0,t.useValue):Qs(MM(t),ch)}(e);if(Ro(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Qs(void 0,ch,!0),i.factory=()=>vm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ch&&(n.value=Xz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function n3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ey(t){const e=xd(t),n=null!==e?e.factory:So(t);if(null!==n)return n;if(t instanceof U)throw new S(204,!1);if(t instanceof Function)return function Zz(t){const e=t.length;if(e>0)throw function qu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function I4(t){return t&&(t[Pd]||t[xS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function MM(t,e,n){let r;if(Ro(t)){const i=K(t);return So(i)||Ey(i)}if(wy(t))r=()=>K(t.useValue);else if(function SM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vm(t.deps||[]));else if(function TM(t){return!(!t||!t.useExisting)}(t))r=()=>$(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function t3(t){return!!t.deps}(t))return So(i)||Ey(i);r=()=>new i(...vm(t.deps))}return r}function Qs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dy(t,e){for(const n of t)Array.isArray(n)?Dy(n,e):n&&gm(n)?Dy(n.\u0275providers,e):e(n)}class i3{}class xM{}class s3{resolveComponentFactory(e){throw function o3(t){const e=Error(`No component factory found for ${Me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let nc=(()=>{class t{}return t.NULL=new s3,t})();function a3(){return Ys(Ot(),E())}function Ys(t,e){return new Vn(Fn(t,e))}let Vn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a3,t})();class RM{}let ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function c3(){const t=E(),n=Cn(Ot().index,t);return(On(n)?n:t)[ae]}(),t})(),l3=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Js{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kM=new Js("15.2.9"),by={},Ty="ngOriginalError";function Sy(t){return t[Ty]}class Xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sy(e);for(;n&&Sy(n);)n=Sy(n);return n||null}}function ui(t){return t instanceof Function?t():t}function OM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const FM="ng-template";function I3(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==OM(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function LM(t){return 4===t.type&&t.value!==FM}function C3(t,e,n){return e===(4!==t.type||n?t.value:FM)}function E3(t,e,n){let r=4;const i=t.attrs||[],o=function T3(t){for(let e=0;e<t.length;e++)if(cA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!C3(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!I3(t.attrs,c,n)){if(ur(r))return!1;s=!0}continue}const d=D3(8&r?"class":u,i,LM(t),n);if(-1===d){if(ur(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==OM(f,c,0)||2&r&&c!==h){if(ur(r))return!1;s=!0}}}}else{if(!s&&!ur(r)&&!ur(u))return!1;if(s&&ur(u))continue;s=!1,r=u|1&r}}return ur(r)||s}function ur(t){return 0==(1&t)}function D3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function S3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function VM(t,e,n=!1){for(let r=0;r<e.length;r++)if(E3(t,e[r],n))return!0;return!1}function UM(t,e){return t?":not("+e.trim()+")":e}function M3(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ur(s)&&(e+=UM(o,i),i=""),r=s,o=o||!ur(r);n++}return""!==i&&(e+=UM(o,i)),e}const ne={};function Te(t){BM(ge(),E(),ln()+t,!1)}function BM(t,e,n,r){if(!r)if(3==(3&e[oe])){const o=t.preOrderCheckHooks;null!==o&&zd(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Gd(e,o,0,n)}Ao(n)}function zM(t,e=null,n=null,r){const i=GM(t,e,n,r);return i.resolveInjectorInitializers(),i}function GM(t,e=null,n=null,r,i=new Set){const o=[n||ve,Qz(t)];return r=r||("object"==typeof t?void 0:Me(t)),new AM(o,e||lh(),r||null,i)}let Un=(()=>{class t{static create(n,r){if(Array.isArray(n))return zM({name:""},r,n,"");{const i=n.name??"";return zM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ku,t.NULL=new EM,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(IM)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=Q.Default){const n=E();return null===n?$(t,e):_A(Ot(),n,K(t),e)}function ZM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Pm(n[r]),s.contentQueries(2,e[o],o)}}}function hh(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[ni]=i,d[oe]=76|r,(null!==l||t&&1024&t[oe])&&(d[oe]|=1024),QS(d),d[Ke]=d[Rs]=t,d[rt]=n,d[Ld]=s||t&&t[Ld],d[ae]=a||t&&t[ae],d[Cm]=u||t&&t[Cm]||null,d[Fd]=c||t&&t[Fd]||null,d[Wt]=o,d[Uu]=function YH(){return QH++}(),d[US]=l,d[Kt]=2==e.type?t[Kt]:d,d}function ta(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Ry(t,e,n,r,i){const o=XS(),s=Sm(),u=t.data[e]=function tG(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function eH(){return te.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function $u(){const t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Sr(o,!0),o}function rc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ky(t,e,n){Rm(e);try{const r=t.viewQuery;null!==r&&jy(1,r,n);const i=t.template;null!==i&&ex(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ZM(t,e),t.staticViewQueries&&jy(2,t.viewQuery,n);const o=t.components;null!==o&&function X3(t,e){for(let n=0;n<e.length;n++)IG(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,km()}}function fh(t,e,n,r){const i=e[oe];if(128!=(128&i)){Rm(e);try{QS(e),function eA(t){return te.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ex(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&zd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Gd(e,c,0,null),Nm(e,0)}if(function vG(t){for(let e=ty(t);null!==e;e=ny(e)){if(!e[BS])continue;const n=e[Ns];for(let r=0;r<n.length;r++){const i=n[r];512&i[oe]||Tm(i[Ke],1),i[oe]|=512}}}(e),function _G(t){for(let e=ty(t);null!==e;e=ny(e))for(let n=un;n<e.length;n++){const r=e[n],i=r[F];jd(r)&&fh(i,r,i.template,r[rt])}}(e),null!==t.contentQueries&&ZM(t,e),s){const c=t.contentCheckHooks;null!==c&&zd(e,c)}else{const c=t.contentHooks;null!==c&&Gd(e,c,1),Nm(e,1)}!function Y3(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ao(~i);else{const o=i,s=n[++r],a=n[++r];tH(s,o),a(2,e[o])}}}finally{Ao(-1)}}(t,e);const a=t.components;null!==a&&function J3(t,e){for(let n=0;n<e.length;n++)wG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&jy(2,u,r),s){const c=t.viewCheckHooks;null!==c&&zd(e,c)}else{const c=t.viewHooks;null!==c&&Gd(e,c,2),Nm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-41,512&e[oe]&&(e[oe]&=-513,Tm(e[Ke],-1))}finally{km()}}}function ex(t,e,n,r,i){const o=ln(),s=2&r;try{Ao(-1),s&&e.length>Oe&&BM(t,e,Oe,!1),Yn(s?2:0,i),n(r,i)}finally{Ao(o),Yn(s?3:1,i)}}function Ny(t,e,n){if(Dm(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function Oy(t,e,n){JS()&&(function uG(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Bu(n)&&function gG(t,e,n){const r=Fn(e,t),i=tx(n),o=t[Ld],s=ph(t,hh(t,i,null,n.onPush?32:16,r,e,o,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qd(n,e),Yt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Mo(e,t,a,n);Yt(c,e),null!==s&&mG(0,a-i,c,u,0,s),ar(u)&&(Cn(n.index,e)[rt]=Mo(e,t,a,n))}}(t,e,n,Fn(n,e)),64==(64&n.flags)&&sx(t,e,n))}function Fy(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function tx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ly(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ly(t,e,n,r,i,o,s,a,u,c){const l=Oe+r,d=l+i,h=function Z3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ne);return n}(l,d),f="function"==typeof c?c():c;return h[F]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function rx(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?ix(n,e,i,o):r.hasOwnProperty(i)&&ix(n,e,r[i],o)}return n}function ix(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Vy(t,e,n,r){if(JS()){const i=null===r?null:{"":-1},o=function lG(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(VM(e,s.selectors,!1))if(r||(r=[]),ar(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Uy(t,e,a.length)}else r.unshift(s),Uy(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ox(t,e,n,s,i,a),i&&function dG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new S(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Hu(n.mergedAttrs,n.attrs)}function ox(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Bm(Qd(n,e),t,r[c].type);!function fG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=rc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Hu(n.mergedAttrs,l.hostAttrs),pG(t,n,e,u,l),hG(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function nG(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=rx(d.inputs,l,u,h?h.inputs:null),c=rx(d.outputs,l,c,p);const m=null===u||null===s||LM(e)?null:yG(u,l,s);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function sx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function nH(){return te.lFrame.currentDirectiveIndex}();try{Ao(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Mm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&cG(u,c)}}finally{Ao(-1),Mm(s)}}function cG(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Uy(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function hG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function pG(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=So(i.type)),s=new ju(o,ar(i),b);t.blueprint[r]=s,n[r]=s,function sG(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function aG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,rc(t,n,i.hostVars,ne),i)}function Mr(t,e,n,r,i,o){const s=Fn(t,e);!function By(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ee(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[ae],s,o,t.value,n,r,i)}function mG(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const c=s[u++],l=s[u++],d=s[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function yG(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ax(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function wG(t,e){const n=Cn(e,t);if(jd(n)){const r=n[F];48&n[oe]?fh(r,n,r.template,n[rt]):n[To]>0&&$y(n)}}function $y(t){for(let r=ty(t);null!==r;r=ny(r))for(let i=un;i<r.length;i++){const o=r[i];if(jd(o))if(512&o[oe]){const s=o[F];fh(s,o,s.template,o[rt])}else o[To]>0&&$y(o)}const n=t[F].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Cn(n[r],t);jd(i)&&i[To]>0&&$y(i)}}function IG(t,e){const n=Cn(e,t),r=n[F];(function CG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ky(r,n,n[rt])}function ph(t,e){return t[Lu]?t[VS][or]=e:t[Lu]=e,t[VS]=e,e}function gh(t){for(;t;){t[oe]|=32;const e=Ju(t);if(F4(t)&&!e)return t;t=e}return null}function mh(t,e,n,r=!0){const i=e[Ld];i.begin&&i.begin();try{fh(t,e,t.template,n)}catch(s){throw r&&dx(e,s),s}finally{i.end&&i.end()}}function jy(t,e,n){Pm(0),e(t,n)}function ux(t){return t[Ps]||(t[Ps]=[])}function cx(t){return t.cleanup||(t.cleanup=[])}function dx(t,e){const n=t[Fd],r=n?n.get(Xs,null):null;r&&r.handleError(e)}function Hy(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function yh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=fm(i,a):2==o&&(r=fm(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _h(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),sr(o))for(let a=un;a<o.length;a++){const u=o[a],c=u[F].firstChild;null!==c&&_h(u[F],u,c,r)}const s=n.type;if(8&s)_h(t,e,n.child,r);else if(32&s){const a=ey(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=rM(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ju(e[Kt]);_h(u[F],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ic{get rootNodes(){const e=this._lView,n=e[F];return _h(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 128==(128&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ke];if(sr(e)){const n=e[Ud],r=n?n.indexOf(this):-1;r>-1&&(oy(e,r),Xd(n,r))}this._attachedToViewContainer=!1}KA(this._lView[F],this._lView)}onDestroy(e){!function nx(t,e,n,r){const i=ux(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&cx(t).push(r,i.length-1))}(this._lView[F],this._lView,null,e)}markForCheck(){gh(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-65}reattach(){this._lView[oe]|=64}detectChanges(){mh(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dz(t,e){Xu(t,e,e[ae],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class EG extends ic{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mh(e[F],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class hx extends nc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new oc(n,this.ngModule)}}function fx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kd(r);const i=this.injector.get(e,by,r);return i!==by||n===by?i:this.parentInjector.get(e,n,r)}}class oc extends xM{get inputs(){return fx(this.componentDef.inputs)}get outputs(){return fx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function x3(t){return t.map(M3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof si?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new bG(e,o):e,a=s.get(RM,null);if(null===a)throw new S(407,!1);const u=s.get(l3,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function eG(t,e,n){return t.selectRootElement(e,n===br.ShadowDom)}(c,r,this.componentDef.encapsulation):iy(c,l,function DG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Ly(0,null,null,1,0,null,null,null,null,null),p=hh(null,f,null,h,null,null,a,c,u,s,null);let m,y;Rm(p);try{const w=this.componentDef;let C,_=null;w.findHostDirectiveDefs?(C=[],_=new Map,w.findHostDirectiveDefs(w,C,_),C.push(w)):C=[w];const k=function SG(t,e){const n=t[F],r=Oe;return t[r]=e,ta(n,r,2,"#host",null)}(p,d),H=function AG(t,e,n,r,i,o,s,a){const u=i[F];!function MG(t,e,n,r){for(const i of t)e.mergedAttrs=Hu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(yh(e,e.mergedAttrs,!0),null!==n&&sM(r,n,e))}(r,t,e,s);const c=o.createRenderer(e,n),l=hh(i,tx(n),null,n.onPush?32:16,i[t.index],t,o,c,a||null,null,null);return u.firstCreatePass&&Uy(u,t,r.length-1),ph(i,l),i[t.index]=l}(k,d,w,C,p,a,c);y=KS(f,Oe),d&&function PG(t,e,n,r){if(r)Fm(t,n,["ng-version",kM.full]);else{const{attrs:i,classes:o}=function P3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ur(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fm(t,n,i),o&&o.length>0&&oM(t,n,o.join(" "))}}(c,w,d,r),void 0!==n&&function RG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(y,this.ngContentSelectors,n),m=function xG(t,e,n,r,i,o){const s=Ot(),a=i[F],u=Fn(s,i);ox(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Yt(Mo(i,a,s.directiveStart+l,s),i);sx(a,i,s),u&&Yt(u,i);const c=Mo(i,a,s.directiveStart+s.componentOffset,s);if(t[rt]=i[rt]=c,null!==o)for(const l of o)l(c,e);return Ny(a,s,t),c}(H,w,C,_,p,[kG]),ky(f,p,null)}finally{km()}return new TG(this.componentType,m,Ys(y,p),p,y)}}class TG extends i3{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new EG(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;Hy(o[F],o,i,e,n),gh(Cn(this._tNode.index,o))}}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kG(){const t=Ot();Hd(E()[F],t)}function Ee(t){let e=function px(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=zy(t.inputs),s.declaredInputs=zy(t.declaredInputs),s.outputs=zy(t.outputs);const a=i.hostBindings;a&&LG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&OG(t,u),c&&FG(t,c),hm(t.inputs,i.inputs),hm(t.declaredInputs,i.declaredInputs),hm(t.outputs,i.outputs),ar(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ee&&(n=!1)}}e=Object.getPrototypeOf(e)}!function NG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hu(i.hostAttrs,n=Hu(n,i.hostAttrs))}}(r)}function zy(t){return t===ei?{}:t===ve?[]:t}function OG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function FG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function LG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function vh(t){return!!function Gy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Pr(t,e,n,r){const i=E();return Jt(i,Vs(),e)&&(ge(),Mr(He(),i,t,e,n,r)),Pr}function Rr(t,e,n,r,i,o,s,a){const u=E(),c=ge(),l=t+Oe,d=c.firstCreatePass?function WG(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ta(e,t,4,s||null,Vi(c,a));Vy(e,n,l,Vi(c,u)),Hd(e,l);const d=l.tView=Ly(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Sr(d,!1);const h=u[ae].createComment("");rh(c,u,h,d),Yt(h,u),ph(u,u[l]=ax(h,u,h,d)),Bd(d)&&Oy(c,u,d),null!=s&&Fy(u,d,a)}function Qe(t,e,n){const r=E();return Jt(r,Vs(),e)&&function Bn(t,e,n,r,i,o,s,a){const u=Fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Hy(t,n,l,r,i),Bu(e)&&function iG(t,e){const n=Cn(e,t);16&n[oe]||(n[oe]|=32)}(n,e.index)):3&e.type&&(r=function rG(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ge(),He(),r,t,e,r[ae],n,!1),Qe}function qy(t,e,n,r,i){const s=i?"class":"style";Hy(t,n,e.inputs[s],s,r)}function x(t,e,n,r){const i=E(),o=ge(),s=Oe+t,a=i[ae],u=o.firstCreatePass?function QG(t,e,n,r,i,o){const s=e.consts,u=ta(e,t,2,r,Vi(s,i));return Vy(e,n,u,Vi(s,o)),null!==u.attrs&&yh(u,u.attrs,!1),null!==u.mergedAttrs&&yh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=i[s]=iy(a,e,function lH(){return te.lFrame.currentNamespace}()),l=Bd(u);return Sr(u,!0),sM(a,c,u),32!=(32&u.flags)&&rh(o,i,c,u),0===function K4(){return te.lFrame.elementDepthCount}()&&Yt(c,i),function Q4(){te.lFrame.elementDepthCount++}(),l&&(Oy(o,i,u),Ny(o,u,i)),null!==r&&Fy(i,u),x}function A(){let t=Ot();Sm()?function Am(){te.lFrame.isParent=!1}():(t=t.parent,Sr(t,!1));const e=t;!function Y4(){te.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Hd(n,t),Dm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function pH(t){return 0!=(8&t.flags)}(e)&&qy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gH(t){return 0!=(16&t.flags)}(e)&&qy(n,e,E(),e.stylesWithoutHost,!1),A}function me(t,e,n,r){return x(t,e,n,r),A(),me}function Ih(){return E()}function ac(t){return!!t&&"function"==typeof t.then}const Qy=function Mx(t){return!!t&&"function"==typeof t.subscribe};function Pe(t,e,n,r){const i=E(),o=ge(),s=Ot();return function Px(t,e,n,r,i,o,s){const a=Bd(r),c=t.firstCreatePass&&cx(t),l=e[rt],d=ux(e);let h=!0;if(3&r.type||s){const m=Fn(r,e),y=s?s(m):m,w=d.length,C=s?k=>s(Nt(k[r.index])):r.index;let _=null;if(!s&&a&&(_=function JG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Ps],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1;else{o=kx(r,e,l,o,!1);const k=n.listen(y,i,o);d.push(o,k),c&&c.push(i,C,w,w+1)}}else o=kx(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const H=e[p[y]][p[y+1]].subscribe(o),W=d.length;d.push(o,H),c&&c.push(i,r.index,W,-(W+1))}}}(o,i,i[ae],s,t,e,r),Pe}function Rx(t,e,n,r){try{return Yn(6,e,n),!1!==n(r)}catch(i){return dx(t,i),!1}finally{Yn(7,e,n)}}function kx(t,e,n,r,i){return function o(s){if(s===Function)return r;gh(t.componentOffset>-1?Cn(t.index,e):e);let u=Rx(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Rx(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Bi(t=1){return function iH(t){return(te.lFrame.contextLView=function oH(t,e){for(;t>0;)e=e[Rs],t--;return e}(t,te.lFrame.contextLView))[rt]}(t)}function Ch(t,e){return t<<17|e<<2}function $i(t){return t>>17&32767}function Jy(t){return 2|t}function No(t){return(131068&t)>>2}function Xy(t,e){return-131069&t|e<<2}function Zy(t){return 1|t}function Hx(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?$i(o):No(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];sq(t[a],e)&&(u=!0,t[a+1]=r?Zy(l):Jy(l)),a=r?$i(l):No(l)}u&&(t[n+1]=r?Jy(o):Zy(o))}function sq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Gs(t,e)>=0}function Eh(t,e){return function cr(t,e,n,r){const i=E(),o=ge(),s=function ii(t){const e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function Xx(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ln()],s=function Jx(t,e){return e>=t.expandoStartIndex}(t,n);(function n1(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function gq(t,e,n,r){const i=function xm(t){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=uc(n=e_(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=e_(i,t,e,n,r),null===o){let u=function mq(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==No(r))return t[$i(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=e_(null,t,e,u[1],r),u=uc(u,e.attrs,r),function yq(t,e,n,r){t[$i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function _q(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=uc(r,t[o].hostAttrs,n);return uc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function iq(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$i(s),u=No(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Gs(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=$i(t[a+1]);t[r+1]=Ch(h,a),0!==h&&(t[h+1]=Xy(t[h+1],r)),t[a+1]=function nq(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ch(a,0),0!==a&&(t[a+1]=Xy(t[a+1],r)),a=r;else t[r+1]=Ch(u,0),0===a?a=r:t[u+1]=Xy(t[u+1],r),u=r;c&&(t[r+1]=Jy(t[r+1])),Hx(t,l,r,!0),Hx(t,l,r,!1),function oq(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Gs(o,e)>=0&&(n[r+1]=Zy(n[r+1]))}(e,l,t,r,o),s=Ch(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ne&&Jt(i,s,e)&&function e1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function rq(t){return 1==(1&t)}(c)?t1(u,e,n,i,No(c),s):void 0;Dh(l)||(Dh(o)||function tq(t){return 2==(2&t)}(c)&&(o=t1(u,null,n,i,a,s)),function Iz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:En.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),t.setStyle(n,r,i,o))}}(r,s,$d(ln(),n),i,o))}(o,o.data[ln()],i,i[ae],t,i[s+1]=function Cq(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Me(Ui(t)))),t}(e,n),r,s)}(t,e,null,!0),Eh}function e_(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=uc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ln(t,s,!!n||e[++o]))}return void 0===t?null:t}function t1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ne&&(h=d?ve:void 0);let f=d?zm(h,r):l===r?h:void 0;if(c&&!Dh(f)&&(f=zm(u,r)),Dh(f)&&(a=f,s))return a;const p=t[i+1];i=s?$i(p):No(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=zm(u,r))}return a}function Dh(t){return void 0!==t}function z(t,e=""){const n=E(),r=ge(),i=t+Oe,o=r.firstCreatePass?ta(r,i,1,e,null):r.data[i],s=n[i]=function ry(t,e){return t.createText(e)}(n[ae],e);rh(r,n,s,o),Sr(o,!1)}function Xt(t,e,n){const r=E(),i=function ra(t,e,n,r){return Jt(t,Vs(),n)?e+ee(n)+r:ne}(r,t,e,n);return i!==ne&&function ci(t,e,n){const r=$d(e,t);!function qA(t,e,n){t.setValue(e,n)}(t[ae],r,n)}(r,ln(),i),Xt}const fa="en-US";let b1=fa;function r_(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let o=0;o<t.length;o++)r_(t[o],e,n,r,i);else{const o=ge(),s=E();let a=Ro(t)?t:K(t.provide),u=MM(t);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ro(t)||!t.multi){const f=new ju(u,i,b),p=o_(a,e,i?l:l+h,d);-1===p?(Bm(Qd(c,s),o,a),i_(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=o_(a,e,l+h,d),p=o_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Bm(Qd(c,s),o,a);const w=function B9(t,e,n,r,i){const o=new ju(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,Y1(o,i,r&&!n),o}(i?U9:V9,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),i_(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else i_(o,t,f>-1?f:p,Y1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function i_(t,e,n,r){const i=Ro(e),o=function Jz(t){return!!t.useClass}(e);if(i||o){const u=(o?K(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Y1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function o_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function V9(t,e,n,r){return s_(this.multi,[])}function U9(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Mo(n,n[F],this.providerFactory.index,r);o=a.slice(0,s),s_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],s_(i,o);return o}function s_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function L9(t,e,n){const r=ge();if(r.firstCreatePass){const i=ar(t);r_(n,r.data,r.blueprint,i,!0),r_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class pa{}class J1{}class X1 extends pa{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hx(this);const r=Nn(e);this._bootstrapComponents=ui(r.bootstrap),this._r3Injector=GM(e,n,[{provide:pa,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class a_ extends J1{constructor(e){super(),this.moduleType=e}create(e){return new X1(this.moduleType,e)}}class j9 extends pa{constructor(e,n,r){super(),this.componentFactoryResolver=new hx(this),this.instance=null;const i=new AM([...e,{provide:pa,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],n||lh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mh(t,e,n=null){return new j9(t,e,n).injector}let H9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=DM(0,n.type),i=r.length>0?Mh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(si))}),t})();function Z1(t){t.getStandaloneInjector=e=>e.get(H9).getOrCreateStandaloneInjector(t)}function sP(t,e,n,r,i,o){const s=e+n;return Jt(t,s,i)?function xr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function pc(t,e){const n=t[e];return n===ne?void 0:n}(t,s+1)}function dr(t,e){const n=ge();let r;const i=t+Oe;n.firstCreatePass?(r=function u5(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=So(r.type)),s=Kn(b);try{const a=Kd(!1),u=o();return Kd(a),function KG(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{Kn(s)}}function hr(t,e,n){const r=t+Oe,i=E(),o=Os(i,r);return function gc(t,e){return t[F].data[e].pure}(i,r)?sP(i,function cn(){const t=te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}function c_(t){return e=>{setTimeout(t,void 0,e)}}const Je=class f5 extends Jr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=c_(o),i&&(i=c_(i)),s&&(s=c_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pn&&e.add(a),a}};let li=(()=>{class t{}return t.__NG_ELEMENT_ID__=y5,t})();const g5=li,m5=class extends g5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=hh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Vu]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Tr];return null!==s&&(i[Tr]=s.createEmbeddedView(r)),ky(r,i,e),new ic(i)}};function y5(){return function xh(t,e){return 4&t.type?new m5(e,t,Ys(t,e)):null}(Ot(),E())}let fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=_5,t})();function _5(){return function fP(t,e){let n;const r=e[t.index];if(sr(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const o=e[ae];i=o.createComment("");const s=Fn(t,e);Po(o,nh(o,s),i,function _z(t,e){return t.nextSibling(e)}(o,s),!1)}e[t.index]=n=ax(r,e,i,t),ph(e,n)}return new dP(n,t,e)}(Ot(),E())}const v5=fr,dP=class extends v5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ys(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Um(this._hostTNode,this._hostLView);if(hA(e)){const n=Wd(e,this._hostLView),r=qd(e);return new Bs(n[F].data[r+8],n)}return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=hP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(e,n,r,i,o){const s=e&&!function Gu(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const u=s?e:new oc(Ce(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const h=(s?c:this.parentInjector).get(si,null);h&&(o=h)}const l=u.create(c,i,void 0,o);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[F];if(function W4(t){return sr(t[Ke])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ke],h=new dP(d,d[Wt],d[Ke]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function fz(t,e,n,r){const i=un+r,o=n.length;r>0&&(n[i-1][or]=e),r<o-un?(e[or]=n[i],DA(n,un+r,e)):(n.push(e),e[or]=null),e[Ke]=n;const s=e[Vu];null!==s&&n!==s&&function pz(t,e){const n=t[Ns];e[Kt]!==e[Ke][Ke][Kt]&&(t[BS]=!0),null===n?t[Ns]=[e]:n.push(e)}(s,e);const a=e[Tr];null!==a&&a.insertView(t),e[oe]|=64}(i,r,s,o);const a=uy(o,s),u=r[ae],c=nh(u,s[Vd]);return null!==c&&function lz(t,e,n,r,i,o){r[ni]=i,r[Wt]=e,Xu(t,r,n,1,i,o)}(i,s[Wt],u,r,c,a),e.attachToViewContainerRef(),DA(d_(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=hP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=oy(this._lContainer,n);r&&(Xd(d_(this._lContainer),n),KA(r[F],r))}detach(e){const n=this._adjustIndex(e,-1),r=oy(this._lContainer,n);return r&&null!=Xd(d_(this._lContainer),n)?new ic(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hP(t){return t[Ud]}function d_(t){return t[Ud]||(t[Ud]=[])}function Rh(...t){}const kh=new U("Application Initializer");let Nh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Rh,this.reject=Rh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ac(o))n.push(o);else if(Qy(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(kh,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yc=new U("AppId",{providedIn:"root",factory:function UP(){return`${C_()}${C_()}${C_()}`}});function C_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BP=new U("Platform Initializer"),Oh=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let W5=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const di=new U("LocaleId",{providedIn:"root",factory:()=>de(di,Q.Optional|Q.SkipSelf)||function K5(){return typeof $localize<"u"&&$localize.locale||fa}()});class Y5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $P=(()=>{class t{compileModuleSync(n){return new a_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ui(Nn(n).declarations).reduce((s,a)=>{const u=Ce(a);return u&&s.push(new oc(u)),s},[]);return new Y5(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Z5=(()=>Promise.resolve(0))();function E_(t){typeof Zone>"u"?Z5.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function e6(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function r6(t){const e=()=>{!function n6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,D_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return zP(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),GP(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return zP(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),GP(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,b_(t),D_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,t6,Rh,Rh);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const t6={};function D_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GP(t){t._nesting--,D_(t)}class i6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const qP=new U(""),Fh=new U("");let A_,T_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A_||(function o6(t){A_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),E_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Fe),$(S_),$(Fh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),S_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return A_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const hi=!1;let ji=null;const WP=new U("AllowMultipleToken"),M_=new U("PlatformDestroyListeners"),KP=new U("appBootstrapListener");class QP{constructor(e,n){this.name=e,this.token=n}}function JP(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(o=[])=>{let s=x_();if(!s||s.injector.get(WP,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function u6(t){if(ji&&!ji.get(WP,!1))throw new S(400,!1);ji=t;const e=t.get(ZP);(function YP(t){const e=t.get(BP,null);e&&e.forEach(n=>n())})(t)}(function XP(t=[],e){return Un.create({name:e,providers:[{provide:Iy,useValue:"platform"},{provide:M_,useValue:new Set([()=>ji=null])},...t]})}(a,r))}return function l6(t){const e=x_();if(!e)throw new S(401,!1);return e}()}}function x_(){return ji?.get(ZP)??null}let ZP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function tR(t,e){let n;return n="noop"===t?new i6:("zone.js"===t?void 0:t)||new Fe(e),n}(r?.ngZone,function eR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Fe,useValue:i}];return i.run(()=>{const s=Un.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),u=a.injector.get(Xs,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Vh(this._modules,a),c.unsubscribe()})}),function nR(t,e,n){try{const r=n();return ac(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Nh);return c.runInitializers(),c.donePromise.then(()=>(function T1(t){Wn(t,"Expected localeId to be defined"),"string"==typeof t&&(b1=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(di,fa)||fa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=rR({},r);return function s6(t,e,n){const r=new a_(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Lh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(M_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Un))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function rR(t,e){return Array.isArray(e)?e.reduce(rR,t):{...t,...e}}let Lh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new We(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new We(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),E_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function h4(...t){const e=Ru(t),n=function o4(t,e){return"number"==typeof lm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?qn(r[0]):As(n)(lt(r,e)):Er}(o,s.pipe(function f4(t={}){const{connector:e=(()=>new Jr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Et((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=dm(p,i))}),w.subscribe(y),!s&&c>0&&(s=new Pu({next:C=>w.next(C),error:C=>{d=!0,h(),a=dm(f,n,C),w.error(C)},complete:()=>{l=!0,h(),a=dm(f,r),w.complete()}}),qn(m).subscribe(s))})(o)}}()))}bootstrap(n,r){const i=n instanceof xM;if(!this._injector.get(Nh).done){!i&&function xs(t){const e=Ce(t)||qt(t)||In(t);return null!==e&&e.standalone}(n);throw new S(405,hi)}let s;s=i?n:this._injector.get(nc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function a6(t){return t.isBoundToModule}(s)?void 0:this._injector.get(pa),c=s.create(Un.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(qP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Vh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Vh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(KP,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)($(Fe),$(si),$(Xs))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Uh=(()=>{class t{}return t.__NG_ELEMENT_ID__=h6,t})();function h6(t){return function f6(t,e,n){if(Bu(t)&&!n){const r=Cn(t.index,e);return new ic(r,r)}return 47&t.type?new ic(e[Kt],e):null}(Ot(),E(),16==(16&t))}class uR{constructor(){}supports(e){return vh(e)}create(e){return new v6(e)}}const _6=(t,e)=>e;class v6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<lR(r,i,o)?n:r,a=lR(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!vh(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function zG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new w6(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new cR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class w6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class I6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class cR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new I6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hR(){return new jh([new uR])}let jh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||hR()),deps:[[t,new Wu,new Qt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:hR}),t})();const T6=JP(null,"core",[]);let S6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Lh))},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({}),t})();function ya(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let O_=null;function fi(){return O_}class x6{}const bn=new U("DocumentToken");let F_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return function P6(){return $(pR)}()},providedIn:"platform"}),t})();const R6=new U("Location Initialized");let pR=(()=>{class t extends F_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(n){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){gR()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){gR()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:function(){return function k6(){return new pR($(bn))}()},providedIn:"platform"}),t})();function gR(){return!!window.history.pushState}function L_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function mR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function pi(t){return t&&"?"!==t[0]?"?"+t:t}let Lo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return de(_R)},providedIn:"root"}),t})();const yR=new U("appBaseHref");let _R=(()=>{class t extends Lo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??de(bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return L_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+pi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+pi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(F_),$(yR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),N6=(()=>{class t extends Lo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=L_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(F_),$(yR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),V_=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function L6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mR(vR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pi(r))}normalize(n){return t.stripTrailingSlash(function F6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=pi,t.joinWithSlash=L_,t.stripTrailingSlash=mR,t.\u0275fac=function(n){return new(n||t)($(Lo))},t.\u0275prov=j({token:t,factory:function(){return function O6(){return new V_($(Lo))}()},providedIn:"root"}),t})();function vR(t){return t.replace(/\/index.html$/,"")}class EW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let PR=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new EW(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),RR(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{RR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(fr),b(li),b(jh))},t.\u0275dir=J({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function RR(t,e){t.context.$implicit=e.item}let kR=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new bW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){NR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){NR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(fr),b(li))},t.\u0275dir=J({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class bW{constructor(){this.$implicit=null,this.ngIf=null}}function NR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Me(e)}'.`)}const NW=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let FR=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw function mr(t,e){return new S(2100,!1)}();return n.replace(NW,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=wn({name:"titlecase",type:t,pure:!0,standalone:!0}),t})(),QW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({}),t})();let ZW=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new e7($(bn),window)}),t})();class e7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function t7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=UR(this.window.history)||UR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function UR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class M7 extends x6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tv extends M7{static makeCurrent(){!function M6(t){O_||(O_=t)}(new tv)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function x7(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}();return null==n?null:function P7(t){ef=ef||document.createElement("a"),ef.setAttribute("href",t);const e=ef.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ef,Cc=null;const zR=new U("TRANSITION_ID"),k7=[{provide:kh,useFactory:function R7(t,e,n){return()=>{n.get(Nh).donePromise.then(()=>{const r=fi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[zR,bn,Un],multi:!0}];let O7=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const tf=new U("EventManagerPlugins");let nf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(tf),$(Fe))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class GR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=fi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let qR=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let o=i.get(n)??0;return o+=r,o>0?i.set(n,o):i.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Ec=(()=>{class t extends qR{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(o=>o.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const nv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rv=/%COMP%/g,QR=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function YR(t,e){return e.flat(100).map(n=>n.replace(rv,t))}function JR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let iv=(()=>{class t{constructor(n,r,i,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new ov(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof ek?i.applyToHost(n):i instanceof sv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case br.Emulated:o=new ek(s,a,r,this.appId,u);break;case br.ShadowDom:return new j7(s,a,n,r);default:o=new sv(s,a,r,u)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(nf),$(Ec),$(yc),$(QR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class ov{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(nv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(ZR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=nv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=nv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(n,r,i&En.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&En.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,JR(r)):this.eventManager.addEventListener(e,n,JR(r))}}function ZR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class j7 extends ov{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=YR(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sv extends ov{constructor(e,n,r,i,o=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=YR(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ek extends sv{constructor(e,n,r,i,o){const s=i+"-"+r.id;super(e,n,r,o,s),this.contentAttr=function U7(t){return"_ngcontent-%COMP%".replace(rv,t)}(s),this.hostAttr=function B7(t){return"_nghost-%COMP%".replace(rv,t)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let H7=(()=>{class t extends GR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const tk=["alt","control","meta","shift"],z7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q7=(()=>{class t extends GR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=z7[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),tk.forEach(s=>{s!==i&&(0,G7[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const rk=[{provide:Oh,useValue:"browser"},{provide:BP,useValue:function W7(){tv.makeCurrent()},multi:!0},{provide:bn,useFactory:function Q7(){return function Tz(t){hy=t}(document),document},deps:[]}],Y7=JP(T6,"browser",rk),ik=new U(""),ok=[{provide:Fh,useClass:class N7{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?fi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:qP,useClass:T_,deps:[Fe,S_,Fh]},{provide:T_,useClass:T_,deps:[Fe,S_,Fh]}],sk=[{provide:Iy,useValue:"root"},{provide:Xs,useFactory:function K7(){return new Xs},deps:[]},{provide:tf,useClass:H7,multi:!0,deps:[bn,Fe,Oh]},{provide:tf,useClass:q7,multi:!0,deps:[bn]},{provide:iv,useClass:iv,deps:[nf,Ec,yc,QR]},{provide:RM,useExisting:iv},{provide:qR,useExisting:Ec},{provide:Ec,useClass:Ec,deps:[bn]},{provide:nf,useClass:nf,deps:[tf,Fe]},{provide:class n7{},useClass:O7,deps:[]},[]];let J7=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yc,useValue:n.appId},{provide:zR,useExisting:yc},k7]}}}return t.\u0275fac=function(n){return new(n||t)($(ik,12))},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({providers:[...sk,...ok],imports:[QW,S6]}),t})(),ak=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function Z7(){return new ak($(bn))}(),r},providedIn:"root"}),t})();function q(...t){return lt(t,Ru(t))}typeof window<"u"&&window;class yr extends Jr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const rf=xu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:o8}=Array,{getPrototypeOf:s8,prototype:a8,keys:u8}=Object;function lk(t){if(1===t.length){const e=t[0];if(o8(e))return{args:e,keys:null};if(function c8(t){return t&&"object"==typeof t&&s8(t)===a8}(e)){const n=u8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:l8}=Array;function dk(t){return le(e=>function d8(t,e){return l8(e)?t(...e):t(e)}(t,e))}function hk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fk(...t){const e=Ru(t),n=bS(t),{args:r,keys:i}=lk(t);if(0===r.length)return lt([],e);const o=new We(function h8(t,e,n=bo){return r=>{pk(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)pk(e,()=>{const c=lt(t[u],e);let l=!1;c.subscribe(yt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>hk(i,s):bo));return n?o.pipe(dk(n)):o}function pk(t,e,n){t?Xr(n,t,e):e()}function cv(...t){return function f8(){return As(1)}()(lt(t,Ru(t)))}function gk(t){return new We(e=>{qn(t()).subscribe(e)})}function Dc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new We(e?i=>e.schedule(r,0,i):r)}function lv(){return Et((t,e)=>{let n=null;t._refCount++;const r=yt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class mk extends We{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pn;const n=this.getSubject();e.add(this.source.subscribe(yt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pn.EMPTY)}return e}refCount(){return lv()(this)}}function Or(t,e){return Et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(yt(r,u=>{i?.unsubscribe();let c=0;const l=o++;qn(t(u,l)).subscribe(i=yt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function _a(t){return t<=0?()=>Er:Et((e,n)=>{let r=0;e.subscribe(yt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zi(t,e){return Et((n,r)=>{let i=0;n.subscribe(yt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function sf(t){return Et((e,n)=>{let r=!1;e.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yk(t=g8){return Et((e,n)=>{let r=!1;e.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function g8(){return new rf}function Gi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zi((i,o)=>t(i,o,r)):bo,_a(1),n?sf(e):yk(()=>new rf))}function Vo(t,e){return Ae(e)?kt(t,e,1):kt(t,1)}function Lt(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(yt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):bo}function qi(t){return Et((e,n)=>{let o,r=null,i=!1;r=e.subscribe(yt(n,void 0,void 0,s=>{o=qn(t(s,qi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _k(t,e){return Et(function m8(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(yt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}function dv(t){return t<=0?()=>Er:Et((e,n)=>{let r=[];e.subscribe(yt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vk(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zi((i,o)=>t(i,o,r)):bo,dv(1),n?sf(e):yk(()=>new rf))}function hv(t){return Et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",bc=Symbol("RouteTitle");class v8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function va(t){return new v8(t)}function w8(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!wk(t[i],e[i]))return!1;return!0}function wk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function Ik(t){return Array.prototype.concat.apply([],t)}function Ck(t){return t.length>0?t[t.length-1]:null}function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Wi(t){return Qy(t)?t:ac(t)?lt(Promise.resolve(t)):q(t)}const af=!1,C8={exact:function bk(t,e,n){if(!Uo(t.segments,e.segments)||!uf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!bk(t.children[r],e.children[r],n))return!1;return!0},subset:Tk},Ek={exact:function E8(t,e){return Fr(t,e)},subset:function D8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wk(t[n],e[n]))},ignored:()=>!0};function Dk(t,e,n){return C8[n.paths](t.root,e.root,n.matrixParams)&&Ek[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Tk(t,e,n){return Sk(t,e,e.segments,n)}function Sk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Uo(i,n)||e.hasChildren()||!uf(i,n,r))}if(t.segments.length===n.length){if(!Uo(t.segments,n)||!uf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Tk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Uo(t.segments,i)&&uf(t.segments,i,r)&&t.children[re])&&Sk(t.children[re],e,o,r)}}function uf(t,e,n){return e.every((r,i)=>Ek[n](t[i].parameters,r.parameters))}class Ki{constructor(e=new ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return S8.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Vt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class Tc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=va(this.parameters)),this._parameterMap}toString(){return xk(this)}}function Uo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new fv},providedIn:"root"}),t})();class fv{parse(e){const n=new F8(e);return new Ki(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ac(e.root,!0)}`,r=function x8(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${lf(n)}=${lf(i)}`).join("&"):`${lf(n)}=${lf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function A8(t){return encodeURI(t)}(e.fragment)}`:""}`}}const S8=new fv;function cf(t){return t.segments.map(e=>xk(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return cf(t);if(e){const n=t.children[re]?Ac(t.children[re],!1):"",r=[];return Vt(t.children,(i,o)=>{o!==re&&r.push(`${o}:${Ac(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function T8(t,e){let n=[];return Vt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Vt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Ac(t.children[re],!1)]:[`${i}:${Ac(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${cf(t)}/${n[0]}`:`${cf(t)}/(${n.join("//")})`}}function Ak(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(t){return Ak(t).replace(/%3B/gi,";")}function pv(t){return Ak(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function df(t){return decodeURIComponent(t)}function Mk(t){return df(t.replace(/\+/g,"%20"))}function xk(t){return`${pv(t.path)}${function M8(t){return Object.keys(t).map(e=>`;${pv(e)}=${pv(t[e])}`).join("")}(t.parameters)}`}const P8=/^[^\/()?;=#]+/;function hf(t){const e=t.match(P8);return e?e[0]:""}const R8=/^[^=?&#]+/,N8=/^[^&#]+/;class F8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ue(e,n)),r}parseSegment(){const e=hf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,af);return this.capture(e),new Tc(df(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=hf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=hf(this.remaining);i&&(r=i,this.capture(r))}e[df(n)]=df(r)}parseQueryParam(e){const n=function k8(t){const e=t.match(R8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function O8(t){const e=t.match(N8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Mk(n),o=Mk(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,af);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[re]:new ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,af)}}function gv(t){return t.segments.length>0?new ue([],{[re]:t}):t}function ff(t){const e={};for(const r of Object.keys(t.children)){const o=ff(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function L8(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}function Bo(t){return t instanceof Ki}const mv=!1;function V8(t,e,n,r,i){if(0===n.length)return wa(e.root,e.root,e.root,r,i);const o=function Ok(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Vt(o.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Nk(n,e,r)}(n);return o.toRoot()?wa(e.root,e.root,new ue([],{}),r,i):function s(u){const c=function B8(t,e,n,r){if(t.isAbsolute)return new Ia(e.root,!0,0);if(-1===r)return new Ia(n,n===e.root,0);return function Fk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,mv&&"Invalid number of '../'");i=r.segments.length}return new Ia(r,!1,i-o)}(n,r+(Mc(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,e,t.snapshot?._urlSegment,u),l=c.processChildren?Ca(c.segmentGroup,c.index,o.commands):yv(c.segmentGroup,c.index,o.commands);return wa(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Mc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xc(t){return"object"==typeof t&&null!=t&&t.outlets}function wa(t,e,n,r,i){let s,o={};r&&Vt(r,(u,c)=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:kk(t,e,n);const a=gv(ff(s));return new Ki(a,o,i)}function kk(t,e,n){const r={};return Vt(t.children,(i,o)=>{r[o]=i===e?n:kk(i,e,n)}),new ue(t.segments,r)}class Nk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Mc(r[0]))throw new S(4003,mv&&"Root segment cannot have matrix parameters");const i=r.find(xc);if(i&&i!==Ck(r))throw new S(4004,mv&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ia{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yv(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return Ca(t,e,n);const r=function j8(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(xc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Vk(u,c,s))return o;r+=2}else{if(!Vk(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new ue(t.segments.slice(r.pathIndex),t.children),Ca(o,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?_v(t,e,n):r.match?Ca(t,0,i):_v(t,e,n)}function Ca(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function $8(t){return xc(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(!r[re]&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const o=Ca(t.children[re],e,n);return new ue(t.segments,o.children)}return Vt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yv(t.children[s],e,o))}),Vt(t.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ue(t.segments,i)}}function _v(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(xc(o)){const u=H8(o.outlets);return new ue(r,u)}if(0===i&&Mc(n[0])){r.push(new Tc(t.segments[e].path,Lk(n[0]))),i++;continue}const s=xc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mc(a)?(r.push(new Tc(s,Lk(a))),i+=2):(r.push(new Tc(s,{})),i++)}return new ue(r,{})}function H8(t){const e={};return Vt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=_v(new ue([],{}),0,n))}),e}function Lk(t){const e={};return Vt(t,(n,r)=>e[r]=`${n}`),e}function Vk(t,e,n){return t==n.path&&Fr(e,n.parameters)}const Pc="imperative";class Lr{constructor(e,n){this.id=e,this.url=n}}class vv extends Lr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $o extends Lr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends Lr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gf extends Lr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class wv extends Lr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class z8 extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G8 extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends Lr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W8 extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8 extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rK=(()=>{class t{createUrlTree(n,r,i,o,s,a){return V8(n||r.root,i,o,s,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),oK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(e){return rK.\u0275fac(e)},providedIn:"root"}),t})();class Bk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Iv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Iv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cv(e,this._root).map(n=>n.value)}}function Iv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Iv(t,n);if(r)return r}return null}function Cv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cv(t,n);if(r.length)return r.unshift(e),r}return[]}class mi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ea(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class $k extends Bk{constructor(e,n){super(e),this.snapshot=n,Ev(this,e)}toString(){return this.snapshot.toString()}}function jk(t,e){const n=function sK(t,e){const s=new mf([],{},{},"",{},re,e,null,t.root,-1,{});return new zk("",new mi(s,[]))}(t,e),r=new yr([new Tc("",{})]),i=new yr({}),o=new yr({}),s=new yr({}),a=new yr(""),u=new Da(r,i,s,a,o,re,e,n.root);return u.snapshot=n.root,new $k(new mi(u,[]),n)}class Da{constructor(e,n,r,i,o,s,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(le(c=>c[bc]))??q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>va(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>va(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function aK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mf{get title(){return this.data?.[bc]}constructor(e,n,r,i,o,s,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zk extends Bk{constructor(e,n){super(n),this.url=e,Ev(this,n)}toString(){return Gk(this._root)}}function Ev(t,e){e.value._routerState=t,e.children.forEach(n=>Ev(t,n))}function Gk(t){const e=t.children.length>0?` { ${t.children.map(Gk).join(", ")} } `:"";return`${t.value}${e}`}function Dv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Fr(e.params,n.params)||t.params.next(n.params),function I8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Fr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function bv(t,e){const n=Fr(t.params,e.params)&&function b8(t,e){return Uo(t,e)&&t.every((n,r)=>Fr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||bv(t.parent,e.parent))}function Rc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function cK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Rc(t,r,i);return Rc(t,r)})}(t,e,n);return new mi(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Rc(t,a)),s}}const r=function lK(t){return new Da(new yr(t.url),new yr(t.params),new yr(t.queryParams),new yr(t.fragment),new yr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Rc(t,o));return new mi(r,i)}}const Tv="ngNavigationCancelingError";function qk(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Wk(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Wk(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Kk(t){return Qk(t)&&Bo(t.url)}function Qk(t){return t&&t[Tv]}class dK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kc,this.attachRef=null}}let kc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yf=!1;let Sv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=de(kc),this.location=de(fr),this.changeDetector=de(Uh),this.environmentInjector=de(si)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,yf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,yf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,yf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,yf);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new hK(n,a,i.injector);if(r&&function fK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=J({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]}),t})();class hK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Da?this.route:e===kc?this.childContexts:this.parent.get(e,n)}}let Av=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Li({type:t,selectors:[["ng-component"]],standalone:!0,features:[Z1],decls:1,vars:0,template:function(n,r){1&n&&me(0,"router-outlet")},dependencies:[Sv],encapsulation:2}),t})();function Yk(t,e){return t.providers&&!t._injector&&(t._injector=Mh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xv(t){const e=t.children&&t.children.map(xv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Av),n}function tr(t){return t.outlet||re}function Jk(t,e){const n=t.filter(r=>tr(r)===e);return n.push(...t.filter(r=>tr(r)!==e)),n}function Nc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class _K{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ea(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Vt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ea(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ea(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ea(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new eK(o.value.snapshot))}),e.children.length&&this.forwardEvent(new X8(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Dv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Nc(i.snapshot),u=a?.get(nc)??null;s.attachRef=null,s.route=i,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class Xk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _f{constructor(e,n){this.component=e,this.route=n}}function vK(t,e,n){const r=t._root;return Oc(r,e?e._root:null,n,[r.value])}function ba(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function w4(t){return null!==xd(t)}(t)?e.get(t):t:r}function Oc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ea(e);return t.children.forEach(s=>{(function IK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function CK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Uo(t.url,e.url)||!Fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bv(t,e)||!Fr(t.queryParams,e.queryParams);default:return!bv(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xk(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Oc(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _f(a.outlet.component,s))}else s&&Fc(e,a,i),i.canActivateChecks.push(new Xk(r)),Oc(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Vt(o,(s,a)=>Fc(s,n.getContext(a),i)),i}function Fc(t,e,n){const r=Ea(t),i=t.value;Vt(r,(o,s)=>{Fc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new _f(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Lc(t){return"function"==typeof t}function Pv(t){return t instanceof rf||"EmptyError"===t?.name}const vf=Symbol("INITIAL_VALUE");function Ta(){return Or(t=>fk(t.map(e=>e.pipe(_a(1),function p8(...t){const e=Ru(t);return Et((n,r)=>{(e?cv(t,n,e):cv(t,n)).subscribe(r)})}(vf)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===vf)return vf;if(!1===n||n instanceof Ki)return n}return!0}),zi(e=>e!==vf),_a(1)))}function Zk(t){return function Dj(...t){return aS(t)}(Lt(e=>{if(Bo(e))throw qk(0,e)}),le(e=>!0===e))}const Rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eN(t,e,n,r,i){const o=kv(t,e,n);return o.matched?function UK(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=ba(s,t);return Wi(function AK(t){return t&&Lc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ta(),Zk()):q(!0)}(r=Yk(e,r),e,n).pipe(le(s=>!0===s?o:{...Rv})):q(o)}function kv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Rv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||w8)(n,t,e);if(!i)return{...Rv};const o={};Vt(i.posParams,(a,u)=>{o[u]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wf(t,e,n,r){if(n.length>0&&function jK(t,e,n){return n.some(r=>If(t,e,r)&&tr(r)!==re)}(t,n,r)){const o=new ue(e,function $K(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&tr(o)!==re){const s=new ue([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,i[tr(o)]=s}return i}(t,e,r,new ue(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function HK(t,e,n){return n.some(r=>If(t,e,r))}(t,n,r)){const o=new ue(t.segments,function BK(t,e,n,r,i){const o={};for(const s of r)if(If(t,n,s)&&!i[tr(s)]){const a=new ue([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,o[tr(s)]=a}return{...i,...o}}(t,e,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const i=new ue(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function If(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function tN(t,e,n,r){return!!(tr(t)===r||r!==re&&If(e,n,t))&&("**"===t.path||kv(e,t,n).matched)}function nN(t,e,n){return 0===e.length&&!t.children[n]}const Cf=!1;class Ef{constructor(e){this.segmentGroup=e||null}}class rN{constructor(e){this.urlTree=e}}function Vc(t){return Dc(new Ef(t))}function iN(t){return Dc(new rN(t))}class WK{constructor(e,n,r,i,o){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=wf(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(le(o=>this.createUrlTree(ff(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qi(o=>{if(o instanceof rN)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ef?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(le(i=>this.createUrlTree(ff(i),e.queryParams,e.fragment))).pipe(qi(i=>{throw i instanceof Ef?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Cf)}createUrlTree(e,n,r){const i=gv(e);return new Ki(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(le(o=>new ue([],o))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return lt(i).pipe(Vo(o=>{const s=r.children[o],a=Jk(n,o);return this.expandSegmentGroup(e,a,s,o).pipe(le(u=>({segment:u,outlet:o})))}),_k((o,s)=>(o[s.outlet]=s.segment,o),{}),vk())}expandSegment(e,n,r,i,o,s){return lt(r).pipe(Vo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,o,s).pipe(qi(c=>{if(c instanceof Ef)return q(null);throw c}))),Gi(a=>!!a),qi((a,u)=>{if(Pv(a))return nN(n,i,o)?q(new ue([],{})):Vc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,o,s,a){return tN(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s):Vc(n):Vc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iN(o):this.lineralizeSegments(r,o).pipe(kt(s=>{const a=new ue(s,{});return this.expandSegment(e,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=kv(n,i,o);if(!a)return Vc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?iN(d):this.lineralizeSegments(i,d).pipe(kt(h=>this.expandSegment(e,n,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){return"**"===r.path?(e=Yk(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ue(i,{})))):q(new ue(i,{}))):eN(n,r,i,e).pipe(Or(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(kt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=wf(n,a,u,h),m=new ue(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(le(_=>new ue(a,_)));if(0===h.length&&0===p.length)return q(new ue(a,{}));const y=tr(r)===o;return this.expandSegment(d,m,h,p,y?re:o,!0).pipe(le(C=>new ue(a.concat(C.segments),C.children)))})):Vc(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function VK(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=ba(s,t);return Wi(function DK(t){return t&&Lc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ta(),Zk())}(e,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(Lt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function GK(t){return Dc(Wk(Cf,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[re])return e.redirectTo,Dc(new S(4e3,Cf));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ki(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Vt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Vt(n.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,i)}),new ue(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Cf);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class QK{}class XK{constructor(e,n,r,i,o,s,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=wf(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(le(n=>{if(null===n)return null;const r=new mf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mi(r,n),o=new zk(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const n=e.value,r=Hk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return lt(Object.keys(r.children)).pipe(Vo(i=>{const o=r.children[i],s=Jk(n,i);return this.processSegmentGroup(e,s,o,i)}),_k((i,o)=>i&&o?(i.push(...o),i):null),function y8(t,e=!1){return Et((n,r)=>{let i=0;n.subscribe(yt(r,o=>{const s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),sf(null),vk(),le(i=>{if(null===i)return null;const o=sN(i);return function ZK(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(e,n,r,i,o){return lt(n).pipe(Vo(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Gi(s=>!!s),qi(s=>{if(Pv(s))return nN(r,i,o)?q([]):q(null);throw s}))}processSegmentAgainstRoute(e,n,r,i,o){if(n.redirectTo||!tN(n,r,i,o))return q(null);let s;if("**"===n.path){const a=i.length>0?Ck(i).parameters:{},u=uN(r)+i.length;s=q({snapshot:new mf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cN(n),tr(n),n.component??n._loadedComponent??null,n,aN(r),u,lN(n)),consumedSegments:[],remainingSegments:[]})}else s=eN(r,n,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=uN(r)+u.length;return{snapshot:new mf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cN(n),tr(n),n.component??n._loadedComponent??null,n,aN(r),d,lN(n)),consumedSegments:u,remainingSegments:c}}));return s.pipe(Or(a=>{if(null===a)return q(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function eQ(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=wf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(y=>null===y?null:[new mi(u,y)]));if(0===h.length&&0===p.length)return q([new mi(u,[])]);const m=tr(n)===o;return this.processSegment(d,h,f,p,m?re:o).pipe(le(y=>null===y?null:[new mi(u,y)]))}))}}function tQ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sN(t){const e=[],n=new Set;for(const r of t){if(!tQ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=sN(r.children);e.push(new mi(r.value,i))}return e.filter(r=>!n.has(r))}function aN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function cN(t){return t.data||{}}function lN(t){return t.resolve||{}}function dN(t){return"string"==typeof t.title||null===t.title}function Nv(t){return Or(e=>{const n=t(e);return n?lt(n).pipe(le(()=>e)):q(e)})}const Sa=new U("ROUTES");let Ov=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=de($P)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Wi(n.loadComponent()).pipe(le(fN),Lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),hv(()=>{this.componentLoaders.delete(n)})),i=new mk(r,()=>new Jr).pipe(lv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=Ik(u.get(Sa,[],Q.Self|Q.Optional)));return{routes:c.map(xv),injector:u}}),hv(()=>{this.childrenLoaders.delete(r)})),s=new mk(o,()=>new Jr).pipe(lv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Wi(n()).pipe(le(fN),kt(r=>r instanceof J1||Array.isArray(r)?q(r):lt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fN(t){return function cQ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let bf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jr,this.configLoader=de(Ov),this.environmentInjector=de(si),this.urlSerializer=de(Sc),this.rootContexts=de(kc),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Y8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Q8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zi(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Or(r=>{let i=!1,o=!1;return q(r).pipe(Lt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Or(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new gf(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Er}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return pN(s.source)&&(n.browserUrlTree=s.extractedUrl),q(s).pipe(Or(l=>{const d=this.transitions?.getValue();return this.events.next(new vv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Er:Promise.resolve(l)}),function KK(t,e,n,r){return Or(i=>function qK(t,e,n,r,i){return new WK(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(le(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Lt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function rQ(t,e,n,r,i){return kt(o=>function JK(t,e,n,r,i,o,s="emptyOnly"){return new XK(t,e,n,r,i,s,o).recognize().pipe(Or(a=>null===a?function YK(t){return new We(e=>e.error(t))}(new QK):q(a)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(le(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Lt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new z8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new vv(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=jk(d,this.rootComponentType).snapshot;return q(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new gf(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Er}}),Lt(s=>{const a=new G8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>r={...s,guards:vK(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function xK(t,e){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?q({...n,guardsResult:!0}):function PK(t,e,n,r){return lt(t).pipe(kt(i=>function LK(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const u=Nc(e)??i,c=ba(a,u);return Wi(function SK(t){return t&&Lc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Gi())})).pipe(Ta()):q(!0)}(i.component,i.route,n,e,r)),Gi(i=>!0!==i,!0))}(s,r,i,t).pipe(kt(a=>a&&function EK(t){return"boolean"==typeof t}(a)?function RK(t,e,n,r){return lt(e).pipe(Vo(i=>cv(function NK(t,e){return null!==t&&e&&e(new J8(t)),q(!0)}(i.route.parent,r),function kK(t,e){return null!==t&&e&&e(new Z8(t)),q(!0)}(i.route,r),function FK(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function wK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>gk(()=>q(s.guards.map(u=>{const c=Nc(s.node)??n,l=ba(u,c);return Wi(function TK(t){return t&&Lc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Gi())})).pipe(Ta())));return q(o).pipe(Ta())}(t,i.path,n),function OK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>gk(()=>{const s=Nc(e)??n,a=ba(o,s);return Wi(function bK(t){return t&&Lc(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Gi())}));return q(i).pipe(Ta())}(t,i.route,n))),Gi(i=>!0!==i,!0))}(r,o,t,e):q(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Lt(s=>{if(r.guardsResult=s.guardsResult,Bo(s.guardsResult))throw qk(0,s.guardsResult);const a=new q8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),zi(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Nv(s=>{if(s.guards.canActivateChecks.length)return q(s).pipe(Lt(a=>{const u=new W8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Or(a=>{let u=!1;return q(a).pipe(function iQ(t,e){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=0;return lt(i).pipe(Vo(s=>function oQ(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!dN(i)&&(o[bc]=i.title),function sQ(t,e,n,r){const i=function aQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const o={};return lt(i).pipe(kt(s=>function uQ(t,e,n,r){const i=Nc(e)??r,o=ba(t,i);return Wi(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Gi(),Lt(a=>{o[s]=a}))),dv(1),function _8(t){return le(()=>t)}(o),qi(s=>Pv(s)?Er:Dc(s)))}(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=Hk(t,n).resolve,i&&dN(i)&&(t.data[bc]=i.title),null)))}(s.route,r,t,e)),Lt(()=>o++),dv(1),kt(s=>o===i.length?q(n):Er))})}(n.paramsInheritanceStrategy,this.environmentInjector),Lt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Lt(a=>{const u=new K8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Nv(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Lt(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return fk(a(s.targetSnapshot.root)).pipe(sf(),_a(1))}),Nv(()=>this.afterPreactivation()),le(s=>{const a=function uK(t,e,n){const r=Rc(t,e._root,n?n._root:void 0);return new $k(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Lt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n)=>le(r=>(new _K(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),_a(1),Lt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new $o(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),hv(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qi(s=>{if(o=!0,Qk(s)){Kk(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new pf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),Kk(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||pN(r.source)};n.scheduleNavigation(u,Pc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new wv(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return Er}))}))}cancelNavigationTransition(n,r,i){const o=new pf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pN(t){return t!==Pc}let gN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[bc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return de(lQ)},providedIn:"root"}),t})(),lQ=(()=>{class t extends gN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(ak))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return de(fQ)},providedIn:"root"}),t})();class hQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let fQ=(()=>{class t extends hQ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tf=new U("",{providedIn:"root",factory:()=>({})});let gQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return de(mQ)},providedIn:"root"}),t})(),mQ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yQ(t){throw t}function _Q(t,e,n){return e.parse("/")}const vQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=de(W5),this.isNgZoneEnabled=!1,this.options=de(Tf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_Q,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=de(gQ),this.routeReuseStrategy=de(dQ),this.urlCreationStrategy=de(oK),this.titleStrategy=de(gN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ik(de(Sa,{optional:!0})??[]),this.navigationTransitions=de(bf),this.urlSerializer=de(Sc),this.location=de(V_),this.isNgZoneEnabled=de(Fe)instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ki,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jk(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Bo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pc,null,r)}navigate(n,r={skipLocationChange:!1}){return function IQ(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new S(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...vQ}:!1===r?{...wQ}:r,Bo(n))return Dk(this.currentUrlTree,n,i);const o=this.parseUrl(n);return Dk(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Aa=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Jr;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof $o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=ya(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=ya(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=ya(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function wM(t,e,n){return function Kz(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?vM:_M}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(fn),b(Da),function Jd(t){return function vH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(cA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ot(),t)}("tabindex"),b(ai),b(Vn),b(Lo))},t.\u0275dir=J({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Pe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Pr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Qn]}),t})();class mN{}let DQ=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zi(n=>n instanceof $o),Vo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Mh(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return lt(i).pipe(As())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):q(null);const o=i.pipe(kt(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?lt([o,this.loader.loadComponent(r)]).pipe(As()):o})}}return t.\u0275fac=function(n){return new(n||t)($(fn),$($P),$(si),$(mN),$(Ov))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lv=new U("");let yN=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $o&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Uk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Uk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function XM(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();var $n=(()=>(($n=$n||{})[$n.COMPLETE=0]="COMPLETE",$n[$n.FAILED=1]="FAILED",$n[$n.REDIRECTING=2]="REDIRECTING",$n))();const Ma=!1;function Qi(t,e){return{\u0275kind:t,\u0275providers:e}}const Vv=new U("",{providedIn:"root",factory:()=>!1});function vN(){const t=de(Un);return e=>{const n=t.get(Lh);if(e!==n.components[0])return;const r=t.get(fn),i=t.get(wN);1===t.get(Uv)&&r.initialNavigation(),t.get(IN,null,Q.Optional)?.setUpPreloading(),t.get(Lv,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wN=new U(Ma?"bootstrap done indicator":"",{factory:()=>new Jr}),Uv=new U(Ma?"initial navigation":"",{providedIn:"root",factory:()=>1});function MQ(){let t=[];return t=Ma?[{provide:uh,multi:!0,useFactory:()=>{const e=de(fn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function tK(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Qi(1,t)}const IN=new U(Ma?"router preloader":"");function xQ(t){return Qi(0,[{provide:IN,useExisting:DQ},{provide:mN,useExisting:t}])}const Uc=!1,CN=new U(Uc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),PQ=[V_,{provide:Sc,useClass:fv},fn,kc,{provide:Da,useFactory:function _N(t){return t.routerState.root},deps:[fn]},Ov,Uc?{provide:Vv,useValue:!0}:[]];function RQ(){return new QP("Router",fn)}let EN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[PQ,Uc&&r?.enableTracing?MQ().\u0275providers:[],{provide:Sa,multi:!0,useValue:n},{provide:CN,useFactory:FQ,deps:[[fn,new Qt,new Wu]]},{provide:Tf,useValue:r||{}},r?.useHash?{provide:Lo,useClass:N6}:{provide:Lo,useClass:_R},{provide:Lv,useFactory:()=>{const t=de(ZW),e=de(Fe),n=de(Tf),r=de(bf),i=de(Sc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new yN(i,r,t,e,n)}},r?.preloadingStrategy?xQ(r.preloadingStrategy).\u0275providers:[],{provide:QP,multi:!0,useFactory:RQ},r?.initialNavigation?LQ(r):[],[{provide:DN,useFactory:vN},{provide:KP,multi:!0,useExisting:DN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Sa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(CN,8))},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({imports:[Av]}),t})();function FQ(t){if(Uc&&t)throw new S(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function LQ(t){return["disabled"===t.initialNavigation?Qi(3,[{provide:kh,multi:!0,useFactory:()=>{const e=de(fn);return()=>{e.setUpLocationChangeListener()}}},{provide:Uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Qi(2,[{provide:Uv,useValue:0},{provide:kh,multi:!0,deps:[Un],useFactory:e=>{const n=e.get(R6,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(fn),o=e.get(wN);(function bQ(t,e){t.events.pipe(zi(n=>n instanceof $o||n instanceof pf||n instanceof wv||n instanceof gf),le(n=>n instanceof $o||n instanceof gf?$n.COMPLETE:n instanceof pf&&(0===n.code||1===n.code)?$n.REDIRECTING:$n.FAILED),zi(n=>n!==$n.REDIRECTING),_a(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(bf).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const DN=new U(Uc?"Router Initializer":"");let UQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Li({type:t,selectors:[["app-home-page"]],decls:19,vars:0,consts:[[1,"navigate"],[1,"logo"],["routerLink","/main"],[1,"nav-elements"],[1,"filter"],[1,"search"],["type","search","placeholder","Search......"],["routerLink","/sign-in"],[1,"task"],["routerLink","/create-account"]],template:function(n,r){1&n&&(x(0,"nav")(1,"div",0)(2,"div",1)(3,"h1",2),z(4,"Task yousma"),A(),me(5,"ul",3),A(),x(6,"div",4)(7,"div",5),me(8,"input",6),x(9,"button",7),z(10,"sign-in"),A()()()()(),x(11,"section")(12,"div",8)(13,"h1"),z(14,"Task yousma"),A(),x(15,"p"),z(16,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Asperiores."),A(),x(17,"button",9),z(18,"Create Account "),A()()())},dependencies:[Aa],styles:["nav[_ngcontent-%COMP%]{height:75px;background:white;box-shadow:1px 2px 3px #a2a2a2bc;display:block}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]{width:90%;text-align:center;position:absolute;margin:-25px 80px;display:flex;justify-content:space-between}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;padding-top:9px;margin-left:-50px;font-family:Kalam,cursive;font-weight:600;color:#7440e3cf;cursor:pointer}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-30px}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;list-style:none}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:22px;color:#aeaeae;margin-left:10px}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0095ff}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;width:30%;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;padding:9px;width:150%;outline:none;border:none;border-radius:4px;background:rgba(191,228,255,.339)}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid rgb(0,149,255);transition:1.5s}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;margin-left:18rem;margin-top:-2.2rem;border:none;border-radius:5px;font-weight:600;color:#fff;background:rgba(116,64,227,.811)}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#7440e3cf}section[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{width:60%;height:40vh;text-align:center;margin:8rem auto}section[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5.5rem;font-weight:600}section[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:80px;font-size:30px;line-height:1.5;font-weight:500}section[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:25px;width:9rem;height:3rem;border:none;border-radius:5px;font-weight:600;font-size:17px;cursor:pointer;color:#fff;background:rgba(116,64,227,.811)}"]}),t})();function bN(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){bN(o,r,i,s,a,"next",u)}function a(u){bN(o,r,i,s,a,"throw",u)}s(void 0)})}}const TN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new HQ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sf=function(t){return function(t){const e=TN(t);return $v.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Af=function(t){try{return $v.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Mf=()=>{try{return function qQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Af(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},AN=t=>{var e,n;return null===(n=null===(e=Mf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},YQ=t=>{const e=AN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MN=()=>{var t;return null===(t=Mf())||void 0===t?void 0:t.config},xN=t=>{var e;return null===(e=Mf())||void 0===e?void 0:e[`_${t}`]};class xf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function jo(){try{return"object"==typeof indexedDB}catch{return!1}}function Bc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Hv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}}class Vr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function rY(t,e){return t.replace(iY,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new nr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const iY=/\{\$([^}]+)}/g;function Rf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(RN(o)&&RN(s)){if(!Rf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RN(t){return null!==t&&"object"==typeof t}function $c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class aY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function uY(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=zv),void 0===i.error&&(i.error=zv),void 0===i.complete&&(i.complete=zv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zv(){}const cY=1e3,lY=2,dY=144e5,hY=.5;function qv(t,e=cY,n=lY){const r=e*Math.pow(n,t),i=Math.round(hY*r*(Math.random()-.5)*2);return Math.min(dY,r+i)}function Zt(t){return t&&t._delegate?t._delegate:t}class en{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ho="[DEFAULT]";class pY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function mY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ho?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Wv=[];var fe=(()=>{return(t=fe||(fe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",fe;var t})();const kN={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},_Y=fe.INFO,vY={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},wY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=vY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class xa{constructor(e){this.name=e,this._logLevel=_Y,this._logHandler=wY,this._userLogHandler=null,Wv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const IY=(t,e)=>e.some(n=>t instanceof n);let NN,ON;const FN=new WeakMap,Kv=new WeakMap,LN=new WeakMap,Qv=new WeakMap,Yv=new WeakMap;let Jv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function AY(t){return"function"==typeof t?function SY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function EY(){return ON||(ON=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Xv(this),e),Yi(FN.get(this))}:function(...e){return Yi(t.apply(Xv(this),e))}:function(e,...n){const r=t.call(Xv(this),e,...n);return LN.set(r,e.sort?e.sort():[e]),Yi(r)}}(t):(t instanceof IDBTransaction&&function bY(t){if(Kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Kv.set(t,e)}(t),IY(t,function CY(){return NN||(NN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jv):t)}function Yi(t){if(t instanceof IDBRequest)return function DY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FN.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}(t);if(Qv.has(t))return Qv.get(t);const e=AY(t);return e!==t&&(Qv.set(t,e),Yv.set(e,t)),e}const Xv=t=>Yv.get(t),xY=["get","getKey","getAll","getAllKeys","count"],PY=["put","add","delete","clear"],Zv=new Map;function VN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zv.get(e))return Zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xY.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Zv.set(e,o),o}!function TY(t){Jv=t(Jv)}(t=>({...t,get:(e,n,r)=>VN(e,n)||t.get(e,n,r),has:(e,n)=>!!VN(e,n)||t.has(e,n)}));class RY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function kY(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ew="@firebase/app",zo=new xa("@firebase/app"),kf="[DEFAULT]",oJ={[ew]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Go=new Map,Nf=new Map;function sJ(t,e){try{t.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pn(t){const e=t.name;if(Nf.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,t);for(const n of Go.values())sJ(n,t);return!0}function Pa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const yi=new Vr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const qo="9.23.0";function BN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:kf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=MN()),!n)throw yi.create("no-options");const o=Go.get(i);if(o){if(Rf(n,o.options)&&Rf(r,o.config))return o;throw yi.create("duplicate-app",{appName:i})}const s=new yY(i);for(const u of Nf.values())s.addComponent(u);const a=new uJ(n,r,s);return Go.set(i,a),a}function tw(t=kf){const e=Go.get(t);if(!e&&t===kf&&MN())return BN();if(!e)throw yi.create("no-app",{appName:t});return e}function $N(){return Array.from(Go.values())}function Xe(t,e,n){var r;let i=null!==(r=oJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zo.warn(a.join(" "))}pn(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cJ="firebase-heartbeat-database",lJ=1,zc="firebase-heartbeat-store";let rw=null;function jN(){return rw||(rw=function MY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yi(s.result),u.oldVersion,u.newVersion,Yi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(cJ,lJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zc)}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),rw}function iw(){return(iw=g(function*(t){try{return yield(yield jN()).transaction(zc).objectStore(zc).get(zN(t))}catch(e){if(e instanceof nr)zo.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});zo.warn(n.message)}}})).apply(this,arguments)}function HN(t,e){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(t,e){try{const r=(yield jN()).transaction(zc,"readwrite");yield r.objectStore(zc).put(e,zN(t)),yield r.done}catch(n){if(n instanceof nr)zo.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n?.message});zo.warn(r.message)}}})).apply(this,arguments)}function zN(t){return`${t.name}!${t.options.appId}`}class pJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=GN(),{heartbeatsToSend:r,unsentEntries:i}=function gJ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Sf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function GN(){return(new Date).toISOString().substring(0,10)}class mJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!jo()&&Bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function dJ(t){return iw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return HN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return HN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function qN(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}!function yJ(t){pn(new en("platform-logger",e=>new RY(e),"PRIVATE")),pn(new en("heartbeat",e=>new pJ(e),"PRIVATE")),Xe(ew,"0.9.13",t),Xe(ew,"0.9.13","esm2017"),Xe("fire-js","")}(""),Xe("firebase","9.23.0","app");const wJ=(t,e)=>e.some(n=>t instanceof n);let WN,KN;const QN=new WeakMap,sw=new WeakMap,YN=new WeakMap,aw=new WeakMap,uw=new WeakMap;let cw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return sw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||YN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function SJ(t){return"function"==typeof t?function TJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function CJ(){return KN||(KN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(lw(this),e),Ji(QN.get(this))}:function(...e){return Ji(t.apply(lw(this),e))}:function(e,...n){const r=t.call(lw(this),e,...n);return YN.set(r,e.sort?e.sort():[e]),Ji(r)}}(t):(t instanceof IDBTransaction&&function DJ(t){if(sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sw.set(t,e)}(t),wJ(t,function IJ(){return WN||(WN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cw):t)}function Ji(t){if(t instanceof IDBRequest)return function EJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ji(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QN.set(n,t)}).catch(()=>{}),uw.set(e,t),e}(t);if(aw.has(t))return aw.get(t);const e=SJ(t);return e!==t&&(aw.set(t,e),uw.set(e,t)),e}const lw=t=>uw.get(t),MJ=["get","getKey","getAll","getAllKeys","count"],xJ=["put","add","delete","clear"],dw=new Map;function JN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(dw.get(e))return dw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MJ.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return dw.set(e,o),o}!function bJ(t){cw=t(cw)}(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));const XN="@firebase/installations",hw="0.6.4",ZN=1e4,eO=`w:${hw}`,tO="FIS_v2",PJ="https://firebaseinstallations.googleapis.com/v1",RJ=36e5,_i=new Vr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nO(t){return t instanceof nr&&t.code.includes("request-failed")}function fw({projectId:t}){return`${PJ}/projects/${t}/installations`}function rO(t){return{token:t.token,requestStatus:2,expiresIn:FJ(t.expiresIn),creationTime:Date.now()}}function pw(t,e){return gw.apply(this,arguments)}function gw(){return(gw=g(function*(t,e){const r=(yield e.json()).error;return _i.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function iO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mw(t){return yw.apply(this,arguments)}function yw(){return(yw=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function FJ(t){return Number(t.replace("s","000"))}function _w(){return(_w=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fw(t),i=iO(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:tO,appId:t.appId,sdkVersion:eO})},u=yield mw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:rO(c.authToken)}}throw yield pw("Create Installation",u)})).apply(this,arguments)}function sO(t){return new Promise(e=>{setTimeout(e,t)})}const BJ=/^[cdef][\w-]{21}$/,vw="";function $J(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function jJ(t){return function UJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return BJ.test(n)?n:vw}catch{return vw}}function Ra(t){return`${t.appName}!${t.appId}`}const ka=new Map;function aO(t,e){const n=Ra(t);uO(n,e),function GJ(t,e){const n=function cO(){return!Wo&&"BroadcastChannel"in self&&(Wo=new BroadcastChannel("[Firebase] FID Change"),Wo.onmessage=t=>{uO(t.data.key,t.data.fid)}),Wo}();n&&n.postMessage({key:t,fid:e}),function lO(){0===ka.size&&Wo&&(Wo.close(),Wo=null)}()}(n,e)}function uO(t,e){const n=ka.get(t);if(n)for(const r of n)r(e)}let Wo=null;const qJ="firebase-installations-database",WJ=1,Ko="firebase-installations-store";let ww=null;function Iw(){return ww||(ww=function AJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ji(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ji(s.result),u.oldVersion,u.newVersion,Ji(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(qJ,WJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ko)}})),ww}function Of(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(t,e){const n=Ra(t),i=(yield Iw()).transaction(Ko,"readwrite"),o=i.objectStore(Ko),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&aO(t,e.fid),e})).apply(this,arguments)}function Ew(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(t){const e=Ra(t),r=(yield Iw()).transaction(Ko,"readwrite");yield r.objectStore(Ko).delete(e),yield r.done})).apply(this,arguments)}function Gc(t,e){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(t,e){const n=Ra(t),i=(yield Iw()).transaction(Ko,"readwrite"),o=i.objectStore(Ko),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&aO(t,a.fid),a})).apply(this,arguments)}function Tw(t){return Sw.apply(this,arguments)}function Sw(){return Sw=g(function*(t){let e;const n=yield Gc(t.appConfig,r=>{const i=function KJ(t){return hO(t||{fid:$J(),registrationStatus:0})}(r),o=function QJ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(_i.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function YJ(t,e){return Aw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:JJ(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===vw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Sw.apply(this,arguments)}function Aw(){return Aw=g(function*(t,e){try{const n=yield function VJ(t,e){return _w.apply(this,arguments)}(t,e);return Of(t.appConfig,n)}catch(n){throw nO(n)&&409===n.customData.serverCode?yield Ew(t.appConfig):yield Of(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Aw.apply(this,arguments)}function JJ(t){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t){let e=yield dO(t.appConfig);for(;1===e.registrationStatus;)yield sO(100),e=yield dO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Tw(t);return r||n}return e})).apply(this,arguments)}function dO(t){return Gc(t,e=>{if(!e)throw _i.create("installation-not-found");return hO(e)})}function hO(t){return function XJ(t){return 1===t.registrationStatus&&t.registrationTime+ZN<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function xw(){return(xw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function eX(t,{fid:e}){return`${fw(t)}/${e}/authTokens:generate`}(t,n),i=function oO(t,{refreshToken:e}){const n=iO(t);return n.append("Authorization",function LJ(t){return`${tO} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:eO,appId:t.appId}})},u=yield mw(()=>fetch(r,a));if(u.ok)return rO(yield u.json());throw yield pw("Generate Auth Token",u)})).apply(this,arguments)}function Pw(t){return Rw.apply(this,arguments)}function Rw(){return Rw=g(function*(t,e=!1){let n;const r=yield Gc(t.appConfig,o=>{if(!pO(o))throw _i.create("not-registered");const s=o.authToken;if(!e&&function rX(t){return 2===t.requestStatus&&!function iX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RJ}(t)}(s))return o;if(1===s.requestStatus)return n=function tX(t,e){return kw.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw _i.create("app-offline");const a=function oX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function nX(t,e){return Nw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Rw.apply(this,arguments)}function kw(){return(kw=g(function*(t,e){let n=yield fO(t.appConfig);for(;1===n.authToken.requestStatus;)yield sO(100),n=yield fO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Pw(t,e):r})).apply(this,arguments)}function fO(t){return Gc(t,e=>{if(!pO(e))throw _i.create("not-registered");return function sX(t){return 1===t.requestStatus&&t.requestTime+ZN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Nw(){return Nw=g(function*(t,e){try{const n=yield function ZJ(t,e){return xw.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Of(t.appConfig,r),n}catch(n){if(!nO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Of(t.appConfig,r)}else yield Ew(t.appConfig);throw n}}),Nw.apply(this,arguments)}function pO(t){return void 0!==t&&2===t.registrationStatus}function Ow(){return(Ow=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Tw(e);return r?r.catch(console.error):Pw(e).catch(console.error),n.fid})).apply(this,arguments)}function Fw(){return Fw=g(function*(t,e=!1){const n=t;return yield function cX(t){return Lw.apply(this,arguments)}(n),(yield Pw(n,e)).token}),Fw.apply(this,arguments)}function Lw(){return(Lw=g(function*(t){const{registrationPromise:e}=yield Tw(t);e&&(yield e)})).apply(this,arguments)}function Bw(t){return _i.create("missing-app-config-values",{valueName:t})}const gO="installations",pX=t=>{const e=t.getProvider("app").getImmediate(),n=function hX(t){if(!t||!t.options)throw Bw("App Configuration");if(!t.name)throw Bw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Pa(e,"heartbeat"),_delete:()=>Promise.resolve()}},gX=t=>{const n=Pa(t.getProvider("app").getImmediate(),gO).getImmediate();return{getId:()=>function aX(t){return Ow.apply(this,arguments)}(n),getToken:i=>function uX(t){return Fw.apply(this,arguments)}(n,i)}};(function mX(){pn(new en(gO,pX,"PUBLIC")),pn(new en("installations-internal",gX,"PRIVATE"))})(),Xe(XN,hw),Xe(XN,hw,"esm2017");const $w="@firebase/remote-config",Sn=new Vr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class SX{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function AX(t=navigator){return t.languages&&t.languages[0]||t.language}class MX{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:AX()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((w,C)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",C(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let C="fetch-client-network";throw"AbortError"===w?.name&&(C="fetch-timeout"),Sn.create(C,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(C){throw Sn.create("fetch-client-parse",{originalErrorMessage:C?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Sn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class RX{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function xX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function PX(t){if(!(t instanceof nr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+qv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class OX{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lf(t,e){const n=t.target.error||void 0;return Sn.create(e,{originalErrorMessage:n&&n?.message})}const Qo="app_namespace_store";class UX{constructor(e,n,r,i=function VX(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Lf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qo,{keyPath:"compositeKey"})}}catch(n){e(Sn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Qo],"readonly").objectStore(Qo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(Lf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(Sn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([Qo],"readwrite").objectStore(Qo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(Lf(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Sn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Qo],"readwrite").objectStore(Qo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(Lf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(Sn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class BX{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jX(){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(){if(!jo())return!1;try{return yield Bc()}catch{return!1}})).apply(this,arguments)}!function $X(){pn(new en("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!jo())throw Sn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Sn.create("registration-project-id");if(!s)throw Sn.create("registration-api-key");if(!a)throw Sn.create("registration-app-id");const u=new UX(a,r.name,n=n||"firebase"),c=new BX(u),l=new xa($w);l.logLevel=fe.ERROR;const d=new MX(i,qo,n,o,s,a),h=new RX(d,u),f=new SX(h,u,c,l),p=new OX(r,f,c,u,l);return function DX(t){const e=Zt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Xe($w,"0.4.4"),Xe($w,"0.4.4","esm2017")}();const HX=(t,e)=>e.some(n=>t instanceof n);let vO,wO;const IO=new WeakMap,Ww=new WeakMap,CO=new WeakMap,Kw=new WeakMap,Qw=new WeakMap;let Yw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ww.get(t);if("objectStoreNames"===e)return t.objectStoreNames||CO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function YX(t){return"function"==typeof t?function QX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GX(){return wO||(wO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jw(this),e),vi(IO.get(this))}:function(...e){return vi(t.apply(Jw(this),e))}:function(e,...n){const r=t.call(Jw(this),e,...n);return CO.set(r,e.sort?e.sort():[e]),vi(r)}}(t):(t instanceof IDBTransaction&&function WX(t){if(Ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ww.set(t,e)}(t),HX(t,function zX(){return vO||(vO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Yw):t)}function vi(t){if(t instanceof IDBRequest)return function qX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(vi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&IO.set(n,t)}).catch(()=>{}),Qw.set(e,t),e}(t);if(Kw.has(t))return Kw.get(t);const e=YX(t);return e!==t&&(Kw.set(t,e),Qw.set(e,t)),e}const Jw=t=>Qw.get(t);function EO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=vi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Xw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),vi(n).then(()=>{})}const JX=["get","getKey","getAll","getAllKeys","count"],XX=["put","add","delete","clear"],Zw=new Map;function DO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zw.get(e))return Zw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JX.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Zw.set(e,o),o}!function KX(t){Yw=t(Yw)}(t=>({...t,get:(e,n,r)=>DO(e,n)||t.get(e,n,r),has:(e,n)=>!!DO(e,n)||t.has(e,n)}));const ZX="/firebase-messaging-sw.js",eZ="/firebase-cloud-messaging-push-scope",bO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tZ="https://fcmregistrations.googleapis.com/v1",TO="google.c.a.c_id",nZ="google.c.a.c_l",rZ="google.c.a.ts",iZ="google.c.a.e";var Na=(()=>{return(t=Na||(Na={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Na;var t})();function wi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const eI="fcm_token_details_db",sZ=5,SO="fcm_token_object_Store";function tI(){return tI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(eI))return null;let e=null;return(yield EO(eI,sZ,{upgrade:(r=g(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(SO))return;const c=a.objectStore(SO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:wi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield Xw(eI),yield Xw("fcm_vapid_details_db"),yield Xw("undefined"),function uZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),tI.apply(this,arguments)}const cZ="firebase-messaging-database",lZ=1,Yo="firebase-messaging-store";let nI=null;function rI(){return nI||(nI=EO(cZ,lZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Yo)}})),nI}function AO(t){return iI.apply(this,arguments)}function iI(){return iI=g(function*(t){const e=uI(t),r=yield(yield rI()).transaction(Yo).objectStore(Yo).get(e);if(r)return r;{const i=yield function aZ(t){return tI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield oI(t,i),i}}),iI.apply(this,arguments)}function oI(t,e){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t,e){const n=uI(t),i=(yield rI()).transaction(Yo,"readwrite");return yield i.objectStore(Yo).put(e,n),yield i.done,e})).apply(this,arguments)}function aI(){return(aI=g(function*(t){const e=uI(t),r=(yield rI()).transaction(Yo,"readwrite");yield r.objectStore(Yo).delete(e),yield r.done})).apply(this,arguments)}function uI({appConfig:t}){return t.appId}const Ut=new Vr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fZ(t,e){return cI.apply(this,arguments)}function cI(){return(cI=g(function*(t,e){const n=yield fI(t),r=xO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(hI(t.appConfig),i)).json()}catch(s){throw Ut.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Ut.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ut.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function lI(){return(lI=g(function*(t,e){const n=yield fI(t),r=xO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${hI(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Ut.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Ut.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ut.create("token-update-no-token");return o.token})).apply(this,arguments)}function MO(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){const r={method:"DELETE",headers:yield fI(t)};try{const o=yield(yield fetch(`${hI(t.appConfig)}/${e}`,r)).json();if(o.error)throw Ut.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Ut.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function hI({projectId:t}){return`${tZ}/projects/${t}/registrations`}function fI(t){return pI.apply(this,arguments)}function pI(){return(pI=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function xO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==bO&&(i.web.applicationPubKey=r),i}const gZ=6048e5;function gI(){return gI=g(function*(t){const e=yield function _Z(t,e){return vI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:wi(e.getKey("auth")),p256dh:wi(e.getKey("p256dh"))},r=yield AO(t.firebaseDependencies);if(r){if(function vZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+gZ?function yZ(t,e){return yI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield MO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return RO(t.firebaseDependencies,n)}return RO(t.firebaseDependencies,n)}),gI.apply(this,arguments)}function mI(){return mI=g(function*(t){const e=yield AO(t.firebaseDependencies);e&&(yield MO(t.firebaseDependencies,e.token),yield function dZ(t){return aI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),mI.apply(this,arguments)}function yI(){return yI=g(function*(t,e){try{const n=yield function pZ(t,e){return lI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield oI(t.firebaseDependencies,r),n}catch(n){throw yield function PO(t){return mI.apply(this,arguments)}(t),n}}),yI.apply(this,arguments)}function RO(t,e){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(t,e){const r={token:yield fZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield oI(t,r),r.token})).apply(this,arguments)}function vI(){return(vI=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oZ(e)})})).apply(this,arguments)}function kO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function wZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function IZ(t,e){e.data&&(t.data=e.data)}(e,t),function CZ(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function NO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function wI(t){return Ut.create("missing-app-config-values",{valueName:t})}NO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function DZ(t){if(!t||!t.options)throw wI("App Configuration Object");if(!t.name)throw wI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw wI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function OO(t){return II.apply(this,arguments)}function II(){return(II=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(ZX,{scope:eZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function CI(){return(CI=g(function*(t,e){if(!e&&!t.swRegistration&&(yield OO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function EI(){return(EI=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=bO)})).apply(this,arguments)}function DI(){return DI=g(function*(t,e){if(!navigator)throw Ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ut.create("permission-blocked");return yield function SZ(t,e){return EI.apply(this,arguments)}(t,e?.vapidKey),yield function TZ(t,e){return CI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function mZ(t){return gI.apply(this,arguments)}(t)}),DI.apply(this,arguments)}function bI(){return(bI=g(function*(t,e,n){const r=function MZ(t){switch(t){case Na.NOTIFICATION_CLICKED:return"notification_open";case Na.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[TO],message_name:n[nZ],message_time:n[rZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function TI(){return TI=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Na.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(kO(n)):t.onMessageHandler.next(kO(n)));const r=n.data;(function EZ(t){return"object"==typeof t&&!!t&&TO in t})(r)&&"1"===r[iZ]&&(yield function AZ(t,e,n){return bI.apply(this,arguments)}(t,n.messageType,r))}),TI.apply(this,arguments)}const LO="@firebase/messaging",PZ=t=>{const e=new bZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function xZ(t,e){return TI.apply(this,arguments)}(e,n)),e},RZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function FO(t,e){return DI.apply(this,arguments)}(e,r)}};function UO(){return SI.apply(this,arguments)}function SI(){return(SI=g(function*(){try{yield Bc()}catch{return!1}return typeof window<"u"&&jo()&&Hv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kZ(){pn(new en("messaging",PZ,"PUBLIC")),pn(new en("messaging-internal",RZ,"PRIVATE")),Xe(LO,"0.12.4"),Xe(LO,"0.12.4","esm2017")}();const Vf="analytics",FZ="firebase_id",LZ="origin",VZ=6e4,UZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xI="https://www.googletagmanager.com/gtag/js",bt=new xa("@firebase/analytics"),gn=new Vr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $Z(t){if(!t.startsWith(xI)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function BO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function PI(){return(PI=g(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield BO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){bt.error(a)}t("config",i,o)})).apply(this,arguments)}function RI(){return(RI=g(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield BO(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){bt.error(o)}})).apply(this,arguments)}const YZ=30,$O=new class XZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ZZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kI(){return(kI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZZ(r)},o=UZ.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function NI(){return(NI=g(function*(t,e=$O,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw gn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw gn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iee;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:VZ),jO({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function jO(t,e,n){return OI.apply(this,arguments)}function OI(){return OI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$O){var o;const{appId:s,measurementId:a}=t;try{yield function nee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function eee(t){return kI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function ree(t){if(!(t instanceof nr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?qv(n,i.intervalMillis,YZ):qv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),bt.debug(`Calling attemptFetch again in ${l} millis`),jO(t,d,r,i)}}),OI.apply(this,arguments)}class iee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let FI,HI;function LI(){return(LI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function zI(){return(zI=g(function*(){if(!jo())return bt.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bc()}catch(t){return bt.warn(gn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function GI(){return GI=g(function*(t,e,n,r,i,o,s){var a;const u=function tee(t){return NI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(u);const c=function dee(){return zI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function QZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xI)&&n.src.includes(t))return n;return null})(o)||function HZ(t,e){const n=function jZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:$Z}),r=document.createElement("script"),i=`${xI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),HI&&(i("consent","default",HI),function HO(t){HI=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[LZ]="firebase",h.update=!0,null!=d&&(h[FZ]=d),i("config",l.measurementId,h),FI&&(i("set",FI),function zO(t){FI=t}(void 0)),l.measurementId}),GI.apply(this,arguments)}class fee{constructor(e){this.app=e}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},GO=[];const qO={};let KO,Br,Uf="dataLayer",WO="gtag",qI=!1;function gee(t,e,n){!function pee(){const t=[];if(jv()&&t.push("This is a browser extension environment."),Hv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gn.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[r])throw gn.create("already-exists",{id:r});if(!qI){!function zZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Uf);const{wrappedGtag:o,gtagCore:s}=function KZ(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function WZ(t,e,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function qZ(t,e,n,r,i){return RI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function GZ(t,e,n,r,i,o){return PI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){bt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Ur,GO,qO,Uf,WO);Br=o,KO=s,qI=!0}return Ur[r]=function hee(t,e,n,r,i,o,s){return GI.apply(this,arguments)}(t,GO,qO,e,KO,Uf,n),new fee(t)}function yee(){return WI.apply(this,arguments)}function WI(){return(WI=g(function*(){if(jv()||!Hv()||!jo())return!1;try{return yield Bc()}catch{return!1}})).apply(this,arguments)}const QO="@firebase/analytics";!function vee(){pn(new en(Vf,(e,{options:n})=>gee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),pn(new en("analytics-internal",function t(e){try{const n=e.getProvider(Vf).getImmediate();return{logEvent:(r,i,o)=>function _ee(t,e,n,r){t=Zt(t),function oee(t,e,n,r,i){return LI.apply(this,arguments)}(Br,Ur[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}(n,r,i,o)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Xe(QO,"0.10.0"),Xe(QO,"0.10.0","esm2017")}();class wee extends Pn{constructor(e,n){super()}schedule(e,n=0){return this}}const Bf={setInterval(t,e,...n){const{delegate:r}=Bf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Bf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class JO extends wee{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Bf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ss(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const XO={now:()=>(XO.delegate||Date).now(),delegate:void 0};class qc{constructor(e,n=qc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}qc.now=XO.now;class ZO extends qc{constructor(e,n=qc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Eee=new class Cee extends ZO{}(class Iee extends JO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Dee=new ZO(JO),$f=new Js("7.6.1"),QI="__angularfire_symbol__analyticsIsSupportedValue",YI="__angularfire_symbol__analyticsIsSupported",JI="__angularfire_symbol__remoteConfigIsSupportedValue",XI="__angularfire_symbol__remoteConfigIsSupported",ZI="__angularfire_symbol__messagingIsSupportedValue",eC="__angularfire_symbol__messagingIsSupported";function nC(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[YI]||(globalThis[YI]=yee().then(t=>globalThis[QI]=t).catch(()=>globalThis[QI]=!1)),globalThis[eC]||(globalThis[eC]=UO().then(t=>globalThis[ZI]=t).catch(()=>globalThis[ZI]=!1)),globalThis[XI]||(globalThis[XI]=jX().then(t=>globalThis[JI]=t).catch(()=>globalThis[JI]=!1));const rC=(t,e)=>{const n=e?[e]:$N(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Oa(){}class eF{constructor(e,n=Eee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class bee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)),n.pipe(Lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iC=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new eF(Zone.current)),this.insideAngular=n.run(()=>new eF(Zone.current,Dee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Fe))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Xo(t){return Jo().ngZone.run(()=>t())}function See(t){return Jo(),function Aee(t){return function(n){return(n=n.lift(new bee(t.ngZone))).pipe(Sd(t.outsideAngular),Td(t.insideAngular))}}(Jo())(t)}const Mee=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xo(()=>t.apply(void 0,r))},_r=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oa,{},Oa,Oa)))),r[o]=Mee(r[o],n));const i=function Tee(t){return Jo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof We){const o=Jo();return i.pipe(Sd(o.outsideAngular),Td(o.insideAngular))}return Xo(()=>i)}return i instanceof We?i.pipe(See):i instanceof Promise?Xo(()=>new Promise((o,s)=>i.then(a=>Xo(()=>o(a)),a=>Xo(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Xo(()=>i)};class Fa{constructor(e){return e}}class oC{constructor(){return $N()}}const sC=new U("angularfire2._apps"),Pee={provide:Fa,useFactory:function xee(t){return t&&1===t.length?t[0]:new Fa(tw())},deps:[[new Qt,sC]]},Ree={provide:oC,deps:[[new Qt,sC]]};function kee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fa(r)}}let Nee=(()=>{class t{constructor(n){Xe("angularfire",$f.full,"core"),Xe("angularfire",$f.full,"app"),Xe("angular",kM.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Oh))},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({providers:[Pee,Ree]}),t})();function Oee(t,...e){return{ngModule:Nee,providers:[{provide:sC,useFactory:kee(t),multi:!0,deps:[Fe,Un,iC,...e]}]}}const Fee=_r(BN,!0),aC=new Map,tF={activated:!1,tokenObservers:[]},Lee={initialized:!1,enabled:!1};function Ze(t){return aC.get(t)||Object.assign({},tF)}function jf(){return Lee}const uC="https://content-firebaseappcheck.googleapis.com/v1",$ee="exchangeDebugToken",nF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Hee{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new xf,yield function zee(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new xf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Bt=new Vr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cC(t){if(!Ze(t).activated)throw Bt.create("use-before-activation",{appName:t.name})}function Gf(t,e){return dC.apply(this,arguments)}function dC(){return(dC=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Bt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Bt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Bt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function rF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uC}/projects/${n}/apps/${r}:${$ee}?key=${i}`,body:{debug_token:e}}}const Kee="firebase-app-check-database",Qee=1,Wc="firebase-app-check-store";let qf=null;function sF(t,e){return hC.apply(this,arguments)}function hC(){return(hC=g(function*(t,e){const r=(yield function oF(){return qf||(qf=new Promise((t,e)=>{try{const n=indexedDB.open(Kee,Qee);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Bt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wc,{keyPath:"compositeKey"})}}catch(n){e(Bt.create("storage-open",{originalErrorMessage:n?.message}))}}),qf)}()).transaction(Wc,"readwrite"),o=r.objectStore(Wc).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Bt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Kc=new xa("@firebase/app-check");function gC(t,e){return jo()?function Jee(t,e){return sF(function uF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Kc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yC(){return jf().enabled}function _C(){return vC.apply(this,arguments)}function vC(){return(vC=g(function*(){const t=jf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rte={error:"UNKNOWN_ERROR"};function ite(t){return $v.encodeString(JSON.stringify(t),!1)}function Wf(t){return wC.apply(this,arguments)}function wC(){return(wC=g(function*(t,e=!1){const n=t.app;cC(n);const r=Ze(n);let o,i=r.token;if(i&&!La(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(La(u)?i=u:yield gC(n,void 0))}if(!e&&i&&La(i))return{token:i.token};let a,s=!1;if(yC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gf(rF(n,yield _C()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield gC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ze(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Kc.warn(u.message):Kc.error(u),o=u}return i?o?a=La(i)?{token:i.token,internalError:o}:hF(o):(a={token:i.token},r.token=i,yield gC(n,i)):a=hF(o),s&&function dF(t,e){const n=Ze(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function cF(t){return IC.apply(this,arguments)}function IC(){return(IC=g(function*(t){const e=t.app;cC(e);const{provider:n}=Ze(e);if(yC()){const r=yield _C(),{token:i}=yield Gf(rF(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function EC(t,e){const n=Ze(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lF(t){const{app:e}=t,n=Ze(e);let r=n.tokenRefresher;r||(r=function ote(t){const{app:e}=t;return new Hee(g(function*(){let r;if(r=Ze(e).token?yield Wf(t,!0):yield Wf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ze(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},nF.RETRIAL_MIN_WAIT,nF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function La(t){return t.expireTimeMillis-Date.now()>0}function hF(t){return{token:ite(rte),error:t}}class ste{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ze(this.app);for(const n of e)EC(this.app,n.next);return Promise.resolve()}}const wF="app-check-internal";!function wte(){pn(new en("app-check",t=>function ate(t,e){return new ste(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(wF).initialize()})),pn(new en(wF,t=>function ute(t){return{getToken:e=>Wf(t,e),getLimitedUseToken:()=>cF(t),addTokenListener:e=>function CC(t,e,n,r){const{app:i}=t,o=Ze(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&La(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),lF(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lF(t))}(t,"INTERNAL",e),removeTokenListener:e=>EC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Xe("@firebase/app-check","0.8.0")}();class SC{constructor(){return rC("app-check")}}typeof window<"u"&&window;const bte=function CF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},EF=new Vr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qf=new xa("@firebase/auth");function Yf(t,...e){Qf.logLevel<=fe.ERROR&&Qf.error(`Auth (${qo}): ${t}`,...e)}function An(t,...e){throw MC(t,...e)}function jn(t,...e){return MC(t,...e)}function DF(t,e,n){const r=Object.assign(Object.assign({},bte()),{[e]:n});return new Vr("auth","Firebase",r).create(e,{appName:t.name})}function MC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EF.create(t,...e)}function M(t,e,...n){if(!t)throw MC(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function Ii(t,e){t||$r(e)}function Qc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function bF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=function XQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}()||function eY(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ste(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function xC(){return"http:"===bF()||"https:"===bF()}()||jv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function PC(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xte=new Yc(3e4,6e4);function Ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function et(t,e,n,r){return RC.apply(this,arguments)}function RC(){return(RC=g(function*(t,e,n,r,i={}){return SF(t,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=$c(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),TF.fetch()(AF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function SF(t,e,n){return kC.apply(this,arguments)}function kC(){return(kC=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mte),e);try{const i=new Pte(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Jc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Jc(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Jc(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Jc(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DF(t,l,c);An(t,l)}}catch(i){if(i instanceof nr)throw i;An(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ci(t,e,n,r){return NC.apply(this,arguments)}function NC(){return(NC=g(function*(t,e,n,r,i={}){const o=yield et(t,e,n,r,i);return"mfaPendingCredential"in o&&An(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function AF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?PC(t.config,i):`${t.config.apiScheme}://${i}`}class Pte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),xte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}function OC(){return(OC=g(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function LC(){return(LC=g(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VC(){return(VC=g(function*(t,e=!1){const n=Zt(t),r=yield n.getIdToken(e),i=Jf(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xc(UC(i.auth_time)),issuedAtTime:Xc(UC(i.iat)),expirationTime:Xc(UC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function UC(t){return 1e3*Number(t)}function Jf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Af(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ei(t,e){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof nr&&function Lte({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Vte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class MF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zc(t){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ei(t,function Nte(t,e){return LC.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function $te(t){return t.map(e=>{var{providerId:n}=e,r=bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Bte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new MF(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),$C.apply(this,arguments)}function jC(){return(jC=g(function*(t){const e=Zt(t);yield Zc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HC(){return(HC=g(function*(t,e){const n=yield SF(t,{},g(function*(){const r=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=AF(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TF.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Fte(t){const e=Jf(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function jte(t,e){return HC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new el;return r&&(M("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(M("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return $r("not implemented")}}function Xi(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Zo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new MF(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ei(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ote(t){return VC.apply(this,arguments)}(this,e)}reload(){return function Ute(t){return jC.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Zc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ei(e,function Rte(t,e){return OC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,C=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:k,isAnonymous:H,providerData:W,stsTokenManager:Rt}=n;M(_&&Rt,e,"internal-error");const Ni=el.fromJSON(this.name,Rt);M("string"==typeof _,e,"internal-error"),Xi(d,e.name),Xi(h,e.name),M("boolean"==typeof k,e,"internal-error"),M("boolean"==typeof H,e,"internal-error"),Xi(f,e.name),Xi(p,e.name),Xi(m,e.name),Xi(y,e.name),Xi(w,e.name),Xi(C,e.name);const Mu=new Zo({uid:_,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ni,createdAt:w,lastLoginAt:C});return W&&Array.isArray(W)&&(Mu.providerData=W.map($le=>Object.assign({},$le))),y&&(Mu._redirectEventId=y),Mu}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new el;i.updateFromServerResponse(n);const o=new Zo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zc(o),o})()}}const xF=new Map;function Di(t){Ii(t instanceof Function,"Expected a class definition");let e=xF.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xF.set(t,e),e)}const PF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Xf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Zo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ua(Di(PF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Di(PF);const s=Xf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Zo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ua(o,e,r)):new Ua(o,e,r)})()}}function RF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LF(e))return"Blackberry";if(VF(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||NF(e))&&!e.includes("edge/"))return"Chrome";if(FF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function kF(t=Dt()){return/firefox\//i.test(t)}function zC(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NF(t=Dt()){return/crios\//i.test(t)}function OF(t=Dt()){return/iemobile/i.test(t)}function FF(t=Dt()){return/android/i.test(t)}function LF(t=Dt()){return/blackberry/i.test(t)}function VF(t=Dt()){return/webos/i.test(t)}function Zf(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UF(t=Dt()){return Zf(t)||FF(t)||VF(t)||LF(t)||/windows phone/i.test(t)||OF(t)}function BF(t,e=[]){let n;switch(t){case"Browser":n=RF(Dt());break;case"Worker":n=`${RF(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}function $F(t,e){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(t,e){return et(t,"GET","/v2/recaptchaConfig",Ge(t,e))})).apply(this,arguments)}function HF(t){return void 0!==t&&void 0!==t.enterprise}class zF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function WC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Wte(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function GF(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Yte="NO_RECAPTCHA";class qF{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){$F(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new zF(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;HF(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(Yte)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&HF(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));WC("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function Zi(t,e,n){return KC.apply(this,arguments)}function KC(){return(KC=g(function*(t,e,n,r=!1){const i=new qF(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Jte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Xte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WF(this),this.idTokenSubscription=new WF(this),this.beforeStateQueue=new Jte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ua.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Zc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ate(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Zt(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Di(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield $F(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new zF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new qF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Di(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Ua.create(n,[Di(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return M(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tte(t,...e){Qf.logLevel<=fe.WARN&&Qf.warn(`Auth (${qo}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return Zt(t)}class WF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function sY(t,e){const n=new aY(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function KF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class QC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}function JF(t,e){return JC.apply(this,arguments)}function JC(){return(JC=g(function*(t,e){return et(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ZC(t,e){return eE.apply(this,arguments)}function eE(){return(eE=g(function*(t,e){return Ci(t,"POST","/v1/accounts:signInWithPassword",Ge(t,e))})).apply(this,arguments)}function ep(t,e){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e){return et(t,"POST","/v1/accounts:sendOobCode",Ge(t,e))})).apply(this,arguments)}function oE(t,e){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(t,e){return ep(t,e)})).apply(this,arguments)}function uE(){return(uE=g(function*(t,e){return Ci(t,"POST","/v1/accounts:signInWithEmailLink",Ge(t,e))})).apply(this,arguments)}function cE(){return(cE=g(function*(t,e){return Ci(t,"POST","/v1/accounts:signInWithEmailLink",Ge(t,e))})).apply(this,arguments)}class tl extends QC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Zi(e,i,"signInWithPassword");return ZC(e,o)}return ZC(e,i).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Zi(e,i,"signInWithPassword");return ZC(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function ane(t,e){return uE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:An(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return JF(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function une(t,e){return cE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:An(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function bi(t,e){return lE.apply(this,arguments)}function lE(){return(lE=g(function*(t,e){return Ci(t,"POST","/v1/accounts:signInWithIdp",Ge(t,e))})).apply(this,arguments)}class es extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=bd(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return bi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$c(n)}return e}}class rl{constructor(e){var n,r,i,o,s,a;const u=jc(Hc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function gne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);M(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function mne(t){const e=jc(Hc(t)).link,n=e?jc(Hc(e)).deep_link_id:null,r=jc(Hc(t)).deep_link_id;return(r?jc(Hc(r)).link:null)||r||n||e||t}(e);try{return new rl(n)}catch{return null}}}let XF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return tl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=rl.parseLink(r);return M(i,"argument-error"),tl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class eo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gE extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let yne=(()=>{class t extends gE{constructor(){super("facebook.com")}static credential(n){return es._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),_ne=(()=>{class t extends gE{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return es._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function np(t,e){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(t,e){return Ci(t,"POST","/v1/accounts:signUp",Ge(t,e))})).apply(this,arguments)}class rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const o=yield Zo._fromIdTokenResponse(e,r,i),s=ZF(r);return new rr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ZF(r);return new rr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function ZF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rp extends nr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rp(e,n,r,i)}}function eL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?rp._fromErrorAndOperation(t,o,e,r):o})}function wE(t,e){return IE.apply(this,arguments)}function IE(){return(IE=g(function*(t,e,n=!1){const r=yield Ei(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return rr._forOperation(t,"link",r)})).apply(this,arguments)}function nL(t,e){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ei(t,eL(r,i,e,t),n);M(o.idToken,r,"internal-error");const s=Jf(o.idToken);M(s,r,"internal-error");const{sub:a}=s;return M(t.uid===a,r,"user-mismatch"),rr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&An(r,"user-mismatch"),o}})).apply(this,arguments)}function rL(t,e){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(t,e,n=!1){const r="signIn",i=yield eL(t,r,e),o=yield rr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function bE(t,e){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(t,e){return rL(Tt(t),e)})).apply(this,arguments)}function UE(){return UE=g(function*(t,e,n){var r;const i=Tt(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Zi(i,o,"signUpPassword");s=np(i,c)}else s=np(i,o).catch(function(){var c=g(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Zi(i,o,"signUpPassword");return np(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),u=yield rr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),UE.apply(this,arguments)}function Tne(t,e,n){return bE(Zt(t),XF.credential(e,n))}function BE(){return BE=g(function*(t,e,n){var r;const i=Tt(t),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,u){M(u.handleCodeInApp,i,"argument-error"),u&&function Ba(t,e,n){var r;M((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),M(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}(i,a,u)}if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const a=yield Zi(i,o,"getOobCode",!0);s(a,n),yield oE(i,a)}else s(o,n),yield oE(i,o).catch(function(){var a=g(function*(u){if("auth/missing-recaptcha-token"!==u.code)return Promise.reject(u);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=yield Zi(i,o,"getOobCode",!0);s(c,n),yield oE(i,c)}});return function(u){return a.apply(this,arguments)}}())}),BE.apply(this,arguments)}function Lne(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function Vne(t){return Zt(t).signOut()}const op="__sak";class oL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qne=(()=>{class t extends oL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hne(){const t=Dt();return zC(t)||Zf(t)}()&&function Gte(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=UF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function zte(){return function tY(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),sL=(()=>{class t extends oL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Kne=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Wne(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function sp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Qne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=sp("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function eD(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function tD(){return(tD=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aL="firebaseLocalStorageDb",ere=1,ap="firebaseLocalStorage",uL="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function nD(){const t=indexedDB.open(aL,ere);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ap,{keyPath:uL})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),yield function tre(){const t=indexedDB.deleteDatabase(aL);return new ol(t).toPromise()}(),e(yield nD()))}))})}function cL(t,e,n){return rD.apply(this,arguments)}function rD(){return(rD=g(function*(t,e,n){const r=up(t,!0).put({[uL]:e,value:n});return new ol(r).toPromise()})).apply(this,arguments)}function iD(){return(iD=g(function*(t,e){const n=up(t,!1).get(e),r=yield new ol(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function lL(t,e){const n=up(t,!0).delete(e);return new ol(n).toPromise()}const ore=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield nD()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return eD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Kne._getInstance(function Zne(){return eD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Jne(){return tD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Qne(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Xne(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield nD();return yield cL(n,op,"1"),yield lL(n,op),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>cL(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function nre(t,e){return iD.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>lL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=up(s,!1).getAll();return new ol(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ns(t,e){return e?Di(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}GF("rcb"),new Yc(3e4,6e4);class fD extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ire(t){return rL(t.auth,new fD(t),t.bypassAuthState)}function Cre(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),nL(n,new fD(t),t.bypassAuthState)}function Ere(t){return pD.apply(this,arguments)}function pD(){return(pD=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),wE(n,new fD(t),t.bypassAuthState)})).apply(this,arguments)}class hL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ire;case"linkViaPopup":case"linkViaRedirect":return Ere;case"reauthViaPopup":case"reauthViaRedirect":return Cre;default:An(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dre=new Yc(2e3,1e4);function fL(t,e,n){return gD.apply(this,arguments)}function gD(){return(gD=g(function*(t,e,n){const r=Tt(t);!function Va(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&An(t,"argument-error"),DF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,eo);const i=ns(r,n);return new _D(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let _D=(()=>{class t extends hL{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return M(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Ii(1===n.filter.length,"Popup operations only handle one event");const r=sp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(jn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Dre.get())};n()}}return t.currentPopupAction=null,t})();const bre="pendingRedirect",sl=new Map;class Tre extends hL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=sl.get(n.auth._key());if(!r){try{const o=(yield function Sre(t,e){return vD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}sl.set(n.auth._key(),r)}return n.bypassAuthState||sl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function vD(){return(vD=g(function*(t,e){const n=function gL(t){return Xf(bre,t.config.apiKey,t.name)}(e),r=function pL(t){return Di(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Are(t,e){sl.set(t._key(),e)}function mL(t,e){return TD.apply(this,arguments)}function TD(){return(TD=g(function*(t,e,n=!1){const r=Tt(t),i=ns(r,e),s=yield new Tre(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class kre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Nre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vL(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_L(e))}saveEventToCache(e){this.cachedEventUids.add(_L(e)),this.lastProcessedEventTime=Date.now()}}function _L(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vL({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function AD(){return(AD=g(function*(t,e={}){return et(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Fre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lre=/^https?/;function MD(){return MD=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Ore(t){return AD.apply(this,arguments)}(t);for(const n of e)try{if(Ure(n))return}catch{}An(t,"unauthorized-domain")}),MD.apply(this,arguments)}function Ure(t){const e=Qc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Lre.test(n))return!1;if(Fre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bre=new Yc(3e4,6e4);function wL(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let lp=null;const Hre=new Yc(5e3,15e3),zre="__/auth/iframe",Gre="emulator/auth/iframe",qre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kre(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?PC(e,Gre):`https://${t.config.authDomain}/${zre}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=Wre.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$c(r).slice(1)}`}function xD(){return xD=g(function*(t){const e=yield function jre(t){return lp=lp||function $re(t){return new Promise((e,n)=>{var r,i,o;function s(){wL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wL(),n(jn(t,"network-request-failed"))},timeout:Bre.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=pt().gapi)||void 0===o||!o.load){const a=GF("iframefcb");return pt()[a]=()=>{gapi.load?s():n(jn(t,"network-request-failed"))},WC(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw lp=null,e})}(t),lp}(t),n=pt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:Kre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qre,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=jn(t,"network-request-failed"),u=pt().setTimeout(()=>{s(a)},Hre.get());function c(){pt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),xD.apply(this,arguments)}const Yre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jre=500,Xre=600,Zre="_blank",eie="http://localhost";class IL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rie="__/auth/handler",iie="emulator/auth/handler",oie=encodeURIComponent("fac");function CL(t,e,n,r,i,o){return PD.apply(this,arguments)}function PD(){return(PD=g(function*(t,e,n,r,i,o){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof eo){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function oY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof gE){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${oie}=${encodeURIComponent(u)}`:"";return`${function sie({config:t}){return t.emulator?PC(t,iie):`https://${t.authDomain}/${rie}`}(t)}?${$c(a).slice(1)}${c}`})).apply(this,arguments)}const RD="webStorageSupport",uie=class aie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sL,this._completeRedirectFn=mL,this._overrideRedirectResult=Are}_openPopup(e,n,r,i){var o=this;return g(function*(){var s;Ii(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield CL(e,n,r,Qc(),i);return function tie(t,e,n,r=Jre,i=Xre){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Yre),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Dt().toLowerCase();n&&(a=NF(c)?Zre:n),kF(c)&&(e=e||eie,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Hte(t=Dt()){var e;return Zf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function nie(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new IL(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new IL(d)}(e,a,sp())})()}_openRedirect(e,n,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Yne(t){pt().location.href=t}(yield CL(e,n,r,Qc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Qre(t){return xD.apply(this,arguments)}(e),i=new kre(e);return r.register("authEvent",o=>(M(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(RD,{type:RD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[RD];void 0!==s&&n(!!s),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Vre(t){return MD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UF()||zC()||Zf()}};var bL="@firebase/auth";class cie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fie=xN("authIdTokenMaxAge")||300;let SL=null;const pie=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>fie)return;const o=r?.token;SL!==o&&(SL=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function gie(t=tw()){const e=Pa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Zte(t,e){const n=Pa(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Rf(n.getOptions(),e??{}))return i;An(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:uie,persistence:[ore,qne,sL]}),r=xN("authTokenSyncURL");if(r){const o=pie(r);(function Fne(t,e,n){Zt(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function One(t,e,n,r){Zt(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=AN("auth");return i&&function tne(t,e,n){const r=Tt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=KF(e),{host:s,port:a}=function nne(t){const e=KF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:QF(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:QF(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function rne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function die(t){pn(new en("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BF(t)},c=new Xte(r,i,o,u);return function ene(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pn(new en("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new cie(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(bL,"0.23.2",function lie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Xe(bL,"0.23.2","esm2017")}("Browser");class hp{constructor(e){return e}}class ML{constructor(){return rC("auth")}}const ND=new U("angularfire2.auth-instances");function yie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hp(r)}}const _ie={provide:ML,deps:[[new Qt,ND]]},vie={provide:hp,useFactory:function mie(t,e){const n=nC("auth",t,e);return n&&new hp(n)},deps:[[new Qt,ND],Fa]};let wie=(()=>{class t{constructor(){Xe("angularfire",$f.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({providers:[vie,_ie]}),t})();function Iie(t,...e){return{ngModule:wie,providers:[{provide:ND,useFactory:yie(t),multi:!0,deps:[Fe,Un,iC,oC,[new Qt,SC],...e]}]}}const Cie=_r(gie,!0),fp=_r(Lne,!0),Eie=_r(Tne,!0),Die=_r(Vne,!0);let bie=(()=>{class t{constructor(){this.LocalStore=localStorage}set(n,r){try{return this.LocalStore.setItem(n,JSON.stringify(r)),!0}catch{return!1}}get(n){try{return{status:!0,data:JSON.parse(this.LocalStore.getItem(n)??"")}}catch{return{status:!1,data:null}}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xL=(()=>{class t{constructor(n,r,i){this.auth=n,this.route=r,this.localStore=i,this.googeProvider=new _ne,this.facebookProvider=new yne,this.actionCodeSettings={url:"https://tabaski.web.app/",handleCodeInApp:!0}}signIn(n){Eie(this.auth,n.email,n.password).then(r=>{(function Sne(t,e,n){return BE.apply(this,arguments)})(this.auth,n.email,this.actionCodeSettings).then(()=>{this.localStore.set("emailForSignIn",n.email),console.log(n.email,"verified"),this.localStore.set("User",{Name:n.username,email:n?.email,loginStatus:!0})}).catch(i=>{console.log(i.code,i.message)}),fp(this.auth,i=>{this.localStore.set("User",{Name:i?.displayName,email:i?.email,PhotoURL:i?.photoURL,loginStatus:i?.emailVerified})})}).catch(r=>{console.log(r.code),console.log(r.message)})}signOut(){Die(this.auth).then(()=>{fp(this.auth,n=>{this.localStore.set("User",{Name:n?.displayName,email:n?.email,PhotoURL:n?.photoURL,loginStatus:!1})}),window.location.reload(),alert("Signed out successfully")}).catch(n=>{alert(n.code)})}signUp(n){(function bne(t,e,n){return UE.apply(this,arguments)})(this.auth,n.email,n.password).then(r=>{console.log("Registration successfull"),this.route.navigate(["/sign-in"])}).catch(r=>{console.log(r.code)})}googleSignIn(){fL(this.auth,this.googeProvider).then(n=>{console.log(n.user),this.route.navigate(["main"]),fp(this.auth,r=>{this.localStore.set("User",{Name:r?.displayName,email:r?.email,PhotoURL:r?.photoURL,loginStatus:r?.emailVerified})})}).catch(n=>{console.log(n.code)})}facebookSignIn(){fL(this.auth,this.facebookProvider).then(n=>{console.log(n.user),this.route.navigate([""]),fp(this.auth,r=>{this.localStore.set("User",{Name:r?.displayName,email:r?.email,PhotoURL:r?.photoURL,loginStatus:r?.emailVerified})})}).catch(n=>{console.log(n.code)})}}return t.\u0275fac=function(n){return new(n||t)($(hp),$(fn),$(bie))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PL=(()=>{class t{constructor(n){this.authservice=n}signUp(n){this.authservice.signUp(n)}signIn(n){this.authservice.signIn(n)}google(){this.authservice.googleSignIn()}facebook(){this.authservice.facebookSignIn()}}return t.\u0275fac=function(n){return new(n||t)($(xL))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(ai),b(Vn))},t.\u0275dir=J({type:t}),t})(),rs=(()=>{class t extends RL{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=J({type:t,features:[Ee]}),t})();const jr=new U("NgValueAccessor"),Aie={provide:jr,useExisting:xe(()=>$a),multi:!0},xie=new U("CompositionEventMode");let $a=(()=>{class t extends RL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mie(){const t=fi()?fi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(ai),b(Vn),b(xie,8))},t.\u0275dir=J({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Pe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[$e([Aie]),Ee]}),t})();const Pie=!1,tn=new U("NgValidators"),no=new U("NgAsyncValidators");function HL(t){return null!=t}function zL(t){const e=ac(t)?lt(t):t;if(Pie&&!Qy(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new S(-1101,n)}return e}function GL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function qL(t,e){return e.map(n=>n(t))}function WL(t){return t.map(e=>function kie(t){return!t.validate}(e)?e:n=>e.validate(n))}function OD(t){return null!=t?function KL(t){if(!t)return null;const e=t.filter(HL);return 0==e.length?null:function(n){return GL(qL(n,e))}}(WL(t)):null}function FD(t){return null!=t?function QL(t){if(!t)return null;const e=t.filter(HL);return 0==e.length?null:function(n){return function Tie(...t){const e=bS(t),{args:n,keys:r}=lk(t),i=new We(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;qn(n[l]).subscribe(yt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?hk(r,a):a),o.complete())}))}});return e?i.pipe(dk(e)):i}(qL(n,e).map(zL)).pipe(le(GL))}}(WL(t)):null}function YL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LD(t){return t?Array.isArray(t)?t:[t]:[]}function gp(t,e){return Array.isArray(t)?t.includes(e):t===e}function ZL(t,e){const n=LD(e);return LD(t).forEach(i=>{gp(n,i)||n.push(i)}),n}function e2(t,e){return LD(e).filter(n=>!gp(t,n))}class t2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class mn extends t2{get formDirective(){return null}get path(){return null}}class ro extends t2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mp=(()=>{class t extends n2{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(ro,2))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Eh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),t})(),yp=(()=>{class t extends n2{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(mn,10))},t.\u0275dir=J({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Eh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ee]}),t})();function r2(t,e){return t?`with name: '${e}'`:`at index: ${e}`}const BD=!1,al="VALID",vp="INVALID",ja="PENDING",ul="DISABLED";function $D(t){return(wp(t)?t.validators:t)||null}function jD(t,e){return(wp(e)?e.asyncValidators:t)||null}function wp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function i2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,BD?function Lie(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[n])throw new S(1001,BD?function Vie(t,e){return`Cannot find form control ${r2(t,e)}`}(e,n):"")}function o2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,BD?function Uie(t,e){return`Must supply a value for form control ${r2(t,e)}`}(e,i):"")})}class Ip{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===al}get invalid(){return this.status===vp}get pending(){return this.status==ja}get disabled(){return this.status===ul}get enabled(){return this.status!==ul}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(e2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(e2(e,this._rawAsyncValidators))}hasValidator(e){return gp(this._rawValidators,e)}hasAsyncValidator(e){return gp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ja,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ul,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=al,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===al||this.status===ja)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ul:al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ja,this._hasOwnPendingAsyncValidator=!0;const n=zL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?ul:this.errors?vp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ja)?ja:this._anyControlsHaveStatus(vp)?vp:al}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Bie(t){return Array.isArray(t)?OD(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $ie(t){return Array.isArray(t)?FD(t):t||null}(this._rawAsyncValidators)}}class cl extends Ip{constructor(e,n,r){super($D(n),jD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){o2(this,!0,e),Object.keys(e).forEach(r=>{i2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class s2 extends cl{}const Ha=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Cp}),Cp="always";function ll(t,e,n=Cp){HD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Hie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&a2(t,e)})}(t,e),function Gie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function zie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&a2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function jie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function bp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function HD(t,e){const n=function JL(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(YL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function XL(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(YL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();bp(e._rawValidators,i),bp(e._rawAsyncValidators,i)}function a2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Yie={provide:mn,useExisting:xe(()=>za)},dl=(()=>Promise.resolve())();let za=(()=>{class t extends mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new cl({},OD(n),FD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){dl.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ll(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){dl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){dl.then(()=>{const r=this._findContainer(n.path),i=new cl({});(function u2(t,e){HD(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){dl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){dl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function c2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(tn,10),b(no,10),b(Ha,8))},t.\u0275dir=J({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Pe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([Yie]),Ee]}),t})();function l2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function d2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const hl=class extends Ip{constructor(e=null,n,r){super($D(n),jD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=d2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){l2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){l2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){d2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Zie={provide:ro,useExisting:xe(()=>fl)},p2=(()=>Promise.resolve())();let fl=(()=>{class t extends ro{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new hl,this._registered=!1,this.update=new Je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qD(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===$a?n=o:function Kie(t){return Object.getPrototypeOf(t.constructor)===rs}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function GD(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ll(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){p2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&ya(r);p2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Ep(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(mn,9),b(tn,10),b(no,10),b(jr,10),b(Uh,8),b(Ha,8))},t.\u0275dir=J({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([Zie]),Ee,Qn]}),t})(),Sp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=J({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),m2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({}),t})();const coe={provide:jr,useExisting:xe(()=>Ap),multi:!0};function E2(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ap=(()=>{class t extends rs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=E2(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function loe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=J({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Pe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([coe]),Ee]}),t})(),D2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(E2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(Vn),b(ai),b(Ap,9))},t.\u0275dir=J({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const doe={provide:jr,useExisting:xe(()=>YD),multi:!0};function b2(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let YD=(()=>{class t extends rs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function hoe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=J({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Pe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([doe]),Ee]}),t})(),T2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(b2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(b2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(Vn),b(ai),b(YD,9))},t.\u0275dir=J({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Ioe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({imports:[m2]}),t})();class F2 extends Ip{constructor(e,n,r){super($D(n),jD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){o2(this,!1,e),e.forEach((r,i)=>{i2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function L2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Coe=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return L2(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cl(i,o)}record(n,r=null){const i=this._reduceControls(n);return new s2(i,r)}control(n,r,i){let o={};return this.useNonNullable?(L2(r)?o=r:(o.validators=r,o.asyncValidators=i),new hl(n,{...o,nonNullable:!0})):new hl(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new F2(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof hl||n instanceof Ip?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Eoe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.callSetDisabledState??Cp}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({imports:[Ioe]}),t})(),Doe=(()=>{class t{constructor(n,r){this.checkStore=n,this.route=r,this.User={username:"",password:"",email:""}}submit(n,r){this.checkStore.signIn(r)}googleAuth(n){this.checkStore.google()}facebookSignIn(n){this.checkStore.facebook()}}return t.\u0275fac=function(n){return new(n||t)(b(PL),b(fn))},t.\u0275cmp=Li({type:t,selectors:[["app-sign-in"]],decls:14,vars:2,consts:[["action","get","id","isma"],[1,"google"],[1,"fa-brands","fa-google",3,"click"],[1,"icon"],[1,"fa-regular","fa-user"],["type","email","name","email","placeholder","email",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-lock"],["type","password","name","password","placeholder","password",3,"ngModel","ngModelChange"],["id","btn","id","youssef",1,"btn",3,"click"]],template:function(n,r){1&n&&(x(0,"form",0)(1,"h1"),z(2,"Sign In"),A(),x(3,"div",1)(4,"i",2),Pe("click",function(o){return r.googleAuth(o)}),A()(),x(5,"div",3),me(6,"i",4),A(),x(7,"input",5),Pe("ngModelChange",function(o){return r.User.email=o}),A(),x(8,"div",3),me(9,"i",6),A(),x(10,"input",7),Pe("ngModelChange",function(o){return r.User.password=o}),A(),me(11,"br"),x(12,"button",8),Pe("click",function(o){return r.submit(o,r.User)}),z(13,"sign in"),A()()),2&n&&(Te(7),Qe("ngModel",r.User.email),Te(3),Qe("ngModel",r.User.password))},dependencies:[Sp,$a,mp,yp,fl,za],styles:['@import"https://fonts.googleapis.com/css2?family=Arimo:wght@500&family=Cantarell:wght@400;700&family=Catamaran:wght@300&family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;1,100;1,200&family=Kalam:wght@300;400;700&family=Lato:wght@700&family=Oswald&family=Outfit:wght@200;300&family=Poppins:wght@300;400;500;600&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}button[_ngcontent-%COMP%]{padding:8px;width:90px;font-size:16px;border:1px solid rgb(198,198,198);border-radius:5px;cursor:pointer;outline:none}.container[_ngcontent-%COMP%]{width:90%;height:90vh;margin:20px auto;box-sizing:border-box}form[_ngcontent-%COMP%]{width:50%;height:70vh;background:#8b27c7;text-align:center;border-radius:12px;position:absolute;padding-top:5px;margin:70px 24rem}form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:35px;color:#fff}form[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]{color:#fff}form[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;cursor:pointer}form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;width:23px;margin:68px 53px;padding-left:7px;align-items:center;font-size:25px}form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;height:15%;margin:5% 1%;padding-left:50px;border-radius:10px;background:#9ea1a1;border:none;font-size:20px;color:#9ea1a1}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;color:#fff;font-size:20px;font-weight:600}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:15px;font-weight:600;padding-top:3px;text-transform:uppercase;color:#fff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:70%;height:14%;margin:5% 17%;border-radius:10px;font-size:25px;background:#8b27c7;border:none;cursor:pointer;font-weight:700;color:#fff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(52,3,81,.8196078431)}']}),t})(),boe=(()=>{class t{constructor(n){this.users=n,this.User={username:"",email:"",password:""}}submit(n,r){this.users.signUp(r)}}return t.\u0275fac=function(n){return new(n||t)(b(PL))},t.\u0275cmp=Li({type:t,selectors:[["app-create-account"]],decls:41,vars:3,consts:[[1,"main"],[1,"ditele_info"],[1,"description"],[1,"sub_description"],[1,"quality"],[1,"fa-solid","fa-star"],[1,"fast"],[1,"fa-solid","fa-truck"],["href",""],["action","get"],[1,"icon"],[1,"fa-regular","fa-user"],["type","text","name","username","placeholder","User name",3,"ngModel","ngModelChange"],[1,"fa-regular","fa-envelope"],["type","email","name","email","placeholder","Email",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-lock"],["type","password","name","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"btn2",3,"click"],["routerLink","/sign-in"]],template:function(n,r){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),z(4,"Task Yousma"),A(),x(5,"div",3)(6,"div",4),me(7,"i",5),x(8,"p"),z(9,"Quality "),me(10,"br"),z(11," Checked"),A()(),x(12,"div",6),me(13,"i",7),x(14,"p"),z(15,"Fast "),me(16,"br"),z(17," Delivery"),A()()(),x(18,"span")(19,"a",8),z(20,"Learn more about our features and services! "),A()()(),x(21,"form",9)(22,"h1"),z(23,"Create Account"),A(),x(24,"div",10),me(25,"i",11),A(),x(26,"input",12),Pe("ngModelChange",function(o){return r.User.username=o}),A(),x(27,"div",10),me(28,"i",13),A(),x(29,"input",14),Pe("ngModelChange",function(o){return r.User.email=o}),A(),x(30,"div",10),me(31,"i",15),A(),x(32,"input",16),Pe("ngModelChange",function(o){return r.User.password=o}),A(),me(33,"br"),x(34,"button",17),Pe("click",function(o){return r.submit(o,r.User)}),z(35,"SEND"),A(),me(36,"br"),x(37,"p",18),z(38,"Already Have An Account? "),x(39,"a"),z(40," Login"),A()()()()()),2&n&&(Te(26),Qe("ngModel",r.User.username),Te(3),Qe("ngModel",r.User.email),Te(3),Qe("ngModel",r.User.password))},dependencies:[Aa,Sp,$a,mp,yp,fl,za],styles:['@import"https://fonts.googleapis.com/css2?family=Arimo:wght@500&family=Cantarell:wght@400;700&family=Catamaran:wght@300&family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;1,100;1,200&family=Kalam:wght@300;400;700&family=Lato:wght@700&family=Oswald&family=Outfit:wght@200;300&family=Poppins:wght@300;400;500;600&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}button[_ngcontent-%COMP%]{padding:8px;width:90px;font-size:16px;border:1px solid rgb(198,198,198);border-radius:5px;cursor:pointer;outline:none}.container[_ngcontent-%COMP%]{width:90%;height:90vh;margin:20px auto;box-sizing:border-box}.main[_ngcontent-%COMP%]{height:100vh;background:rgba(50,40,40,.403);background-repeat:no-repeat;overflow:hidden;background-size:cover}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]{display:flex;width:80%;margin-left:10%;height:85vh;margin-top:1.6em}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:50%;background-color:#340351d1;background-repeat:no-repeat;overflow:hidden;background-size:cover;border-top-left-radius:20px;border-bottom-left-radius:20px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:50%;margin-left:25%;margin-top:35px;border-radius:20px;padding:20px;border:5px solid #ffffff;color:#fff;text-align:center;font-size:40px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]{display:flex;gap:20px;width:80%;margin-left:10%;margin-top:100px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%]{width:50%;height:15em;background-color:transparent;box-shadow:0 0 20px #090909;text-align:center;border-radius:10px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:10px;font-size:90px;color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;margin:50px 46px;font-size:30px;font-weight:800;line-height:45px;color:#fff;text-align:center}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .fast[_ngcontent-%COMP%]{position:relative;width:50%;height:15em;background-color:transparent;box-shadow:0 0 20px #090909;text-align:center;border-radius:10px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .fast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:10px;font-size:90px;color:#fa801b}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .sub_description[_ngcontent-%COMP%]   .fast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;margin:50px 46px;text-align:center;font-size:30px;font-weight:800;line-height:45px;color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;font-size:23px;margin:7em 1.7em;letter-spacing:2px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;text-align:center;background-color:#fff;background-repeat:no-repeat;overflow:hidden;background-size:cover;border-top-right-radius:20px;border-bottom-right-radius:20px;width:50%}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;color:#8b27c7;margin-top:50px;margin-bottom:60px;font-weight:500}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;width:23px;margin:53px 70px;padding-left:7px;align-items:center;font-size:25px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70%;height:10%;margin:5% 0 0 1%;padding-left:60px;border-radius:10px;background:#9ea1a1;border:none;font-size:20px;color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;color:#fff;font-size:20px;font-weight:600}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:15px;font-weight:600;padding-top:3px;text-transform:uppercase;border:none;color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60%;height:10%;margin:7% 0 0 2.8%;border-radius:10px;font-size:25px;background:#8b27c7;border:none;cursor:pointer;font-weight:700;color:#fff}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(52,3,81,.8196078431)}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:40px 0 0 30px;letter-spacing:1px;gap:10px}.main[_ngcontent-%COMP%]   .ditele_info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8b27c7;cursor:pointer}']}),t})();var N,Toe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={},XD=XD||{},Z=Toe||self;function Mp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function pl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ZD="closure_uid_"+(1e9*Math.random()>>>0),Aoe=0;function Moe(t,e,n){return t.call.apply(t.bind,arguments)}function xoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Moe:xoe).apply(null,arguments)}function xp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function io(){this.s=this.s,this.o=this.o}io.prototype.s=!1,io.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Soe(t){Object.prototype.hasOwnProperty.call(t,ZD)&&t[ZD]||(t[ZD]=++Aoe)}(this)},io.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const V2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function e0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function U2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mp(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Roe=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function gl(t){return/^[\s\xa0]*$/.test(t)}function Pp(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Hr(t){return-1!=Pp().indexOf(t)}function t0(t){return t0[" "](t),t}t0[" "]=function(){};var r0,t,Noe=Hr("Opera"),Ga=Hr("Trident")||Hr("MSIE"),B2=Hr("Edge"),n0=B2||Ga,$2=Hr("Gecko")&&!(-1!=Pp().toLowerCase().indexOf("webkit")&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),Ooe=-1!=Pp().toLowerCase().indexOf("webkit")&&!Hr("Edge");function j2(){var t=Z.document;return t?t.documentMode:void 0}e:{var o0="",s0=(t=Pp(),$2?/rv:([^\);]+)(\)|;)/.exec(t):B2?/Edge\/([\d\.]+)/.exec(t):Ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ooe?/WebKit\/(\S+)/.exec(t):Noe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(s0&&(o0=s0?s0[1]:""),Ga){var a0=j2();if(null!=a0&&a0>parseFloat(o0)){r0=String(a0);break e}}r0=o0}var Foe=Z.document&&Ga&&(j2()||parseInt(r0,10))||void 0;function ml(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($2){e:{try{t0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Loe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ml.$.h.call(this)}}St(ml,rn);var Loe={2:"touch",3:"pen",4:"mouse"};ml.prototype.h=function(){ml.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),Voe=0;function Uoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Voe,this.fa=this.ia=!1}function Rp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function c0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function z2(t){const e={};for(const n in t)e[n]=t[n];return e}const G2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<G2.length;o++)n=G2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kp(t){this.src=t,this.g={},this.h=0}function l0(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=V2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Rp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function d0(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}kp.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=d0(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Uoe(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var h0="closure_lm_"+(1e6*Math.random()|0),f0={};function W2(t,e,n,r,i){if(r&&r.once)return Q2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)W2(t,e[o],n,r,i);return null}return n=y0(n),t&&t[yl]?t.O(e,n,pl(r)?!!r.capture:!!r,i):K2(t,e,n,!1,r,i)}function K2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=pl(i)?!!i.capture:!!i,a=g0(t);if(a||(t[h0]=a=new kp(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function $oe(){const e=joe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Roe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Q2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Q2(t,e[o],n,r,i);return null}return n=y0(n),t&&t[yl]?t.P(e,n,pl(r)?!!r.capture:!!r,i):K2(t,e,n,!0,r,i)}function Y2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Y2(t,e[o],n,r,i);else r=pl(r)?!!r.capture:!!r,n=y0(n),t&&t[yl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=d0(o=t.g[e],n,r,i))&&(Rp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=g0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=d0(e,n,r,i)),(n=-1<t?e[t]:null)&&p0(n))}function p0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[yl])l0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=g0(e))?(l0(n,t),0==n.h&&(n.src=null,e[h0]=null)):Rp(t)}}}function J2(t){return t in f0?f0[t]:f0[t]="on"+t}function joe(t,e){if(t.fa)t=!0;else{e=new ml(e,this);var n=t.listener,r=t.la||t.src;t.ia&&p0(t),t=n.call(r,e)}return t}function g0(t){return(t=t[h0])instanceof kp?t:null}var m0="__closure_events_fn_"+(1e9*Math.random()>>>0);function y0(t){return"function"==typeof t?t:(t[m0]||(t[m0]=function(e){return t.handleEvent(e)}),t[m0])}function At(){io.call(this),this.i=new kp(this),this.S=this,this.J=null}function $t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;q2(e=new rn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Np(s,r,!0,e)&&i}if(i=Np(s=e.g=t,r,!0,e)&&i,i=Np(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Np(s=e.g=n[o],r,!1,e)&&i}function Np(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&l0(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}St(At,io),At.prototype[yl]=!0,At.prototype.removeEventListener=function(t,e,n,r){Y2(this,t,e,n,r)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rp(n[r]);delete t.g[e],t.h--}}this.J=null},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _0=Z.JSON.stringify;function zoe(){var t=v0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var X2=new class Hoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qoe,t=>t.reset());class qoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Woe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Koe(t){Z.setTimeout(()=>{throw t},0)}let _l,vl=!1,v0=new class Goe{constructor(){this.h=this.g=null}add(e,n){const r=X2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Z2=()=>{const t=Z.Promise.resolve(void 0);_l=()=>{t.then(Qoe)}};var Qoe=()=>{for(var t;t=zoe();){try{t.h.call(t.g)}catch(n){Koe(n)}var e=X2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vl=!1};function Op(t,e){At.call(this),this.h=t||1,this.g=e||Z,this.j=nn(this.qb,this),this.l=Date.now()}function w0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function I0(t,e,n){if("function"==typeof t)n&&(t=nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function eV(t){t.g=I0(()=>{t.g=null,t.i&&(t.i=!1,eV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}St(Op,At),(N=Op.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(w0(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Op.$.N.call(this),w0(this),delete this.g};class Yoe extends io{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eV(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(t){io.call(this),this.h=t,this.g={}}St(wl,io);var tV=[];function nV(t,e,n,r){Array.isArray(n)||(n&&(tV[0]=n.toString()),n=tV);for(var i=0;i<n.length;i++){var o=W2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function rV(t){c0(t.g,function(e,n){this.g.hasOwnProperty(n)&&p0(e)},t),t.g={}}function Fp(){this.g=!0}function qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ese(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}wl.prototype.N=function(){wl.$.N.call(this),rV(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.Ea=function(){this.g=!1},Fp.prototype.info=function(){};var os={},iV=null;function Lp(){return iV=iV||new At}function oV(t){rn.call(this,os.Ta,t)}function Il(t){const e=Lp();$t(e,new oV(e))}function sV(t,e){rn.call(this,os.STAT_EVENT,t),this.stat=e}function yn(t){const e=Lp();$t(e,new sV(e,t))}function aV(t,e){rn.call(this,os.Ua,t),this.size=e}function Cl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}os.Ta="serverreachability",St(oV,rn),os.STAT_EVENT="statevent",St(sV,rn),os.Ua="timingevent",St(aV,rn);var Vp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function C0(){}function lV(){}C0.prototype.h=null;var b0,El={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function E0(){rn.call(this,"d")}function D0(){rn.call(this,"c")}function Up(){}function Dl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new wl(this),this.P=tse,this.V=new Op(t=n0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dV}function dV(){this.i=null,this.g="",this.h=!1}St(E0,rn),St(D0,rn),St(Up,C0),Up.prototype.g=function(){return new XMLHttpRequest},Up.prototype.i=function(){return{}},b0=new Up;var tse=45e3,T0={},Bp={};function S0(t,e,n){t.L=1,t.v=zp(Ti(e)),t.s=n,t.S=!0,hV(t,null)}function hV(t,e){t.G=Date.now(),bl(t),t.A=Ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),CV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new dV,t.g=qV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Yoe(nn(t.Pa,t,t.g),t.O)),nV(t.U,t.g,"readystatechange",t.nb),e=t.I?z2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Il(),function Joe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function fV(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function pV(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=nse(t,n),i==Bp){4==e&&(t.o=4,yn(14),r=!1),qa(t.j,t.m,null,"[Incomplete Response]");break}if(i==T0){t.o=4,yn(15),qa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}qa(t.j,t.m,i,null),A0(t,i)}fV(t)&&i!=Bp&&i!=T0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),O0(e),e.M=!0,yn(11))):(qa(t.j,t.m,n,"[Invalid Chunked Response]"),ss(t),Tl(t))}function nse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bp:(n=Number(e.substring(n,r)),isNaN(n)?T0:(r+=1)+n>e.length?Bp:(e=e.slice(r,r+n),t.C=r+n,e))}function bl(t){t.Y=Date.now()+t.P,gV(t,t.P)}function gV(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Cl(nn(t.lb,t),e)}function $p(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Tl(t){0==t.l.H||t.J||jV(t.l,t)}function ss(t){$p(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,w0(t.V),rV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function A0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||M0(n.i,t)))if(!t.K&&M0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Yp(n),Kp(n)}N0(n),yn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Cl(nn(n.ib,n),6e3));if(1>=bV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((t.K||n.g==t)&&Yp(n),!gl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(x0(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Le(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=GV(r,r.J?r.pa:null,r.Y),s.K){TV(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&($p(a),bl(a)),r.g=s}else BV(r);0<n.j.length&&Qp(n)}else"stop"!=c[0]&&"close"!=c[0]||us(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?us(n,7):k0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Il()}catch{}}function mV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function ise(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function rse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Mp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(N=Dl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==zr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=zr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||n0||this.g&&(this.h.h||this.g.ja()||NV(this.g)))){this.J||4!=l||7==e||Il(),$p(this);var n=this.g.da();this.ca=n;t:if(fV(this)){var r=NV(this.g);t="";var i=r.length,o=4==zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Tl(this);var s="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Xoe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,yn(12),ss(this),Tl(this);break e}qa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,A0(this,n)}this.S?(pV(this,l,s),n0&&this.i&&3==l&&(nV(this.U,this.V,"tick",this.mb),this.V.start())):(qa(this.j,this.m,s,null),A0(this,s)),4==l&&ss(this),this.i&&!this.J&&(4==l?jV(this.l,this):(this.i=!1,bl(this)))}else(function Cse(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(gl(t[r]))continue;var n=Woe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Boe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),ss(this),Tl(this)}}}catch{}},N.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.C<e.length&&($p(this),pV(this,t,e),this.i&&4!=t&&bl(this))}},N.cancel=function(){this.J=!0,ss(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Zoe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Il(),yn(17)),ss(this),this.o=2,Tl(this)):gV(this,this.Y-t)};var yV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof as){this.h=t.h,jp(this,t.j),this.s=t.s,this.g=t.g,Hp(this,t.m),this.l=t.l;var e=t.i,n=new Ml;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_V(this,n),this.o=t.o}else t&&(e=String(t).match(yV))?(this.h=!1,jp(this,e[1]||"",!0),this.s=Sl(e[2]||""),this.g=Sl(e[3]||"",!0),Hp(this,e[4]),this.l=Sl(e[5]||"",!0),_V(this,e[6]||"",!0),this.o=Sl(e[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}function Ti(t){return new as(t)}function jp(t,e,n){t.j=n?Sl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _V(t,e,n){e instanceof Ml?(t.i=e,function dse(t,e){e&&!t.j&&(oo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wV(this,r),CV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Al(e,cse)),t.i=new Ml(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function zp(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Al(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Al(e,vV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Al(e,vV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Al(n,"/"==n.charAt(0)?use:ase,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Al(n,lse)),t.join("")};var vV=/[#\/\?@]/g,ase=/[#\?:]/g,use=/[#\?]/g,cse=/[#\?@]/g,lse=/#/g;function Ml(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oo(t){t.g||(t.g=new Map,t.h=0,t.i&&function ose(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wV(t,e){oo(t),e=Wa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function IV(t,e){return oo(t),e=Wa(t,e),t.g.has(e)}function CV(t,e,n){wV(t,e),0<n.length&&(t.i=null,t.g.set(Wa(t,e),e0(n)),t.h+=n.length)}function Wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EV(t){this.l=t||fse,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Ml.prototype).add=function(t,e){oo(this),this.i=null,t=Wa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){oo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){oo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},N.Z=function(t){oo(this);let e=[];if("string"==typeof t)IV(this,t)&&(e=e.concat(this.g.get(Wa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return oo(this),this.i=null,IV(this,t=Wa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var fse=10;function DV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function bV(t){return t.h?1:t.g?t.g.size:0}function M0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function x0(t,e){t.g?t.g.add(e):t.h=e}function TV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function SV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return e0(t.i)}EV.prototype.cancel=function(){if(this.i=SV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var pse=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function gse(){this.g=new pse}function mse(t,e,n){const r=n||"";try{mV(t,function(i,o){let s=i;pl(i)&&(s=_0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xl(t){this.l=t.fc||null,this.j=t.ob||!1}function qp(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=P0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(xl,C0),xl.prototype.g=function(){return new qp(this.l,this.j)},xl.prototype.i=function(t){return function(){return t}}({}),St(qp,At);var P0=0;function AV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Pl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rl(t)}function Rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=qp.prototype).open=function(t,e){if(this.readyState!=P0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pl(this)),this.readyState=P0},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pl(this):Rl(this),3==this.readyState&&AV(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Pl(this))},N.Ya=function(t){this.g&&(this.response=t,Pl(this))},N.ka=function(){this.g&&Pl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var _se=Z.JSON.parse;function tt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MV,this.L=this.M=!1}St(tt,At);var MV="",vse=/^https?$/i,wse=["POST","PUT"];function xV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PV(t),Wp(t)}function PV(t){t.F||(t.F=!0,$t(t,"complete"),$t(t,"error"))}function RV(t){if(t.h&&typeof XD<"u"&&(!t.C[1]||4!=zr(t)||2!=t.da()))if(t.v&&4==zr(t))I0(t.La,0,t);else if($t(t,"readystatechange"),4==zr(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(yV)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!vse.test(i?i.toLowerCase():"")}n=r}if(n)$t(t,"complete"),$t(t,"success");else{t.m=6;try{var o=2<zr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",PV(t)}}finally{Wp(t)}}}function Wp(t,e){if(t.g){kV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch{}}}function kV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function zr(t){return t.g?t.g.readyState:0}function NV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function OV(t){let e="";return c0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function R0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=OV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FV(t){this.Ga=0,this.j=[],this.l=new Fp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kl("baseRetryDelayMs",5e3,t),this.hb=kl("retryDelaySeedMs",1e4,t),this.eb=kl("forwardChannelMaxRetries",2,t),this.xa=kl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new EV(t&&t.concurrentRequestLimit),this.Ja=new gse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function k0(t){if(LV(t),3==t.H){var e=t.W++,n=Ti(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Nl(t,n),(e=new Dl(t,t.l,e)).L=2,e.v=zp(Ti(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=qV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bl(e)}zV(t)}function Kp(t){t.g&&(O0(t),t.g.cancel(),t.g=null)}function LV(t){Kp(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Yp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function Qp(t){if(!DV(t.i)&&!t.m){t.m=!0;var e=t.Na;_l||Z2(),vl||(_l(),vl=!0),v0.add(e,t),t.C=0}}function VV(t,e){var n;n=e?e.m:t.W++;const r=Ti(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Nl(t,r),t.o&&t.s&&R0(r,t.o,t.s),n=new Dl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),x0(t.i,n),S0(n,r,e)}function Nl(t,e){t.na&&c0(t.na,function(n,r){Le(e,r,n)}),t.h&&mV({},function(n,r){Le(e,r,n)})}function UV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{mse(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function BV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_l||Z2(),vl||(_l(),vl=!0),v0.add(e,t),t.A=0}}function N0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Cl(nn(t.Ma,t),HV(t,t.A)),t.A++,0))}function O0(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function $V(t){t.g=new Dl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ti(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Nl(t,e),t.o&&t.s&&R0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=zp(Ti(e)),n.s=null,n.S=!0,hV(n,t)}function Yp(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function jV(t,e){var n=null;if(t.g==e){Yp(t),O0(t),t.g=null;var r=2}else{if(!M0(t.i,e))return;n=e.F,TV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;$t(r=Lp(),new aV(r,n)),Qp(t)}else BV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ese(t,e){return!(bV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Cl(nn(t.Na,t,e),HV(t,t.C)),t.C++,0)))}(t,e)||2==r&&N0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}function HV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function us(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=nn(t.pb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||jp(n,"https"),zp(n)),function yse(t,e){const n=new Fp;if(Z.Image){const r=new Image;r.onload=xp(Gp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xp(Gp,n,r,"TestLoadImage: error",!1,e),r.onabort=xp(Gp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xp(Gp,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yn(2);t.H=0,t.h&&t.h.za(e),zV(t),LV(t)}function zV(t){if(t.H=0,t.ma=[],t.h){const e=SV(t.i);(0!=e.length||0!=t.j.length)&&(U2(t.ma,e),U2(t.ma,t.j),t.i.i.length=0,e0(t.j),t.j.length=0),t.h.ya()}}function GV(t,e,n){var r=n instanceof as?Ti(n):new as(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Hp(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new as(null);r&&jp(o,r),e&&(o.g=e),i&&Hp(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Le(r,n,e),Le(r,"VER",t.ra),Nl(t,r),r}function qV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new xl({ob:!0}):t.va)).Oa(t.J),e}function WV(){}function Jp(){if(Ga&&!(10<=Number(Foe)))throw Error("Environmental error: no available transport.")}function Hn(t,e){At.call(this),this.g=new FV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ka(this)}function KV(t){E0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function QV(){D0.call(this),this.status=1}function Ka(t){this.g=t}function wr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function F0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(N=tt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b0.g(),this.C=function cV(t){return t.h||(t.h=t.i())}(this.u?this.u:b0),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void xV(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=V2(wse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kV(this),0<this.B&&((this.L=function Ise(t){return Ga&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=I0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xV(this,o)}},N.ua=function(){typeof XD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$t(this,"complete"),$t(this,"abort"),Wp(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wp(this,!0)),tt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?RV(this):this.kb())},N.kb=function(){RV(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_se(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=FV.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Dl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=z2(o),q2(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UV(this,i,e),Le(n=Ti(this.I),"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Nl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(OV(o)))+"&"+e:this.o&&R0(n,this.o,o)),x0(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,S0(i,n,null)):S0(i,n,e),this.H=2}}else 3==this.H&&(t?VV(this,t):0==this.j.length||DV(this.i)||VV(this))},N.Ma=function(){if(this.u=null,$V(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Cl(nn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yn(10),Kp(this),$V(this))},N.ib=function(){null!=this.v&&(this.v=null,Kp(this),N0(this),yn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yn(2)):(this.l.info("Failed to ping google.com"),yn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=WV.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Jp.prototype.g=function(t,e){return new Hn(t,e)},St(Hn,At),Hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=GV(t,null,t.Y),Qp(t)},Hn.prototype.close=function(){k0(this.g)},Hn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Qp(e)},Hn.prototype.N=function(){this.g.h=null,delete this.j,k0(this.g),delete this.g,Hn.$.N.call(this)},St(KV,E0),St(QV,D0),St(Ka,WV),Ka.prototype.Ba=function(){$t(this.g,"a")},Ka.prototype.Aa=function(t){$t(this.g,new KV(t))},Ka.prototype.za=function(t){$t(this.g,new QV)},Ka.prototype.ya=function(){$t(this.g,"b")},St(wr,function Dse(){this.blockSize=-1}),wr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)F0(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){F0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){F0(this,r),i=0;break}}this.h=i,this.i+=e},wr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var bse={};function L0(t){return-128<=t&&128>t?function koe(t,e){var n=bse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new De([0|e],0>e?-1:0)}):new De([0|t],0>t?-1:0)}function Gr(t){if(isNaN(t)||!isFinite(t))return Qa;if(0>t)return jt(Gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=V0;return new De(e,0)}var V0=4294967296,Qa=L0(0),U0=L0(1),JV=L0(16777216);function Si(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ir(t){return-1==t.h}function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(U0)}function Xp(t,e){return t.add(jt(e))}function Zp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ol(t,e){this.g=t,this.h=e}function eg(t,e){if(Si(e))throw Error("division by zero");if(Si(t))return new Ol(Qa,Qa);if(ir(t))return e=eg(jt(t),e),new Ol(jt(e.g),jt(e.h));if(ir(e))return e=eg(t,jt(e)),new Ol(jt(e.g),e.h);if(30<t.g.length){if(ir(t)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=U0,r=e;0>=r.X(t);)n=XV(n),r=XV(r);var i=Ya(n,1),o=Ya(r,1);for(r=Ya(r,2),n=Ya(n,2);!Si(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ya(r,1),n=Ya(n,1)}return e=Xp(t,i.R(e)),new Ol(i,e)}for(i=Qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Gr(n)).R(e);ir(s)||0<s.X(t);)s=(o=Gr(n-=r)).R(e);Si(o)&&(o=U0),i=i.add(o),t=Xp(t,s)}return new Ol(i,t)}function XV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function Ya(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new De(i,t.h)}(N=De.prototype).ea=function(){if(ir(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:V0+r)*e,e*=V0}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Si(this))return"0";if(ir(this))return"-"+jt(this).toString(t);for(var e=Gr(Math.pow(t,6)),n=this,r="";;){var i=eg(n,e).g,o=((0<(n=Xp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Si(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return ir(t=Xp(this,t))?-1:Si(t)?0:1},N.abs=function(){return ir(this)?jt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new De(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Si(this)||Si(t))return Qa;if(ir(this))return ir(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(ir(t))return jt(this.R(jt(t)));if(0>this.X(JV)&&0>t.X(JV))return Gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,Zp(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Zp(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Zp(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Zp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)},N.gb=function(t){return eg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)},Jp.prototype.createWebChannel=Jp.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Vp.NO_ERROR=0,Vp.TIMEOUT=8,Vp.HTTP_ERROR=6,uV.COMPLETE="complete",lV.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",At.prototype.listen=At.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,wr.prototype.digest=wr.prototype.l,wr.prototype.reset=wr.prototype.reset,wr.prototype.update=wr.prototype.j,De.prototype.add=De.prototype.add,De.prototype.multiply=De.prototype.R,De.prototype.modulo=De.prototype.gb,De.prototype.compare=De.prototype.X,De.prototype.toNumber=De.prototype.ea,De.prototype.toString=De.prototype.toString,De.prototype.getBits=De.prototype.D,De.fromNumber=Gr,De.fromString=function YV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return jt(YV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gr(Math.pow(e,8)),r=Qa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Gr(Math.pow(e,o)),r=r.R(o).add(Gr(s))):r=(r=r.R(n)).add(Gr(s))}return r};var Tse=vr.createWebChannelTransport=function(){return new Jp},Sse=vr.getStatEventTarget=function(){return Lp()},B0=vr.ErrorCode=Vp,Ase=vr.EventType=uV,Mse=vr.Event=os,ZV=vr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xse=vr.FetchXmlHttpFactory=xl,tg=vr.WebChannel=lV,Pse=vr.XhrIo=tt,Rse=vr.Md5=wr,Ja=vr.Integer=De;const eU="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Xa="9.23.0";const so=new xa("@firebase/firestore");function $0(){return so.logLevel}function T(t,...e){if(so.logLevel<=fe.DEBUG){const n=e.map(j0);so.debug(`Firestore (${Xa}): ${t}`,...n)}}function st(t,...e){if(so.logLevel<=fe.ERROR){const n=e.map(j0);so.error(`Firestore (${Xa}): ${t}`,...n)}}function Ir(t,...e){if(so.logLevel<=fe.WARN){const n=e.map(j0);so.warn(`Firestore (${Xa}): ${t}`,...n)}}function j0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function V(t,e){t||L()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class tU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Nse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ose{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new It;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new It,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new It)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new tU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new Mt(e)}}class Fse{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Lse{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Fse(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vse{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,T("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.T=n.token,new nU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Use(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class rU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Use(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function Za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new qe(0,0))}static max(){return new B(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fl{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Fl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Fl{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const Bse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Fl{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return Bse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(ye.fromString(e))}static fromName(e){return new P(ye.fromString(e).popFirst(5))}static empty(){return new P(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new ye(e.slice()))}}function sU(t){return new zn(t.readTime,t.key,-1)}class zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zn(B.min(),P.empty(),-1)}static max(){return new zn(B.max(),P.empty(),-1)}}function z0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const aU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ao(t){return G0.apply(this,arguments)}function G0(){return G0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==aU)throw t;T("LocalStore","Unexpectedly lost primary lease")}),G0.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function uo(t){return"IndexedDbTransactionError"===t.name}let Gn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ul(t){return null==t}function Bl(t){return 0===t&&1/t==-1/0}function mU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ke{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sg(this.root,e,this.comparator,!0)}}class sg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _U(this.data.getIterator())}getIteratorFrom(e){return new _U(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class _U{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Ve(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class vU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vU("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const hae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(V(!!t),"string"==typeof t){let e=0;const n=hae.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ai(t){return"string"==typeof t?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function ag(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ug(t){const e=t.mapValue.fields.__previous_value__;return ag(e)?ug(e):e}function $l(t){const e=lo(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class fae{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}const ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:EU(t)?9007199254740991:10:L()}function Wr(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=lo(r.timestampValue),s=lo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ai(t.bytesValue).isEqual(Ai(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=nt(r.doubleValue),s=nt(i.doubleValue);return o===s?Bl(o)===Bl(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(mU(o)!==mU(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Wr(o[a],s[a])))return!1;return!0}(t,e);default:return L()}var i}function jl(t,e){return void 0!==(t.values||[]).find(n=>Wr(n,e))}function po(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=nt(i.integerValue||i.doubleValue),a=nt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return wU(t.timestampValue,e.timestampValue);case 4:return wU($l(t),$l(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Ai(i),a=Ai(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=X(s[u],a[u]);if(0!==c)return c}return X(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=X(nt(i.latitude),nt(o.latitude));return 0!==s?s:X(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=po(s[u],a[u]);if(c)return c}return X(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ho.mapValue&&o===ho.mapValue)return 0;if(i===ho.mapValue)return 1;if(o===ho.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=po(s[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function wU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=lo(t),r=lo(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function tu(t){return K0(t)}function K0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=lo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ai(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=K0(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${K0(r.fields[a])}`;return o+"}"}(t.mapValue):L();var e}function Q0(t){return!!t&&"integerValue"in t}function Hl(t){return!!t&&"arrayValue"in t}function IU(t){return!!t&&"nullValue"in t}function CU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dg(t){return!!t&&"mapValue"in t}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=zl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zt(zl(this.value))}}function TU(t){const e=[];return co(t.fields,(n,r)=>{const i=new at([n]);if(dg(r)){const o=TU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}class Ue{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,B.min(),B.min(),B.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,B.min(),B.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,B.min(),B.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class go{constructor(e,n){this.position=e,this.inclusive=n}}function SU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?P.comparator(P.fromName(s.referenceValue),n.key):po(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function AU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function mae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class MU{}class he extends MU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new yae(e,n,r):"array-contains"===n?new wae(e,r):"in"===n?new OU(e,r):"not-in"===n?new Iae(e,r):"array-contains-any"===n?new Cae(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new _ae(e,r):new vae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(po(n,this.value)):null!==n&&fo(this.value)===fo(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends MU{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return ru(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ru(t){return"and"===t.op}function J0(t){return function xU(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&ru(t)}function X0(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(J0(t))return t.filters.map(e=>X0(e)).join(",");{const e=t.filters.map(n=>X0(n)).join(",");return`${t.op}(${e})`}}function PU(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Wr(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&PU(o,r.filters[s]),!0)}(t,e):void L();var n,r}function kU(t){return t instanceof he?`${(e=t).field.canonicalString()} ${e.op} ${tu(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(kU).join(" ,")+"}"}(t):"Filter";var e}class yae extends he{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.matchesComparison(n)}}class _ae extends he{constructor(e,n){super(e,"in",n),this.keys=NU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vae extends he{constructor(e,n){super(e,"not-in",n),this.keys=NU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class wae extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hl(n)&&jl(n.arrayValue,this.value)}}class OU extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&jl(this.value.arrayValue,n)}}class Iae extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!jl(this.value.arrayValue,n)}}class Cae extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}class Eae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function Z0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Eae(t,e,n,r,i,o,s)}function fs(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>X0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.dt=n}return e.dt}function Gl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AU(t.startAt,e.startAt)&&AU(t.endAt,e.endAt)}function hg(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function iu(t){return new Mi(t)}function UU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ps(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function pg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function eb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new nu(n)),e.wt.push(new nu(at.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nu(at.keyField(),o))}}}return e.wt}function _n(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=Z0(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ps(e))n.push(new nu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new go(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new go(e.startAt.position,e.startAt.inclusive):null;e._t=Z0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function gg(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ql(t,e){return Gl(_n(t),_n(e))&&t.limitType===e.limitType}function BU(t){return`${fs(_n(t))}|lt:${t.limitType}`}function rb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>kU(r)).join(", ")}]`),Ul(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),`Target(${n})`}(_n(t))}; limitType=${t.limitType})`}function Wl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ps(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=SU(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ps(n),r)||n.endAt&&!function(i,o,s){const a=SU(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ps(n),r)));var n,r}function jU(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const o=Dae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Dae(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?po(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yU(this.inner)}size(){return this.innerSize}}const bae=new ke(P.comparator);function xn(){return bae}const HU=new ke(P.comparator);function Kl(...t){let e=HU;for(const n of t)e=e.insert(n.key,n);return e}function zU(t){let e=HU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return Ql()}function GU(){return Ql()}function Ql(){return new xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tae=new ke(P.comparator),Sae=new Ve(P.comparator);function ie(...t){let e=Sae;for(const n of t)e=e.add(n);return e}const Aae=new Ve(X);function qU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function WU(t){return{integerValue:""+t}}function KU(t,e){return function cU(t){return"number"==typeof t&&Number.isInteger(t)&&!Bl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?WU(e):qU(t,e)}class mg{constructor(){this._=void 0}}function Mae(t,e,n){return t instanceof ou?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ag(i)&&(i=ug(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof gs?YU(t,e):t instanceof ms?JU(t,e):function(r,i){const o=QU(r,i),s=XU(o)+XU(r.gt);return Q0(o)&&Q0(r.gt)?WU(s):qU(r.serializer,s)}(t,e)}function xae(t,e,n){return t instanceof gs?YU(t,e):t instanceof ms?JU(t,e):n}function QU(t,e){return t instanceof su?Q0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ou extends mg{}class gs extends mg{constructor(e){super(),this.elements=e}}function YU(t,e){const n=ZU(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ms extends mg{constructor(e){super(),this.elements=e}}function JU(t,e){let n=ZU(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class su extends mg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function XU(t){return nt(t.integerValue||t.doubleValue)}function ZU(t){return Hl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Rae{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _g{}function eB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new uu(t.key,je.none()):new au(t.key,t.data,je.none());{const n=t.data,r=zt.empty();let i=new Ve(at.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Pi(t.key,r,new Mn(i.toArray()),je.none())}}function kae(t,e,n){t instanceof au?function(r,i,o){const s=r.value.clone(),a=rB(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(r,i,o){if(!yg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=rB(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(nB(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Jl(t,e,n,r){return t instanceof au?function(i,o,s,a){if(!yg(i.precondition,o))return s;const u=i.value.clone(),c=iB(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,s,a){if(!yg(i.precondition,o))return s;const u=iB(i.fieldTransforms,a,o),c=o.data;return c.setAll(nB(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,yg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Nae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=QU(r.transform,i||null);null!=o&&(null===n&&(n=zt.empty()),n.set(r.field,o))}return n||null}function tB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Za(n,r,(i,o)=>function Pae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof gs&&r instanceof gs||n instanceof ms&&r instanceof ms?Za(n.elements,r.elements,Wr):n instanceof su&&r instanceof su?Wr(n.gt,r.gt):n instanceof ou&&r instanceof ou);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class au extends _g{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends _g{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rB(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xae(s,a,n[i]))}return r}function iB(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Mae(o,s,e))}return r}class uu extends _g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ob extends _g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&kae(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=eB(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>tB(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>tB(n,r))}}class ab{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=Tae;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ab(e,n,r,i)}}class ub{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fae{constructor(e,n){this.count=e,this.unchangedNames=n}}var gt,_e;function sB(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case gt.OK:return I.OK;case gt.CANCELLED:return I.CANCELLED;case gt.UNKNOWN:return I.UNKNOWN;case gt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case gt.INTERNAL:return I.INTERNAL;case gt.UNAVAILABLE:return I.UNAVAILABLE;case gt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case gt.NOT_FOUND:return I.NOT_FOUND;case gt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case gt.ABORTED:return I.ABORTED;case gt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case gt.DATA_LOSS:return I.DATA_LOSS;default:return L()}}(_e=gt||(gt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class cb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vg}static getOrCreateInstance(){return null===vg&&(vg=new cb),vg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let vg=null;const Lae=new Ja([4294967295,4294967295],0);function uB(t){const e=function aB(){return new TextEncoder}().encode(t),n=new Rse;return n.update(e),new Uint8Array(n.digest())}function cB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ja([n,r],0),new Ja([i,o],0)]}class lb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Xl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ja.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ja.fromNumber(r)));return 1===i.compare(Lae)&&(i=new Ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=uB(e),[r,i]=cB(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lb(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=uB(e),[r,i]=cB(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zl(B.min(),i,new ke(X),xn(),ie())}}class ed{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ed(r,n,ie(),ie(),ie())}}class wg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class lB{constructor(e,n){this.targetId=e,this.Vt=n}}class dB{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hB{constructor(){this.St=0,this.Dt=pB(),this.Ct=Ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ie(),n=ie(),r=ie();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new ed(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=pB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vae{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xn(),this.zt=fB(),this.Wt=new ke(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(hg(s))if(0===i){const a=new P(s.path);this.Yt(r,a,Ue.newNoDocument(a,B.min()))}else V(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=cb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const C={localCacheCount:l,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(C.bloomFilter={applied:0===c,hashCount:null!==(h=_?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=_?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=_?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),C}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Ai(o).toUint8Array()}catch(l){if(l instanceof vU)return Ir("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new lb(u,s,a)}catch(l){return Ir(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&hg(a.target)){const u=new P(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Ue.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=ie();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Zl(e,n,this.Wt,this.jt,r);return this.jt=xn(),this.zt=fB(),this.Wt=new ke(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new hB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ve(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new hB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function fB(){return new ke(P.comparator)}function pB(){return new ke(P.comparator)}const Uae={asc:"ASCENDING",desc:"DESCENDING"},Bae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$ae={and:"AND",or:"OR"};class jae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function db(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hae(t,e){return cu(t,e.toTimestamp())}function ut(t){return V(!!t),B.fromTimestamp(function(e){const n=lo(e);return new qe(n.seconds,n.nanos)}(t))}function hb(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mB(t){const e=ye.fromString(t);return V(bB(e)),e}function td(t,e){return hb(t.databaseId,e.path)}function Qr(t,e){const n=mB(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(_B(n))}function fb(t,e){return hb(t.databaseId,e)}function nd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _B(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vB(t,e,n){return{name:td(t,e),fields:n.value.mapValue.fields}}function IB(t,e){return{documents:[fb(t,e.path)]}}function gb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return DB(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:mo((l=c).field),direction:Kae(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=db(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function CB(t){let e=function yB(t){const e=mB(t);return 4===e.length?ye.emptyPath():_B(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=EB(l);return d instanceof be&&J0(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new nu(lu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ul(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new go((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new go(l.values||[],!l.before)}(n.endAt)),function VU(t,e,n,r,i,o,s,a){return new Mi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function EB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=lu(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=lu(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lu(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lu(e.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?he.create(lu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>EB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L();var e}function Kae(t){return Uae[t]}function Qae(t){return Bae[t]}function Yae(t){return $ae[t]}function mo(t){return{fieldPath:t.canonicalString()}}function lu(t){return at.fromServerFormat(t.fieldPath)}function DB(t){return t instanceof he?function(e){if("=="===e.op){if(CU(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NAN"}};if(IU(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(CU(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NAN"}};if(IU(e.value))return{unaryFilter:{field:mo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(e.field),op:Qae(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>DB(r));return 1===n.length?n[0]:{compositeFilter:{op:Yae(e.op),filters:n}}}(t):L()}function Jae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ri{constructor(e,n,r,i,o=B.min(),s=B.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TB{constructor(e){this.fe=e}}function mb(t){const e=CB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?gg(e,e.limit,"L"):e}class ws{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Bl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ai(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?EU(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),P.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ws.Ve=new ws;class sue{constructor(){this.rn=new Cb}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(zn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class Cb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ye.comparator)).toArray()}}new Uint8Array(0);class sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Cs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cs(0)}static Mn(){return new Cs(-1)}}class hue{constructor(){this.changes=new xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Jl(r.mutation,i,Mn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xn();const s=Ql(),a=Ql();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Pi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Jl(l.mutation,c,l.mutation.getFieldMask(),qe.now())):s.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new gue(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new ke((s,a)=>s-a),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Mn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=GU();l.forEach(h=>{if(!o.has(h)){const f=eB(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return P.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function tb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(Kr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:zU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=Kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Kl();return this.indexManager.getCollectionParents(e,i).next(s=>v.forEach(s,a=>{const u=(c=n,l=a.child(i),new Mi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Ue.newInvalidDocument(c)))});let s=Kl();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Jl(c.mutation,u,Mn.empty(),qe.now()),Wl(n,u)&&(s=s.insert(a,u))}),s})}}class mue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:mb(r.bundledQuery),readTime:ut(r.readTime)}),v.resolve();var r}}class yue{constructor(){this.overlays=new ke(P.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),o=n.length+1,s=new P(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Kr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Kr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ub(n,r));let o=this.ls.get(n);void 0===o&&(o=ie(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class Eb{constructor(){this.fs=new Ve(Pt.ds),this.ws=new Ve(Pt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Pt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new P(new ye([])),r=new Pt(n,e),i=new Pt(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new P(new ye([])),r=new Pt(n,e),i=new Pt(n,e+1);let o=ie();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Pt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return P.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||P.comparator(e.key,n.key)}}class _ue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ve(Pt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new sb(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(X);return n.forEach(i=>{const o=new Pt(i,0),s=new Pt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;P.isDocumentKey(o)||(o=o.child(""));const s=new Pt(new P(o),0);let a=new Ve(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const o=new Pt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vue{constructor(e){this.Ds=e,this.docs=new ke(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ue.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xn();const s=n.path,a=new P(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||z0(sU(l),r)<=0||(i.has(l.key)||Wl(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){L()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wue(this)}getSize(e){return v.resolve(this.size)}}class wue extends hue{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Iue{constructor(e){this.persistence=e,this.xs=new xi(n=>fs(n),Gl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Eb,this.targetCount=0,this.Ms=Cs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class Db{constructor(e,n){this.$s={},this.overlays={},this.Os=new Gn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Iue(this),this.indexManager=new sue,this.remoteDocumentCache=new vue(r=>this.referenceDelegate.Ls(r)),this.serializer=new TB(n),this.qs=new mue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new _ue(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Cue(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Cue extends Hse{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Qs=new Eb,this.js=null}static zs(e){return new Mg(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=P.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Ab{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ie(),i=ie();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ab(e,n.fromCache,r,i)}}class e${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(UU(n))return v.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=gg(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ie(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,gg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return UU(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):($0()<=fe.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rb(n)),this.Wi(e,s,n,function oU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new zn(i,P.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ve(jU(e));return n.forEach((i,o)=>{Wl(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return $0()<=fe.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",rb(n)),this.Ui.getDocumentsMatchingQuery(e,n,zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Due{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(X),this.Yi=new xi(o=>fs(o),Gl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function n$(t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ie();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),Mb.apply(this,arguments)}function r$(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Sue(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(t,e,n){return xb.apply(this,arguments)}function xb(){return xb=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!uo(s))throw s;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),xb.apply(this,arguments)}function Rg(t,e,n){const r=R(t);let i=B.min(),o=ie();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:B.min(),n?o:ie())).next(a=>(function a$(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function $U(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class Ob{constructor(){this.activeTargetIds=function ib(){return Aae}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l${constructor(){this.Hr=new Ob,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ob,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xue{Yr(e){}shutdown(){}}class d${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Og=null;function Lb(){return null===Og?Og=268435456+Math.round(2147483648*Math.random()):Og++,"0x"+Og.toString(16)}const Pue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const an="WebChannelConnection";class kue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=Lb(),a=this.To(e,n);T("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(T("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Ir("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${Pue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=Lb();return new Promise((s,a)=>{const u=new Pse;u.setWithCredentials(!0),u.listenOnce(Ase.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case B0.NO_ERROR:const l=u.getResponseJson();T(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case B0.TIMEOUT:T(an,`RPC '${e}' ${o} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case B0.HTTP_ERROR:const d=u.getStatus();if(T(an,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{T(an,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);T(an,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=Lb(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tse(),a=Sse(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new xse({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");T(an,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Rue({ro:y=>{f?T(an,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(T(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(an,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,C)=>{y.listen(w,_=>{try{C(_)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,tg.EventType.OPEN,()=>{f||T(an,`RPC '${e}' stream ${i} transport opened.`)}),m(d,tg.EventType.CLOSE,()=>{f||(f=!0,T(an,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,tg.EventType.ERROR,y=>{f||(f=!0,Ir(an,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,tg.EventType.MESSAGE,y=>{var w;if(!f){const C=y.data[0];V(!!C);const k=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(k){T(an,`RPC '${e}' stream ${i} received error:`,k);const H=k.status;let W=function(Ni){const Mu=gt[Ni];if(void 0!==Mu)return sB(Mu)}(H),Rt=k.message;void 0===W&&(W=I.INTERNAL,Rt="Unknown error status: "+H+" with message "+k.message),f=!0,p.wo(new D(W,Rt)),d.close()}else T(an,`RPC '${e}' stream ${i} received:`,C),p._o(C)}}),m(a,Mse.STAT_EVENT,y=>{y.stat===ZV.PROXY?T(an,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===ZV.NOPROXY&&T(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Fg(){return typeof document<"u"?document:null}function hd(t){return new jae(t,!0)}class Vb{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class f${constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vb(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nue extends f${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Gae(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(V(void 0===c||"string"==typeof c),Ct.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?I.UNKNOWN:sB(u.code);return new D(c,u.message||"")}(s);n=new dB(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Qr(t,r.document.name),o=ut(r.document.updateTime),s=r.document.createTime?ut(r.document.createTime):B.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,o,s,a);n=new wg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Qr(t,r.document),o=r.readTime?ut(r.readTime):B.min(),s=Ue.newNoDocument(i,o);n=new wg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Qr(t,r.document);n=new wg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Fae(i,o);n=new lB(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?ut(o.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=nd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=hg(a)?{documents:IB(i,a)}:{query:gb(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=gB(i,o.resumeToken);const u=db(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){s.readTime=cu(i,o.snapshotVersion.toTimestamp());const u=db(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function Wae(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=nd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Oue extends f${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function qae(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let o=ut(r.updateTime?r.updateTime:i);return o.isEqual(B.min())&&(o=ut(i)),new Rae(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.cu(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=nd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function rd(t,e){let n;if(e instanceof au)n={update:vB(t,e.key,e.value)};else if(e instanceof uu)n={delete:td(t,e.key)};else if(e instanceof Pi)n={update:vB(t,e.key,e.data),updateMask:Jae(e.fieldMask)};else{if(!(e instanceof ob))return L();n={verify:td(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof gs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ms)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof su)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Hae(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),n;var i}(this.serializer,r))};this.Wo(n)}}class Fue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Vue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):T("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Uue{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;wo(s)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield gu(l),l.bu.set("Unknown"),l.vu.delete(4),yield fd(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new Vue(r,i)}}function fd(t){return Bb.apply(this,arguments)}function Bb(){return Bb=g(function*(t){if(wo(t))for(const e of t.Ru)yield e(!0)}),Bb.apply(this,arguments)}function gu(t){return $b.apply(this,arguments)}function $b(){return $b=g(function*(t){for(const e of t.Ru)yield e(!1)}),$b.apply(this,arguments)}function Lg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),zb(n)?Hb(n):yu(n).Ko()&&jb(n,e))}function pd(t,e){const n=R(t),r=yu(n);n.Au.delete(e),r.Ko()&&p$(n,e),0===n.Au.size&&(r.Ko()?r.jo():wo(n)&&n.bu.set("Unknown"))}function jb(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).su(e)}function p$(t,e){t.Vu.qt(e),yu(t).iu(e)}function Hb(t){t.Vu=new Vae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.bu.gu()}function zb(t){return wo(t)&&!yu(t).Uo()&&t.Au.size>0}function wo(t){return 0===R(t).vu.size}function g$(t){t.Vu=void 0}function Bue(t){return Gb.apply(this,arguments)}function Gb(){return Gb=g(function*(t){t.Au.forEach((e,n)=>{jb(t,e)})}),Gb.apply(this,arguments)}function $ue(t,e){return qb.apply(this,arguments)}function qb(){return qb=g(function*(t,e){g$(t),zb(t)?(t.bu.Iu(e),Hb(t)):t.bu.set("Unknown")}),qb.apply(this,arguments)}function jue(t,e,n){return Wb.apply(this,arguments)}function Wb(){return Wb=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof dB&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vg(t,r)}else if(e instanceof wg?t.Vu.Ht(e):e instanceof lB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield r$(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),p$(i,a);const l=new Ri(c.target,a,u,c.sequenceNumber);jb(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Vg(t,r)}var r}),Wb.apply(this,arguments)}function Vg(t,e,n){return Kb.apply(this,arguments)}function Kb(){return Kb=g(function*(t,e,n){if(!uo(e))throw e;t.vu.add(1),yield gu(t),t.bu.set("Offline"),n||(n=()=>r$(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield fd(t)}))}),Kb.apply(this,arguments)}function m$(t,e){return e().catch(n=>Vg(t,n,e))}function mu(t){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(t){const e=R(t),n=Io(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hue(e);)try{const i=yield Sue(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,zue(e,i)}catch(i){yield Vg(e,i)}y$(e)&&_$(e)}),Qb.apply(this,arguments)}function Hue(t){return wo(t)&&t.Eu.length<10}function zue(t,e){t.Eu.push(e);const n=Io(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function y$(t){return wo(t)&&!Io(t).Uo()&&t.Eu.length>0}function _$(t){Io(t).start()}function Gue(t){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t){Io(t).hu()}),Yb.apply(this,arguments)}function que(t){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(t){const e=Io(t);for(const n of t.Eu)e.uu(n.mutations)}),Jb.apply(this,arguments)}function Wue(t,e,n){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t,e,n){const r=t.Eu.shift(),i=ab.from(r,e,n);yield m$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mu(t)}),Xb.apply(this,arguments)}function Kue(t,e){return Zb.apply(this,arguments)}function Zb(){return Zb=g(function*(t,e){var n;e&&Io(t).ou&&(yield(n=g(function*(r,i){if(function oB(t){switch(t){default:return L();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(o=i.code)&&o!==I.ABORTED){const s=r.Eu.shift();Io(r).Qo(),yield m$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield mu(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),y$(t)&&_$(t)}),Zb.apply(this,arguments)}function v$(t,e){return eT.apply(this,arguments)}function eT(){return eT=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=wo(n);n.vu.add(3),yield gu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield fd(n)}),eT.apply(this,arguments)}function nT(){return nT=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield fd(n)):e||(n.vu.add(2),yield gu(n),n.bu.set("Unknown"))}),nT.apply(this,arguments)}function yu(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new Nue(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Bue.bind(null,t),ao:$ue.bind(null,t),nu:jue.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),zb(t)?Hb(t):t.bu.set("Unknown")):(yield t.Su.stop(),g$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Io(t){return t.Du||(t.Du=function(e,n,r){const i=R(e);return i.fu(),new Oue(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Gue.bind(null,t),ao:Kue.bind(null,t),au:que.bind(null,t),cu:Wue.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield mu(t)):(yield t.Du.stop(),t.Eu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class rT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new rT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(t,e){if(st("AsyncQueue",`${e}: ${t}`),uo(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class vu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=Kl(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new vu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class w${constructor(){this.Cu=new ke(P.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new wu(e,n,vu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Que{constructor(){this.Nu=void 0,this.listeners=[]}}class Yue{constructor(){this.queries=new xi(e=>BU(e),ql),this.onlineState="Unknown",this.ku=new Set}}function oT(){return oT=g(function*(t,e){const n=R(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Que),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=_u(s,`Initialization of query '${rb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&uT(n)}),oT.apply(this,arguments)}function aT(){return aT=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aT.apply(this,arguments)}function Jue(t,e){const n=R(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&uT(n)}function Xue(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function uT(t){t.ku.forEach(e=>{e.next()})}class cT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class E${constructor(e){this.key=e}}class D${constructor(e){this.key=e}}class b${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ie(),this.mutatedKeys=ie(),this.tc=jU(e),this.ec=new vu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new w$,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Wl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new wu(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new w$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ie(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new D$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new E$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ie();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return wu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nce{constructor(e){this.key=e,this.fc=!1}}class rce{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new xi(a=>BU(a),ql),this._c=new Map,this.mc=new Set,this.gc=new ke(P.comparator),this.yc=new Map,this.Ic=new Eb,this.Tc={},this.Ec=new Map,this.Ac=Cs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ice(t,e){return lT.apply(this,arguments)}function lT(){return lT=g(function*(t,e){const n=function kT(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ace.bind(null,e),e.dc.nu=Jue.bind(null,e.eventManager),e.dc.Pc=Xue.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function fu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Ri(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,_n(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function dT(t,e,n,r,i){return hT.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Lg(n.remoteStore,s)}return i}),lT.apply(this,arguments)}function hT(){return hT=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,C){let _=y.view.sc(w);_.zi&&(_=yield Rg(m.localStore,y.query,!1).then(({documents:W})=>y.view.sc(W,_)));const k=C&&C.targetChanges.get(y.targetId),H=y.view.applyChanges(_,m.isPrimaryClient,k);return CT(m,y.targetId,H.cc),H.snapshot}),function(m,y,w,C){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Rg(t.localStore,e,!0),s=new b$(e,o.ir),a=s.sc(o.documents),u=ed.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);CT(t,n,c.cc);const l=new tce(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),hT.apply(this,arguments)}function oce(t,e){return fT.apply(this,arguments)}function fT(){return fT=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!ql(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pd(n.remoteStore,r.targetId),Iu(n,r.targetId)}).catch(ao))):(Iu(n,r.targetId),yield pu(n.localStore,r.targetId,!0))}),fT.apply(this,arguments)}function pT(){return pT=g(function*(t,e,n){const r=function NT(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cce.bind(null,e),e}(t);try{const i=yield function(o,s){const a=R(o),u=qe.now(),c=s.reduce((h,f)=>h.add(f.key),ie());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=xn(),p=ie();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of s){const C=Nae(w,l.get(w.key).overlayedDocument);null!=C&&y.push(new Pi(w.key,C,TU(C.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:zU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new ke(X)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield ki(r,i.changes),yield mu(r.remoteStore)}catch(i){const o=_u(i,"Failed to persist write");n.reject(o)}}),pT.apply(this,arguments)}function T$(t,e){return gT.apply(this,arguments)}function gT(){return gT=g(function*(t,e){const n=R(t);try{const r=yield function Tue(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let u=xn(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function i$(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?V(s.fc):i.removedDocuments.size>0&&(V(s.fc),s.fc=!1))}),yield ki(n,r,e)}catch(r){yield ao(r)}}),gT.apply(this,arguments)}function S$(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=R(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&uT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ace(t,e,n){return mT.apply(this,arguments)}function mT(){return mT=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ke(P.comparator);s=s.insert(o,Ue.newNoDocument(o,B.min()));const a=ie().add(o),u=new Zl(B.min(),new Map,new ke(X),s,a);yield T$(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),ET(r)}else yield pu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(ao)}),mT.apply(this,arguments)}function uce(t,e){return yT.apply(this,arguments)}function yT(){return yT=g(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function bue(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);V(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ie();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);IT(n,r,null),wT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ki(n,i)}catch(i){yield ao(i)}}),yT.apply(this,arguments)}function cce(t,e,n){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t,e,n){const r=R(t);try{const i=yield function(o,s){const a=R(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>(V(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);IT(r,e,n),wT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ki(r,i)}catch(i){yield ao(i)}}),_T.apply(this,arguments)}function wT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function IT(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||A$(t,r)})}function A$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(pd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ET(t))}function CT(t,e,n){for(const r of n)r instanceof E$?(t.Ic.addReference(r.key,e),dce(t,r)):r instanceof D$?(T("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||A$(t,r.key)):L()}function dce(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.mc.add(r),ET(t))}function ET(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new P(ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new nce(n)),t.gc=t.gc.insert(n,r),Lg(t.remoteStore,new Ri(_n(iu(n.path)),r,"TargetPurposeLimboResolution",Gn.ct))}}function ki(t,e,n){return DT.apply(this,arguments)}function DT(){return DT=g(function*(t,e,n){const r=R(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Ab.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!uo(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),DT.apply(this,arguments)}function hce(t,e){return bT.apply(this,arguments)}function bT(){return bT=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield n$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ki(n,r.er)}var i}),bT.apply(this,arguments)}function fce(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return ie().add(r.key);{let i=ie();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class Ug{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=hd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function t$(t,e,n,r){return new Due(t,e,n,r)}(this.persistence,new e$,e.initialUser,this.serializer)}createPersistence(e){return new Db(Mg.zs,this.serializer)}createSharedClientState(e){return new l$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>S$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hce.bind(null,r.syncEngine),yield function tT(t,e){return nT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yue}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=new kue(e.databaseInfo);return new Fue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>S$(this.syncEngine,a,0),s=d$.D()?new d$:new xue,new Uue(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new rce(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);T("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Tce{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=rU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=_u(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function $g(t,e){return OT.apply(this,arguments)}function OT(){return OT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield n$(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),OT.apply(this,arguments)}function FT(t,e){return LT.apply(this,arguments)}function LT(){return LT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function VT(t){return UT.apply(this,arguments)}(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>v$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>v$(e.remoteStore,o)),t._onlineComponents=e}),LT.apply(this,arguments)}function UT(){return UT=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function N$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield $g(t,new Ug)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield $g(t,new Ug);return t._offlineComponents}),UT.apply(this,arguments)}function jg(t){return BT.apply(this,arguments)}function BT(){return BT=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield FT(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield FT(t,new Cu))),t._onlineComponents}),BT.apply(this,arguments)}function jT(){return jT=g(function*(t){const e=yield jg(t),n=e.eventManager;return n.onListen=ice.bind(null,e.syncEngine),n.onUnlisten=oce.bind(null,e.syncEngine),n}),jT.apply(this,arguments)}function U$(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,o,s,a,u){const c=new Bg({next:d=>{o.enqueueAndForget(()=>function sT(t,e){return aT.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new D(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new cT(s,c,{includeMetadataChanges:!0,Ku:!0});return function iT(t,e){return oT.apply(this,arguments)}(i,l)}(yield function Eu(t){return jT.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function B$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const $$=new Map;function HT(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j$(t){if(!P.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H$(t){if(P.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class G${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Oce(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=B$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new kse;switch(n.type){case"firstParty":return new Lse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$$.get(e);n&&(T("ComponentProvider","Removing Datastore"),$$.delete(e),n.terminate())}(this),Promise.resolve()}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Gt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gt(this.firestore,e,this._query)}}class Yr extends Gt{constructor(e,n,r){super(e,n,iu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new P(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Lce(t,e,...n){if(t=Zt(t),HT("collection","path",e),t instanceof gd){const r=ye.fromString(e,...n);return H$(r),new Yr(t,null,r)}{if(!(t instanceof ct||t instanceof Yr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return H$(r),new Yr(t.firestore,null,r)}}function q$(t,e,...n){if(t=Zt(t),1===arguments.length&&(e=rU.A()),HT("doc","path",e),t instanceof gd){const r=ye.fromString(e,...n);return j$(r),new ct(t,null,new P(r))}{if(!(t instanceof ct||t instanceof Yr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return j$(r),new ct(t.firestore,t instanceof Yr?t.converter:null,new P(r))}}class Vce{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vb(this,"async_queue_retry"),this.Xc=()=>{const n=Fg();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Fg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Fg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new It;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!uo(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=rT.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Be extends gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Vce,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||K$(this),this._firestoreClient.terminate()}}function Bce(t,e){const r="string"==typeof t?t:e||"(default)",i=Pa("object"==typeof t?t:tw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=YQ("firestore");o&&function Fce(t,e,n,r={}){var i;const o=(t=pe(t,gd))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function JQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify({alg:"none",type:"JWT"})),Sf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new Nse(new tU(a,u))}}(i,...o)}return i}function mt(t){return t._firestoreClient||K$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function K$(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new fae(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Tce(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(Ct.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ds(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class J${constructor(e){this._methodName=e}}class GT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const jce=/^__.*__$/;class Hce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function Z$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Gg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Wg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Z$(this.ca)&&jce.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}ya(e,n,r,i=!1){return new Gg({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bu(t){const e=t._freezeSettings(),n=hd(t._databaseId);return new zce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qT(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);KT("Data must be an object, but it was:",s,r);const a=ij(r,s);let u,c;if(o.merge)u=new Mn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=_d(e,d,n);if(!s.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sj(l,h)||l.push(h)}u=new Mn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Hce(new zt(a),u,c)}function bs(t,e){if(oj(t=Zt(t)))return KT("Unsupported field value:",e,t),ij(t,e);if(t instanceof J$)return function(n,r){if(!Z$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=bs(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Zt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return KU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=qe.fromDate(n);return{timestampValue:cu(r.serializer,i)}}if(n instanceof qe){const i=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cu(r.serializer,i)}}if(n instanceof GT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ds)return{bytesValue:gB(r.serializer,n._byteString)};if(n instanceof ct){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${zg(n)}`)}(t,e)}function ij(t,e){const n={};return yU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{const o=bs(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function oj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof GT||t instanceof Ds||t instanceof ct||t instanceof J$)}function KT(t,e,n){if(!oj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function _d(t,e,n){if((e=Zt(e))instanceof Du)return e._internalPath;if("string"==typeof e)return qg(t,e);throw Wg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kce=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search(Kce)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Du(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wg(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function sj(t,e){return t.some(n=>n.isEqual(e))}class QT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Qce extends QT{data(){return super.data()}}function Kg(t,e){return"string"==typeof e?qg(t,e):e instanceof Du?e._internalPath:e._delegate._internalPath}class Jce{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new GT(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ug(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=lo(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);V(bB(r));const i=new ds(r.get(1),r.get(3)),o=new P(r.popFirst(5));return i.isEqual(n)||st(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Ts{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends QT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xg extends Su{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xg(this._firestore,this._userDataWriter,r.key,r,new Ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new Xg(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ts(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new Xg(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ts(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Zce(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class Co extends Jce{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function ele(t){t=pe(t,Gt);const e=pe(t.firestore,Be),n=mt(e),r=new Co(e);return function aj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),U$(n,t._query).then(i=>new Au(e,r,t,i))}function tle(t){return wd(pe(t.firestore,Be),[new uu(t._key,je.none())])}function nle(t,e){const n=pe(t.firestore,Be),r=q$(t),i=function JT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return wd(n,[qT(bu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function wd(t,e){return function(n,r){const i=new It;return n.asyncQueue.enqueueAndForget(g(function*(){return function sce(t,e,n){return pT.apply(this,arguments)}(yield function $T(t){return jg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}!function(t,e=!0){Xa=qo,pn(new en("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Be(new Ose(n.getProvider("auth-internal")),new Vse(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Xe(eU,"3.13.0",t),Xe(eU,"3.13.0","esm2017")}();class em{constructor(e){return e}}const gj="firestore",ZT=new U("angularfire2.firestore-instances");function mle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new em(r)}}const yle={provide:class ple{constructor(){return rC(gj)}},deps:[[new Qt,ZT]]},_le={provide:em,useFactory:function gle(t,e){const n=nC(gj,t,e);return n&&new em(n)},deps:[[new Qt,ZT],Fa]};let vle=(()=>{class t{constructor(){Xe("angularfire",$f.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({providers:[_le,yle]}),t})();function wle(t,...e){return{ngModule:vle,providers:[{provide:ZT,useFactory:mle(t),multi:!0,deps:[Fe,Un,iC,oC,[new Qt,ML],[new Qt,SC],...e]}]}}const Ile=_r(nle,!0),eS=_r(Lce,!0),Cle=_r(tle,!0),Ele=_r(q$,!0),tS=_r(ele,!0),Dle=_r(Bce,!0);let ble=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tle(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function Sle(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function Ale(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function Mle(t,e){if(1&t){const n=Ih();x(0,"div",16)(1,"div",17)(2,"h1"),z(3,"Add Task"),A(),x(4,"form",18,19),Pe("ngSubmit",function(){Fs(n);const i=function Sx(t){return Os(function Z4(){return te.lFrame.contextLView}(),Oe+t)}(5);return Ls(Bi().addData(i.value))}),x(6,"div",20)(7,"label",21),z(8,"Task Name"),A(),me(9,"br")(10,"input",22),A(),x(11,"div",23)(12,"div",20)(13,"label",21),z(14,"Status"),A(),me(15,"br"),x(16,"select",24),Rr(17,Tle,3,4,"option",25),A()(),x(18,"div",20)(19,"label",21),z(20,"Level"),A(),me(21,"br"),x(22,"select",26),Rr(23,Sle,3,4,"option",25),A()()(),x(24,"div",20)(25,"label",21),z(26,"Difficulty"),A(),me(27,"br"),x(28,"select",27),Rr(29,Ale,3,4,"option",25),A()(),x(30,"div",23)(31,"div",20)(32,"label",21),z(33,"Start Date"),A(),me(34,"br")(35,"input",28),A(),x(36,"div",20)(37,"label",21),z(38,"Due Date"),A(),me(39,"br")(40,"input",29),A()(),x(41,"div",30)(42,"button",31),z(43,"Save"),A(),x(44,"button",32),Pe("click",function(){return Fs(n),Ls(Bi().popUp())}),z(45,"Cancel"),A()()()()()}if(2&t){const n=Bi();Te(17),Qe("ngForOf",n.status),Te(6),Qe("ngForOf",n.level),Te(6),Qe("ngForOf",n.difficulty)}}function xle(t,e){if(1&t){const n=Ih();x(0,"div",11)(1,"p",34),z(2),A(),x(3,"p"),z(4),dr(5,"titlecase"),A(),x(6,"p"),z(7),dr(8,"titlecase"),A(),x(9,"p"),z(10),dr(11,"titlecase"),A(),x(12,"p"),z(13),dr(14,"titlecase"),A(),x(15,"p"),z(16),A(),x(17,"p"),z(18),A(),x(19,"div",9)(20,"button",35),Pe("click",function(){const o=Fs(n).$implicit;return Ls(Bi().editTask(o.id))}),A(),x(21,"button",36),Pe("click",function(){const o=Fs(n).$implicit;return Ls(Bi().deleteTask(o.id))}),A()()()}if(2&t){const n=e.index,r=e.$implicit;Te(2),Xt("Task Number: ",n+1,""),Te(2),Xt("Task Name: ",hr(5,7,r.taskName),""),Te(3),Xt("Status: ",hr(8,9,r.status),""),Te(3),Xt("Difficulty: ",hr(11,11,r.difficulty),""),Te(3),Xt("Level: ",hr(14,13,r.level),""),Te(3),Xt("Start Date: ",r.startDate,""),Te(2),Xt("Due Date: ",r.dueDate,"")}}function Ple(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function Rle(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function kle(t,e){if(1&t&&(x(0,"option",33),z(1),dr(2,"titlecase"),A()),2&t){const n=e.$implicit;Qe("value",n),Te(1),Xt(" ",hr(2,2,n)," ")}}function Nle(t,e){if(1&t){const n=Ih();x(0,"div",16)(1,"div",17)(2,"h1"),z(3,"Update Task"),A(),x(4,"form")(5,"div",20)(6,"label",21),z(7,"Task Name"),A(),me(8,"br")(9,"input",22),A(),x(10,"div",23)(11,"div",20)(12,"label",21),z(13,"Status"),A(),me(14,"br"),x(15,"select",24),Rr(16,Ple,3,4,"option",25),A()(),x(17,"div",20)(18,"label",21),z(19,"Level"),A(),me(20,"br"),x(21,"select",26),Rr(22,Rle,3,4,"option",25),A()()(),x(23,"div",20)(24,"label",21),z(25,"Difficulty"),A(),me(26,"br"),x(27,"select",27),Rr(28,kle,3,4,"option",25),A()(),x(29,"div",23)(30,"div",20)(31,"label",21),z(32,"Start Date"),A(),me(33,"br")(34,"input",28),A(),x(35,"div",20)(36,"label",21),z(37,"Due Date"),A(),me(38,"br")(39,"input",29),A()(),x(40,"div",30)(41,"button",31),z(42,"Update"),A(),x(43,"button",32),Pe("click",function(){return Fs(n),Ls(Bi().pop())}),z(44,"Cancel"),A()()()()()}if(2&t){const n=Bi();Te(16),Qe("ngForOf",n.status),Te(6),Qe("ngForOf",n.level),Te(6),Qe("ngForOf",n.difficulty)}}const Ole=[{path:"home-page",component:UQ},{path:"create-account",component:boe},{path:"sign-in",component:Doe},{path:"main",component:(()=>{class t{constructor(n,r,i){this.store=n,this.firestore=r,this.formGroup=i,this.addPop=!1,this.Popup=!1,this.taskId=(new Date).getTime().toString(),this.status=["pending","success","paused","not started"],this.difficulty=["very hard","medium","easy","not determined"],this.level=["completed","not completed","in progress"],this.data=[],this.taskForm=this.formGroup.group({taskName:"",status:"",level:"",difficulty:"",startDate:"",dueDate:"",id:this.taskId})}addData(n){const r=eS(this.firestore,"Task");Ile(r,n),tS(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))],alert("Added Task Successfully"),this.addPop=!this.addPop}).catch(i=>{alert("Opps an error occured => "+i)})}popUp(){this.addPop=!this.addPop}pop(){this.Popup=!this.Popup}getData(){const n=eS(this.firestore,"Task");tS(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))],console.log(this.data)})}ngOnInit(){const n=eS(this.firestore,"Task");tS(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))],console.log(this.data)})}deleteTask(n){const r=Ele(this.firestore,"Task",n);Cle(r).then(()=>{window.location.reload(),alert("Task Deleted")}).catch(i=>{alert(i)})}editTask(n){this.Popup=!this.Popup;let r=this.data.find(i=>i.id===n);console.log(r)}}return t.\u0275fac=function(n){return new(n||t)(b(ble),b(em),b(Coe))},t.\u0275cmp=Li({type:t,selectors:[["app-main"]],decls:21,vars:3,consts:[[1,"navigate"],[1,"logo"],["routerLink","/main"],[1,"nav-elements"],[1,"filter"],[1,"search"],["type","search","placeholder","Search......"],[1,"profile"],[1,"container"],[1,"buttons"],[1,"button",3,"click"],[1,"view-task"],[1,""],["class","wrapper",4,"ngIf"],[1,"context"],["class","view-task",4,"ngFor","ngForOf"],[1,"wrapper"],[1,"form-control"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-label"],["for",""],["type","text","name","taskName","ngModel","",1,"name"],[1,"form-option"],["name","status","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["name","level","ngModel",""],["name","difficulty","ngModel","",1,"difficulty"],["type","date","name","startDate","ngModel","",1,"df"],["type","date","name","dueDate","ngModel","",1,"df"],[1,"form-label","button"],["type","submit"],[1,"cancel",3,"click"],[3,"value"],[1,"head"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(n,r){1&n&&(x(0,"nav")(1,"div",0)(2,"div",1)(3,"h1",2),z(4,"Tasky"),A(),me(5,"ul",3),A(),x(6,"div",4)(7,"div",5),me(8,"input",6),A(),me(9,"div",7),A()()(),x(10,"div",8)(11,"div",9)(12,"button",10),Pe("click",function(){return r.popUp()}),z(13," Add + "),A()(),me(14,"div",11),x(15,"div",12),Rr(16,Mle,46,3,"div",13),A(),x(17,"div",14),Rr(18,xle,22,15,"div",15),A()(),x(19,"div",12),Rr(20,Nle,45,3,"div",13),A()),2&n&&(Te(16),Qe("ngIf",r.addPop),Te(2),Qe("ngForOf",r.data),Te(2),Qe("ngIf",r.Popup))},dependencies:[PR,kR,Aa,Sp,D2,T2,$a,Ap,mp,yp,fl,za,FR],styles:["nav[_ngcontent-%COMP%]{height:60px;background:white;box-shadow:1px 2px 3px #a2a2a2bc;display:block}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]{width:94%;text-align:center;position:absolute;margin:-30px 50px;display:flex;justify-content:space-between}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;padding-top:5px;font-family:Kalam,cursive;color:#0095ff;cursor:pointer}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-30px}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;list-style:none}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:22px;color:#aeaeae;margin-left:10px}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0095ff}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;width:30%;align-items:center;justify-content:space-between}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;padding:9px;width:150%;outline:none;border:none;border-radius:4px;background:rgba(191,228,255,.339)}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid rgb(0,149,255);transition:1.5s}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#0095ff}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{color:#fff;width:40px;height:40px;border-radius:50%;background:rgb(0,149,255);font-size:19px;text-align:center}nav[_ngcontent-%COMP%]   .navigate[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:10px}.button[_ngcontent-%COMP%]{background:white;color:#0095ff}.banner[_ngcontent-%COMP%]{background:red}.form-control[_ngcontent-%COMP%]{width:400px;height:470px;border:1px solid rgb(195,195,195);background:white;border-radius:8px;margin:4% auto}.form-control[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;padding:10px}.form-control[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{color:#989898;margin-left:20px}.form-control[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{display:flex}.form-control[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]   .df[_ngcontent-%COMP%]{width:80%;border:1px solid gray;border-radius:5px;font-size:17px;outline:none}.form-control[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{width:100%;margin-top:20px}.form-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:9px;font-size:17px;outline:none;border:1px solid gray;border-radius:5px;width:90%}.form-control[_ngcontent-%COMP%]   .difficulty[_ngcontent-%COMP%]{width:95%}.form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:9px;font-size:17px;border-radius:5px;outline:none;border:1px solid gray}.form-control[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:90%}.form-control[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:95%;display:flex;justify-content:space-between}.form-control[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:100%;height:90vh;background:rgba(194,194,194,.407);position:absolute;top:63px;left:0;z-index:10;cursor:pointer}.context[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:20px}.context[_ngcontent-%COMP%]   .view-task[_ngcontent-%COMP%]{width:250px;height:300px;border-radius:8px;box-shadow:1px 2px 4px 2px #9e9e9e;margin-left:20px;font-size:17px;text-align:left}.context[_ngcontent-%COMP%]   .view-task[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{padding-top:20px}.buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}"]}),t})()},{path:"",redirectTo:"/home-page",pathMatch:"full"}];let Fle=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t}),t.\u0275inj=vn({imports:[EN.forRoot(Ole),EN]}),t})(),Lle=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Li({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(n,r){1&n&&(x(0,"footer"),z(1,"copyright \xa9 Yousma 2023"),A())},styles:["footer[_ngcontent-%COMP%]{width:100%;height:6vh;position:absolute;margin:45rem auto;text-align:center;background:rgb(62,62,62);color:#fff;align-items:center;padding-top:24px;font-size:23px;font-weight:500}"]}),t})(),Vle=(()=>{class t{constructor(){this.title="task-app"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Li({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&me(0,"app-footer")(1,"router-outlet")},dependencies:[Sv,Lle]}),t})();const Ule_firebase={projectId:"tabaski",appId:"1:781662548221:web:a8bb9bf21723a819aace94",storageBucket:"tabaski.appspot.com",apiKey:"AIzaSyB2bUwPtWwT6NPPDo-S6hJQ32ykjif9izE",authDomain:"tabaski.firebaseapp.com",messagingSenderId:"781662548221",measurementId:"G-S3RLRCE4W1"};let Ble=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kn({type:t,bootstrap:[Vle]}),t.\u0275inj=vn({imports:[J7,Fle,Eoe,Oee(()=>Fee(Ule_firebase)),Iie(()=>Cie()),wle(()=>Dle())]}),t})();Y7().bootstrapModule(Ble).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=218)}]);